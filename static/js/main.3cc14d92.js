/*! For license information please see main.3cc14d92.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,I=Object.assign;function z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case C:return"Profiler";case S:return"StrictMode";case _:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function U(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=U(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=U(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,je=null,Se=null;function Ce(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Ee(e){je?Se?Se.push(e):Se=[e]:je=e}function Te(){if(je){var e=je,t=Se;if(Se=je=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Me(e,t){return e(t)}function _e(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Me(e,t,n)}finally{Ne=!1,(null!==je||null!==Se)&&(_e(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){De=!1}function Re(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,Ie=null,ze=!1,Be=null,Fe={onError:function(e){Le=!0,Ie=e}};function We(e,t,n,r,i,a,o,s,l){Le=!1,Ie=null,Re.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(a(188))}function Ue(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,jt,St,Ct,Et=!1,Tt=[],Mt=null,_t=null,Nt=null,At=new Map,Ot=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function It(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){jt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){zt(e)&&n.delete(t)}function Ft(){Et=!1,null!==Mt&&zt(Mt)&&(Mt=null),null!==_t&&zt(_t)&&(_t=null),null!==Nt&&zt(Nt)&&(Nt=null),At.forEach(Bt),Ot.forEach(Bt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return Wt(t,e)}if(0<Tt.length){Wt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Wt(Mt,e),null!==_t&&Wt(_t,e),null!==Nt&&Wt(Nt,e),At.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)It(n),null===n.blockedOn&&Dt.shift()}var Ht=x.ReactCurrentBatchConfig,qt=!0;function Ut(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function $t(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Kt(e,t,n,r){if(qt){var i=Jt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=Lt(Mt,e,t,n,r,i),!0;case"dragenter":return _t=Lt(_t,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Jt(e,t,n,r))&&qr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=yi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),fn=I({},un,{view:0,detail:0}),hn=an(fn),dn=I({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),mn=an(I({},dn,{dataTransfer:0})),vn=an(I({},fn,{relatedTarget:0})),gn=an(I({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=I({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(I({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Cn(){return Sn}var En=I({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Mn=an(I({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=an(I({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=an(I({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=I({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(An),Dn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Rn,In=c&&(!Pn||Rn&&8<Rn&&11>=Rn),zn=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Un(e,t,n,r){Ee(r),0<(t=$r(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Kn=null;function Gn(e){zr(e,0)}function Jn(e){if(K(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Kn=$n=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Un(t,Kn,e,we(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==G(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=$r(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},jr={},Sr={};function Cr(e){if(jr[e])return jr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return jr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=Cr("animationend"),Tr=Cr("animationiteration"),Mr=Cr("animationstart"),_r=Cr("transitionend"),Nr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Pr=Ar[Dr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Mr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(_r,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(We.apply(this,arguments),Le){if(!Le)throw Error(a(198));var c=Ie;Le=!1,Ie=null,ze||(ze=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Ir(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Ir(i,s,u),a=l}}}if(ze)throw e=Be,ze=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Wr]){e[Wr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var i=Ut;break;case 4:i=$t;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case Er:case Tr:case Mr:l=gn;break;case _r:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==h&&(null!=(m=Oe(p,h))&&c.push(Ur(p,m,d)))),f)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(f=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==l?s:xi(l),d=null==u?s:xi(u),(s=new c(m,p+"leave",l,n,i)).target=f,s.relatedTarget=d,m=null,yi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=d,c.relatedTarget=f,m=c),f=m,l&&u)e:{for(h=u,p=0,d=c=l;d;d=Kr(d))p++;for(d=0,m=h;m;m=Kr(m))d++;for(;0<p-d;)c=Kr(c),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==l&&Gr(o,s,l,c,!1),null!==u&&null!==f&&Gr(o,f,u,c,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Qn;else if(qn(s))if(Yn)v=or;else{v=ir;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?Un(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?xi(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(In&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Vn=!0)),0<(g=$r(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Pn&&Fn(e,t)?(e=en(),Zt=Xt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}zr(o,t)}))}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Ur(e,a,i)),null!=(a=Oe(e,t))&&r.push(Ur(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Oe(n,a))&&o.unshift(Ur(n,l,s)):i||null!=(l=Oe(n,a))&&o.push(Ur(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,mi="__reactEvents$"+fi,vi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var ki=[],ji=-1;function Si(e){return{current:e}}function Ci(e){0>ji||(e.current=ki[ji],ki[ji]=null,ji--)}function Ei(e,t){ji++,ki[ji]=e.current,e.current=t}var Ti={},Mi=Si(Ti),_i=Si(!1),Ni=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ci(_i),Ci(Mi)}function Pi(e,t,n){if(Mi.current!==Ti)throw Error(a(168));Ei(Mi,t),Ei(_i,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return I({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Mi.current,Ei(Mi,e),Ei(_i,_i.current),!0}function Ii(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ci(_i),Ci(Mi),Ei(Mi,e)):Ci(_i),Ei(_i,n)}var zi=null,Bi=!1,Fi=!1;function Wi(e){null===zi?zi=[e]:zi.push(e)}function Vi(){if(!Fi&&null!==zi){Fi=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Bi=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),Ke(Ze,Vi),i}finally{bt=t,Fi=!1}}return null}var Hi=[],qi=0,Ui=null,$i=0,Ki=[],Gi=0,Ji=null,Qi=1,Yi="";function Xi(e,t){Hi[qi++]=$i,Hi[qi++]=Ui,Ui=e,$i=t}function Zi(e,t,n){Ki[Gi++]=Qi,Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ji=e;var r=Qi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Qi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Ui;)Ui=Hi[--qi],Hi[qi]=null,$i=Hi[--qi],Hi[qi]=null;for(;e===Ji;)Ji=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null,Qi=Ki[--Gi],Ki[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Au(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Au(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ui(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=x.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,ba=null,xa=null;function wa(){xa=ba=ya=null}function ka(e){var t=ga.current;Ci(ga),e._currentValue=t}function ja(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,xa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ma(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,_a(e,r)}function _a(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ml)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_a(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,_a(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ia(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var f=i.baseState;for(o=0,c=u=l=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(d,f,h):p)||void 0===h)break e;f=I({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=d,l=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=f}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function Fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Wa={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nu(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nu(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nu(t,e,r,n),Ra(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Ha(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=Oi(t)?Ni:Mi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wa.enqueueReplaceState(t,t.state,null)}function Ua(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=Oi(t)?Ni:Mi.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Wa.enqueueReplaceState(i,i.state,null),Ia(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function $a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Iu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===j?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Ga(a)===t.type)?((r=i(t,n.props)).ref=$a(e,t,n),r.return=e,r):((r=Pu(n.type,n.key,n.props,null,e.mode,r)).ref=$a(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Iu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pu(t.type,t.key,t.props,null,e.mode,n)).ref=$a(e,null,t),n.return=e,n;case k:return(t=zu(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ru(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=d(i,f,s[m],l);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g,f=v}if(m===s.length)return n(i,f),ia&&Xi(i,m),u;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],l))&&(a=o(f,a,m),null===c?u=f:c.sibling=f,c=f);return ia&&Xi(i,m),u}for(f=r(i,f);m<s.length;m++)null!==(v=p(f,i,m,s[m],l))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),u}function v(i,s,l,u){var c=R(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=d(i,m,y.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,v),null===f?c=b:f.sibling=b,f=b,m=g}if(y.done)return n(i,m),ia&&Xi(i,v),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=h(i,y.value,u))&&(s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return ia&&Xi(i,v),c}for(m=r(i,m);!y.done;v++,y=l.next())null!==(y=p(m,i,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===j&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===j){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&Ga(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=$a(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===j?((a=Ru(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Pu(o.type,o.key,o.props,null,r.mode,l)).ref=$a(r,a,o),l.return=r,r=l)}return s(r);case k:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zu(o,r.mode,l)).return=r,r=a}return s(r);case O:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(R(o))return v(r,a,o,l);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Iu(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Qa=Ja(!0),Ya=Ja(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Za),Ei(Za,t)}function io(){Ci(Za),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no(Za.current),n=le(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ci(Za),Ci(eo))}var so=Si(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var fo=x.ReactCurrentDispatcher,ho=x.ReactCurrentBatchConfig,po=0,mo=null,vo=null,go=null,yo=!1,bo=!1,xo=0,wo=0;function ko(){throw Error(a(321))}function jo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),bo){o=0;do{if(bo=!1,xo=0,25<=o)throw Error(a(301));o+=1,go=vo=null,t.updateQueue=null,fo.current=us,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==vo&&null!==vo.next,po=0,go=vo=mo=null,yo=!1,t)throw Error(a(300));return e}function Co(){var e=0!==xo;return xo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?mo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===go?mo.memoizedState:go.next;if(null!==t)go=t,vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===go?mo.memoizedState=go=e:go=go.next=e}return go}function Mo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var f=c.lane;if((po&f)===f)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,mo.lanes|=f,Ll|=f}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Oo(e,t){var n=mo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,xs=!0),r=r.queue,qo(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Bo(9,Po.bind(null,n,r,i,t),void 0,null),null===_l)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Io(e)}function Ro(e,t,n){return n((function(){Lo(t)&&Io(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Io(e){var t=_a(e,1);null!==t&&nu(t,e,1,-1)}function zo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return To().memoizedState}function Wo(e,t,n,r){var i=Eo();mo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==vo){var o=vo.memoizedState;if(a=o.destroy,null!==r&&jo(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}mo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function Ho(e,t){return Wo(8390656,8,e,t)}function qo(e,t){return Vo(2048,8,e,t)}function Uo(e,t){return Vo(4,2,e,t)}function $o(e,t){return Vo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Ko.bind(null,t,e),n)}function Jo(){}function Qo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&jo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&jo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Ll|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ma(e,t,n,r))){nu(n,e,r,eu()),as(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ta(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ma(e,t,i,r))&&(nu(n,e,r,i=eu()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ca,useCallback:ko,useContext:ko,useEffect:ko,useImperativeHandle:ko,useInsertionEffect:ko,useLayoutEffect:ko,useMemo:ko,useReducer:ko,useRef:ko,useState:ko,useDebugValue:ko,useDeferredValue:ko,useTransition:ko,useMutableSource:ko,useSyncExternalStore:ko,useId:ko,unstable_isNewReconciler:!1},ss={readContext:Ca,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:zo,useDebugValue:Jo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=zo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===_l)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=_l.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ca,useCallback:Qo,useContext:Ca,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Uo,useLayoutEffect:$o,useMemo:Yo,useReducer:_o,useRef:Fo,useState:function(){return _o(Mo)},useDebugValue:Jo,useDeferredValue:function(e){return Xo(To(),vo.memoizedState,e)},useTransition:function(){return[_o(Mo)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},us={readContext:Ca,useCallback:Qo,useContext:Ca,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Uo,useLayoutEffect:$o,useMemo:Yo,useReducer:No,useRef:Fo,useState:function(){return No(Mo)},useDebugValue:Jo,useDeferredValue:function(e){var t=To();return null===vo?t.memoizedState=e:Xo(t,vo.memoizedState,e)},useTransition:function(){return[No(Mo)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Ul=r),hs(0,t)},n}function ms(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Qa(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Co(),null===e||xs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function js(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ou(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Du(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Ts(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Dl,Ol),Ol|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Dl,Ol),Ol|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Oi(n)?Ni:Mi.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Co(),null===e||xs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ms(e,t,n,r,i){if(Oi(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hs(e,t),Ha(t,n,r),Ua(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ca(u):u=Ai(t,u=Oi(n)?Ni:Mi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&qa(t,o,r,u),Na=!1;var h=t.memoizedState;o.state=h,Ia(t,r,o,i),l=t.memoizedState,s!==r||h!==l||_i.current||Na?("function"===typeof c&&(Fa(t,n,c,r),l=t.memoizedState),(s=Na||Va(t,n,s,r,h,l,u))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:va(t.type,s),o.props=u,f=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ca(l):l=Ai(t,l=Oi(n)?Ni:Mi.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==l)&&qa(t,o,r,l),Na=!1,h=t.memoizedState,o.state=h,Ia(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||_i.current||Na?("function"===typeof d&&(Fa(t,n,d,r),p=t.memoizedState),(u=Na||Va(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,a,i)}function _s(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ii(t,n,!1),qs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ii(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Ds,Ps,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Is(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lu(l,i,0,null),e=Ru(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Rs,e):zs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lu({mode:"visible",children:r.children},i,0,null),(o=Ru(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Qa(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Rs,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=_l)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,_a(e,i),nu(r,e,i,-1))}return mu(),Bs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Gi++]=Qi,Ki[Gi++]=Yi,Ki[Gi++]=Ji,Qi=e.id,Yi=e.overflow,Ji=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Du(r,s):(s=Ru(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i}return e=(s=e.child).sibling,i=Du(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),Qa(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ja(e.return,t,n)}function Ws(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,a);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Us(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $s(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(t),null;case 1:case 17:return Oi(t.type)&&Di(),$s(t),null;case 3:return r=t.stateNode,io(),Ci(_i),Ci(Mi),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),$s(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return $s(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Br(Rr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Q(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":$(r),Z(r,o,!0);break;case"textarea":$(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Br(Rr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Q(e,r),i=J(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=I({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ve(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Br("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $s(t),null;case 6:if(e&&null!=t.stateNode)Ps(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return $s(t),null;case 13:if(Ci(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$s(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Pl&&(Pl=3):mu())),null!==t.updateQueue&&(t.flags|=4),$s(t),null);case 4:return io(),null===e&&Vr(t.stateNode.containerInfo),$s(t),null;case 10:return ka(t.type._context),$s(t),null;case 19:if(Ci(so),null===(o=t.memoizedState))return $s(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Us(o,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Us(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Vl&&(t.flags|=128,r=!0,Us(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Us(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return $s(t),null}else 2*Ye()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Us(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):($s(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&($s(t),6&t.subtreeFlags&&(t.flags|=8192)):$s(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gs(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(_i),Ci(Mi),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(so),null;case 4:return io(),null;case 10:return ka(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=I({},i,{value:void 0}),r=I({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Qs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Su(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Su(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[mi],delete t[vi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,fl=!1;function hl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Zs(n,t);case 6:var r=cl,i=fl;cl=null,hl(e,t,n),fl=i,null!==(cl=r)&&(fl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(fl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=fl,cl=n.stateNode.containerInfo,fl=!0,hl(e,t,n),cl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Su(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,fl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));dl(o,s,i),cl=null,fl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Su(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(v){Su(e,e.return,v)}try{nl(5,e,e.return)}catch(v){Su(e,e.return,v)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){Su(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(i,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var f=u[s],h=u[s+1];"style"===f?ve(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,c)}switch(l){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){Su(e,e.return,v)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Su(e,e.return,v)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(v){Su(e,e.return,v)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Wl=Ye())),4&r&&pl(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||f,ml(t,e),Qs=c):ml(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(h=Xs=f;null!==Xs;){switch(p=(d=Xs).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Zs(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Su(r,n,v)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wl(h);continue}}null!==p?(p.return=d,Xs=p):wl(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(v){Su(e,e.return,v)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Su(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Su(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Js;var u=Qs;if(Js=o,(Qs=l)&&!u)for(Xs=i;null!==Xs;)l=(o=Xs).child,22===o.tag&&null!==o.memoizedState?kl(i):null!==l?(l.return=o,Xs=l):kl(i);for(;null!==a;)Xs=a,bl(a,t,n),a=a.sibling;Xs=i,Js=s,Qs=u}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xs=a):xl(e)}}function xl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&za(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}Qs||512&t.flags&&il(t)}catch(d){Su(t,t.return,d)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function kl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Su(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Su(t,i,l)}}var a=t.return;try{il(t)}catch(l){Su(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Su(t,o,l)}}}catch(l){Su(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var jl,Sl=Math.ceil,Cl=x.ReactCurrentDispatcher,El=x.ReactCurrentOwner,Tl=x.ReactCurrentBatchConfig,Ml=0,_l=null,Nl=null,Al=0,Ol=0,Dl=Si(0),Pl=0,Rl=null,Ll=0,Il=0,zl=0,Bl=null,Fl=null,Wl=0,Vl=1/0,Hl=null,ql=!1,Ul=null,$l=null,Kl=!1,Gl=null,Jl=0,Ql=0,Yl=null,Xl=-1,Zl=0;function eu(){return 0!==(6&Ml)?Ye():-1!==Xl?Xl:Xl=Ye()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==Al?Al&-Al:null!==ma.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nu(e,t,n,r){if(50<Ql)throw Ql=0,Yl=null,Error(a(185));gt(e,n,r),0!==(2&Ml)&&e===_l||(e===_l&&(0===(2&Ml)&&(Il|=n),4===Pl&&su(e,Al)),ru(e,r),1===n&&0===Ml&&0===(1&t.mode)&&(Vl=Ye()+500,Bi&&Vi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===_l?Al:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Bi=!0,Wi(e)}(lu.bind(null,e)):Wi(lu.bind(null,e)),oi((function(){0===(6&Ml)&&Vi()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_u(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xl=-1,Zl=0,0!==(6&Ml))throw Error(a(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=ht(e,e===_l?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=Ml;Ml|=2;var o=pu();for(_l===e&&Al===t||(Hl=null,Vl=Ye()+500,hu(e,t));;)try{yu();break}catch(l){du(e,l)}wa(),Cl.current=o,Ml=i,null!==Nl?t=0:(_l=null,Al=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t)throw n=Rl,hu(e,0),su(e,r),ru(e,Ye()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&(0!==(o=pt(e))&&(r=o,t=au(e,o))),1===t))throw n=Rl,hu(e,0),su(e,r),ru(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wu(e,Fl,Hl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Wl+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wu.bind(null,e,Fl,Hl),t);break}wu(e,Fl,Hl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(wu.bind(null,e,Fl,Hl),r);break}wu(e,Fl,Hl);break;default:throw Error(a(329))}}}return ru(e,Ye()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Fl,Fl=n,null!==t&&ou(t)),e}function ou(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function su(e,t){for(t&=~zl,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Ml))throw Error(a(327));ku();var t=ht(e,0);if(0===(1&t))return ru(e,Ye()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Rl,hu(e,0),su(e,t),ru(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Fl,Hl),ru(e,Ye()),null}function uu(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(Vl=Ye()+500,Bi&&Vi())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&Ml)&&ku();var t=Ml;Ml|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Ml=t))&&Vi()}}function fu(){Ol=Dl.current,Ci(Dl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ci(_i),Ci(Mi),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(so);break;case 10:ka(r.type._context);break;case 22:case 23:fu()}n=n.return}if(_l=e,Nl=e=Du(e.current,null),Al=Ol=t,Pl=0,Rl=null,zl=Il=Ll=0,Fl=Bl=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function du(e,t){for(;;){var n=Nl;try{if(wa(),fo.current=os,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=vo=mo=null,bo=!1,xo=0,El.current=null,null===n||null===n.return){Pl=1,Rl=t,Nl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Al,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,f=l,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&vs(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}if(0===(1&t)){vs(o,c,t),mu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,l,0,t),pa(cs(u,l));break e}}o=u=cs(u,l),4!==Pl&&(Pl=2),null===Bl?Bl=[o]:Bl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===$l||!$l.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}xu(n)}catch(x){t=x,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function pu(){var e=Cl.current;return Cl.current=os,null===e?os:e}function mu(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===_l||0===(268435455&Ll)&&0===(268435455&Il)||su(_l,Al)}function vu(e,t){var n=Ml;Ml|=2;var r=pu();for(_l===e&&Al===t||(Hl=null,hu(e,t));;)try{gu();break}catch(i){du(e,i)}if(wa(),Ml=n,Cl.current=r,null!==Nl)throw Error(a(261));return _l=null,Al=0,Pl}function gu(){for(;null!==Nl;)bu(Nl)}function yu(){for(;null!==Nl&&!Je();)bu(Nl)}function bu(e){var t=jl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?xu(e):Nl=t,El.current=null}function xu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Ol)))return void(Nl=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Pl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Pl&&(Pl=5)}function wu(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{ku()}while(null!==Gl);if(0!==(6&Ml))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===_l&&(Nl=_l=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,_u(tt,(function(){return ku(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var s=bt;bt=1;var l=Ml;Ml|=4,El.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(l=s),d===o&&++f===r&&(u=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:va(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){Su(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=tl,tl=!1}(e,n),vl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),Ml=l,bt=s,Tl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Jl=i),o=e.pendingLanes,0===o&&($l=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Ul,Ul=null,e;0!==(1&Jl)&&0!==e.tag&&ku(),o=e.pendingLanes,0!==(1&o)?e===Yl?Ql++:(Ql=0,Yl=e):Ql=0,Vi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function ku(){if(null!==Gl){var e=xt(Jl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Jl=0,0!==(6&Ml))throw Error(a(331));var i=Ml;for(Ml|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xs=c;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:nl(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xs=h;else for(;null!==Xs;){var d=(f=Xs).sibling,p=f.return;if(al(f),f===c){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xs=y;break e}Xs=o.return}}var b=e.current;for(Xs=b;null!==Xs;){var x=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Xs=x;else e:for(s=b;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Su(l,l.return,k)}if(l===s){Xs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xs=w;break e}Xs=l.return}}if(Ml=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function ju(e,t,n){e=Pa(e,t=ps(0,t=cs(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)ju(e,e,n);else for(;null!==t;){if(3===t.tag){ju(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=Pa(t,e=ms(t,e=cs(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Al&n)===n&&(4===Pl||3===Pl&&(130023424&Al)===Al&&500>Ye()-Wl?hu(e,0):zl|=n),ru(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=_a(e,t))&&(gt(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Eu(e,n)}function _u(e,t){return Ke(e,t)}function Nu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(e,t,n,r){return new Nu(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Au(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ou(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case j:return Ru(n.children,i,o,t);case S:s=8,i|=8;break;case C:return(e=Au(12,n,t,2|i)).elementType=C,e.lanes=o,e;case _:return(e=Au(13,n,t,i)).elementType=_,e.lanes=o,e;case N:return(e=Au(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Lu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case M:s=11;break e;case A:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Au(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ru(e,t,n,r){return(e=Au(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Au(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Iu(e,t,n){return(e=Au(6,e,null,t)).lanes=n,e}function zu(e,t,n){return(t=Au(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,i,a,o,s,l){return e=new Bu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Au(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Wu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vu(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ri(e,n,t)}return t}function Hu(e,t,n,r,i,a,o,s,l){return(e=Fu(n,r,!0,e,0,a,0,s,l)).context=Vu(null),n=e.current,(a=Da(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,gt(e,i,r),ru(e,r),e}function qu(e,t,n,r){var i=t.current,a=eu(),o=tu(i);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nu(e,i,o,a),Ra(e,i,o)),o}function Uu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Is(e,t,n):(Ei(so,1&so.current),null!==(e=qs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return qs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ai(t,Mi.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Wa,t.stateNode=i,i._reactInternals=t,Ua(t,r,e,n),t=_s(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===A)return 14}return 2}(r),e=va(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Ms(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=js(null,t,r,va(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:va(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:va(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Ia(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Is(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:va(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!_i.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),ja(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ja(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ca(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=va(r=t.type,t.pendingProps),js(e,t,r,i=va(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:va(r,i),Hs(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Sa(t,n),Ha(t,r,i),Ua(t,r,i,n),_s(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Gu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ju(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Uu(o);s.call(e)}}qu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Uu(o);a.call(e)}}var o=Hu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Uu(l);s.call(e)}}var l=Fu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),cu((function(){qu(t,l,n,r)})),l}(n,t,e,i,r);return Uu(o)}Qu.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qu(e,t,null,null)},Qu.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){qu(null,e,null,null)})),t[pi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&It(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ye()),0===(6&Ml)&&(Vl=Ye()+500,Vi()))}break;case 13:cu((function(){var t=_a(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Ku(e,1)}},kt=function(e){if(13===e.tag){var t=_a(e,134217728);if(null!==t)nu(t,e,134217728,eu());Ku(e,134217728)}},jt=function(e){if(13===e.tag){var t=tu(e),n=_a(e,t);if(null!==n)nu(n,e,t,eu());Ku(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=uu,_e=cu;var tc={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ee,Te,uu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(a(200));return Wu(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(a(299));var n=!1,r="",i=Gu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Ju(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ue(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},315:function(e,t,n){"use strict";t.Z=void 0;var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(791)),a=(r=n(694))&&r.__esModule?r:{default:r};function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}var m="Select...",v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?d(e):t}(this,h(t).call(this,e))).state={selected:n.parseValue(e.value,e.options)||{label:"undefined"===typeof e.placeholder?m:e.placeholder,value:""},isOpen:!1},n.dropdownRef=(0,i.createRef)(),n.mounted=!0,n.handleDocumentClick=n.handleDocumentClick.bind(d(n)),n.fireChangeEvent=n.fireChangeEvent.bind(d(n)),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,r=[{key:"componentDidUpdate",value:function(e){if(this.props.value!==e.value)if(this.props.value){var t=this.parseValue(this.props.value,this.props.options);t!==this.state.selected&&this.setState({selected:t})}else this.setState({selected:{label:"undefined"===typeof this.props.placeholder?m:this.props.placeholder,value:""}})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}},{key:"handleMouseDown",value:function(e){this.props.onFocus&&"function"===typeof this.props.onFocus&&this.props.onFocus(this.state.isOpen),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.props.disabled||this.setState({isOpen:!this.state.isOpen}))}},{key:"parseValue",value:function(e,t){var n;if("string"===typeof e)for(var r=0,i=t.length;r<i;r++)if("group"===t[r].type){var a=t[r].items.filter((function(t){return t.value===e}));a.length&&(n=a[0])}else"undefined"!==typeof t[r].value&&t[r].value===e&&(n=t[r]);return n||e}},{key:"setValue",value:function(e,t){var n={selected:{value:e,label:t},isOpen:!1};this.fireChangeEvent(n),this.setState(n)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(e){var t,n=e.value;"undefined"===typeof n&&(n=e.label||e);var r=e.label||e.value||e,o=n===this.state.selected.value||n===this.state.selected,s=(c(t={},"".concat(this.props.baseClassName,"-option"),!0),c(t,e.className,!!e.className),c(t,"is-selected",o),t),f=(0,a.default)(s),h=Object.keys(e.data||{}).reduce((function(t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,c({},"data-".concat(n),e.data[n]))}),{});return i.default.createElement("div",l({key:n,className:f,onMouseDown:this.setValue.bind(this,n,r),onClick:this.setValue.bind(this,n,r),role:"option","aria-selected":o?"true":"false"},h),r)}},{key:"buildMenu",value:function(){var e=this,t=this.props,n=t.options,r=t.baseClassName,a=n.map((function(t){if("group"===t.type){var n=i.default.createElement("div",{className:"".concat(r,"-title")},t.name),a=t.items.map((function(t){return e.renderOption(t)}));return i.default.createElement("div",{className:"".concat(r,"-group"),key:t.name,role:"listbox",tabIndex:"-1"},n,a)}return e.renderOption(t)}));return a.length?a:i.default.createElement("div",{className:"".concat(r,"-noresults")},"No options found")}},{key:"handleDocumentClick",value:function(e){this.mounted&&(this.dropdownRef.current.contains(e.target)||this.state.isOpen&&this.setState({isOpen:!1}))}},{key:"isValueSelected",value:function(){return"string"===typeof this.state.selected||""!==this.state.selected.value}},{key:"render",value:function(){var e,t,n,r,o,s=this.props,l=s.baseClassName,u=s.controlClassName,f=s.placeholderClassName,h=s.menuClassName,d=s.arrowClassName,p=s.arrowClosed,m=s.arrowOpen,v=s.className,g=this.props.disabled?"Dropdown-disabled":"",y="string"===typeof this.state.selected?this.state.selected:this.state.selected.label,b=(0,a.default)((c(e={},"".concat(l,"-root"),!0),c(e,v,!!v),c(e,"is-open",this.state.isOpen),e)),x=(0,a.default)((c(t={},"".concat(l,"-control"),!0),c(t,u,!!u),c(t,g,!!g),t)),w=(0,a.default)((c(n={},"".concat(l,"-placeholder"),!0),c(n,f,!!f),c(n,"is-selected",this.isValueSelected()),n)),k=(0,a.default)((c(r={},"".concat(l,"-menu"),!0),c(r,h,!!h),r)),j=(0,a.default)((c(o={},"".concat(l,"-arrow"),!0),c(o,d,!!d),o)),S=i.default.createElement("div",{className:w},y),C=this.state.isOpen?i.default.createElement("div",{className:k,"aria-expanded":"true"},this.buildMenu()):null;return i.default.createElement("div",{ref:this.dropdownRef,className:b},i.default.createElement("div",{className:x,onMouseDown:this.handleMouseDown.bind(this),onTouchEnd:this.handleMouseDown.bind(this),"aria-haspopup":"listbox"},S,i.default.createElement("div",{className:"".concat(l,"-arrow-wrapper")},m&&p?this.state.isOpen?m:p:i.default.createElement("span",{className:j}))),C)}}],r&&f(n.prototype,r),o&&f(n,o),t}(i.Component);v.defaultProps={baseClassName:"Dropdown"};var g=v;t.Z=g},87:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=2)}([function(e,t,n){"use strict";e.exports=n(3)},function(e,t,n){e.exports=n(5)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=l(i),o=l(n(1)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={index:0,displayText:""},n.getRawText=n.getRawText.bind(n),n.type=n.type.bind(n),n.erase=n.erase.bind(n),n.startTyping=n.startTyping.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.startTyping()}},{key:"componentWillUnmount",value:function(){this._timeout&&clearTimeout(this._timeout)}},{key:"startTyping",value:function(){var e=this;this._timeout=setTimeout((function(){e.type()}),this.props.typingDelay)}},{key:"getRawText",value:function(){var e=this.props.text;return"string"==typeof e?[e]:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}},{key:"type",value:function(){var e=this,t=this.state,n=t.index,r=t.displayText,i=this.getRawText()[n];i.length>r.length?(r=i.substr(0,r.length+1),this.setState({displayText:r},(function(){e._timeout=setTimeout((function(){e.type()}),e.props.speed)}))):this._timeout=setTimeout((function(){e.erase()}),this.props.eraseDelay)}},{key:"erase",value:function(){var e=this,t=this.state,n=t.index,r=t.displayText;0===r.length?(n=n+1===this.getRawText().length?0:n+1,this.setState({index:n},(function(){e.startTyping()}))):(r=r.substr(-r.length,r.length-1),this.setState({displayText:r},(function(){e._timeout=setTimeout((function(){e.erase()}),e.props.eraseSpeed)})))}},{key:"render",value:function(){var e=this.props,t=(e.speed,e.eraseSpeed,e.typingDelay,e.eraseDelay,e.staticText),n=(e.text,e.cursor),r=e.displayTextRenderer,i=e.cursorClassName,o=e.cursorRenderer,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["speed","eraseSpeed","typingDelay","eraseDelay","staticText","text","cursor","displayTextRenderer","cursorClassName","cursorRenderer"]),u=this.state,c=u.displayText,f=u.index;return a.default.createElement("span",l,t?a.default.createElement("span",null,t,"\xa0"):null,a.default.createElement("div",{style:{display:"inline-block"}},r?r(c,f):c),a.default.createElement(s.default,{cursor:n,cursorRenderer:o,className:i}))}}]),t}();t.default=u,u.defaultProps={speed:200,eraseSpeed:200,eraseDelay:5e3,typingDelay:2500},u.propTypes={speed:o.default.number.isRequired,eraseSpeed:o.default.number.isRequired,typingDelay:o.default.number.isRequired,eraseDelay:o.default.number.isRequired,staticText:o.default.string,text:o.default.oneOfType([o.default.arrayOf(o.default.string),o.default.string]).isRequired,cursor:o.default.string,cursorClassName:o.default.string,displayTextRenderer:o.default.func,cursorRenderer:o.default.func}},function(e,t,n){"use strict";var r=n(4),i="function"==typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function k(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=x.prototype;var j=k.prototype=new w;j.constructor=k,r(j,x.prototype),j.isPureReactComponent=!0;var S={current:null},C=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)C.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:S.current}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var _=/\/+/g,N=[];function A(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case a:case o:l=!0}}if(l)return r(i,t,""===n?"."+P(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+P(s=t[u],u);l+=e(s,c,r,i)}else if("function"==typeof(c=null===t||"object"!=typeof t?null:"function"==typeof(c=v&&t[v]||t["@@iterator"])?c:null))for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+P(s,u++),r,i);else if("object"===s)throw r=""+t,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?I(e,r,n,(function(e){return e})):null!=e&&(M(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(_,"$&/")+"/")+n)),r.push(e))}function I(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(_,"$&/")+"/"),D(e,L,t=A(t,a,r,i)),O(t)}var z={current:null};function B(){var e=z.current;if(null===e)throw Error(g(321));return e}var F={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return I(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,R,t=A(null,null,t,n)),O(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return I(e,t,null,(function(e){return e})),t},only:function(e){if(!M(e))throw Error(g(143));return e}},t.Component=x,t.Fragment=s,t.Profiler=u,t.PureComponent=k,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,n){if(null==e)throw Error(g(267,e));var i=r({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)C.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(s[u]=n[u]);if(r){o=r(n);for(var c=0;c<o.length;c++)a.call(n,o[c])&&(s[o[c]]=n[o[c]])}}return s}},function(e,t,n){"use strict";var r=n(6);function i(){}e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=s(i),o=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={display:!0},n.animateCursor=n.animateCursor.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.animateCursor()}},{key:"componentWillUnmount",value:function(){this._interval&&clearInterval(this._interval)}},{key:"animateCursor",value:function(){var e=this;this._interval=setInterval((function(){e.setState({display:!e.state.display})}),500)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cursor,r=e.cursorRenderer,i=this.state.display,o=n||"|";return a.default.createElement("span",{className:t,style:u(i)},r?r(o):o)}}]),t}();t.default=l;var u=function(){return{display:"inline-block",MsTransition:"opacity 0.5s",WebkitTransition:"opacity 0.5s",MozTransition:"opacity 0.5s",transition:"opacity 0.5s",opacity:arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?0:1}};l.propTypes={cursor:o.default.string,className:o.default.string,cursorRenderer:o.default.func}}])},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.jsx=u,t.jsxs=u},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,m(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:j.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+M(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),_(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+M(s=e[u],u);l+=_(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=_(s=s.value,t,i,c=a+M(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:j};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=j.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,h=null,d=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(v=!1,x(e),!m)if(null!==r(u))m=!0,D(k);else{var t=r(c);null!==t&&P(w,t.startTime-e)}}function k(e,n){m=!1,v&&(v=!1,y(E),E=-1),p=!0;var a=d;try{for(x(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!_());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(u)&&i(u),x(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var f=r(c);null!==f&&P(w,f.startTime-n),l=!1}return l}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,S=!1,C=null,E=-1,T=5,M=-1;function _(){return!(t.unstable_now()-M<T)}function N(){if(null!==C){var e=t.unstable_now();M=e;var n=!0;try{n=C(!0,e)}finally{n?j():(S=!1,C=null)}}else S=!1}if("function"===typeof b)j=function(){b(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=N,j=function(){O.postMessage(null)}}else j=function(){g(N,0)};function D(e){C=e,S||(S=!0,j())}function P(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(v?(y(E),E=-1):v=!0,P(w,a-o))):(e.sortIndex=s,n(u,e),m||p||(m=!0,D(k))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".98651143.chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="application:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var f=u[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],l=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkapplication=self.webpackChunkapplication||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e,t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||s(e,t)||l()}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){return function(e){if(Array.isArray(e))return o(e)}(e)||c(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function j(e){var t=x();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function S(e,t,n){return S=x()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},S.apply(null,arguments)}function C(e){var t="function"===typeof Map?new Map:void 0;return C=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return S(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,e)},C(e)}function E(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var M,_="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function A(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e){return{usr:e.state,key:e.key}}function D(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?R(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function R(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function L(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"===typeof e?e:P(e);return N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function I(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,l=a.v5Compat,u=void 0!==l&&l,c=s.history,f=e.Pop,h=null;function d(){f=e.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return t(s,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(_,d),h=e,function(){s.removeEventListener(_,d),h=null}},createHref:function(e){return n(s,e)},encodeLocation:function(e){var t=L("string"===typeof e?e:P(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;var i=D(p.location,t,n);r&&r(i,t);var a=O(i),o=p.createHref(i);try{c.pushState(a,"",o)}catch(l){s.location.assign(o)}u&&h&&h({action:f,location:p.location})},replace:function(t,n){f=e.Replace;var i=D(p.location,t,n);r&&r(i,t);var a=O(i),o=p.createHref(i);c.replaceState(a,"",o),u&&h&&h({action:f,location:p.location})},go:function(e){return c.go(e)}};return p}function z(e,t,n){void 0===n&&(n="/");var r=K(("string"===typeof t?R(t):t).pathname||"/",n);if(null==r)return null;var i=B(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=q(i[o],$(r));return a}function B(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(N(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=X([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),B(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:H(s,e.index),routesMeta:l})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=E(F(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function F(e){var t=e.split("/");if(0===t.length)return[];var n,r=a(n=t)||c(n)||s(n)||l(),i=r[0],o=r.slice(1),u=i.endsWith("?"),h=i.replace(/\?$/,"");if(0===o.length)return u?[h,""]:[h];var d=F(o.join("/")),p=[];return p.push.apply(p,f(d.map((function(e){return""===e?h:[h,e].join("/")})))),u&&p.push.apply(p,f(d)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(M||(M={}));var W=/^:\w+$/,V=function(e){return"*"===e};function H(e,t){var n=e.split("/"),r=n.length;return n.some(V)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!V(e)})).reduce((function(e,t){return e+(W.test(t)?3:""===t?1:10)}),r)}function q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=U({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:X([i,c.pathname]),pathnameBase:Z(X([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=X([i,c.pathnameBase]))}return a}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);G("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],l=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return G(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:l,pattern:e}}function $(e){try{return decodeURI(e)}catch(t){return G(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function K(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function G(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Q(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Y(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=R(e):(N(!(i=T({},e)).pathname||!i.pathname.includes("?"),J("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),J("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),J("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var l=t.length-1;if(s.startsWith("..")){for(var u=s.split("/");".."===u[0];)u.shift(),l-=1;i.pathname=u.join("/")}a=l>=0?t[l]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?R(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:ee(a),hash:te(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var X=function(e){return e.join("/").replace(/\/\/+/g,"/")},Z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ee=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},te=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ne=function(e){y(n,e);var t=j(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n)}(C(Error));var re=v((function e(t,n,r,i){h(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function ie(e){return e instanceof re}var ae=["post","put","patch","delete"],oe=(new Set(ae),["get"].concat(ae));new Set(oe),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}var le="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ue=t.useState,ce=t.useEffect,fe=t.useLayoutEffect,he=t.useDebugValue;function de(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!le(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var pe=t.createContext(null);var me=t.createContext(null);var ve=t.createContext(null);var ge=t.createContext(null);var ye=t.createContext(null);var be=t.createContext(null);var xe=t.createContext({outlet:null,matches:[]});var we=t.createContext(null);function ke(){return null!=t.useContext(be)}function je(){return ke()||N(!1),t.useContext(be).location}function Se(){ke()||N(!1);var e=t.useContext(ye),n=e.basename,r=e.navigator,i=t.useContext(xe).matches,a=je().pathname,o=JSON.stringify(Q(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);return t.useEffect((function(){s.current=!0})),t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=Y(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:X([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a])}var Ce=t.createContext(null);function Ee(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(xe).matches,a=je().pathname,o=JSON.stringify(Q(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return Y(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Te(){var e=function(){var e,n=t.useContext(we),r=De(_e.UseRouteError),i=Pe(_e.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=ie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var Me,_e,Ne=function(e){y(r,e);var n=j(r);function r(e){var t;return h(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return v(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(xe.Provider,{value:this.props.routeContext},t.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Ae(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(pe);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(xe.Provider,{value:n},i)}function Oe(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||N(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var l=o.route.id?null==a?void 0:a[o.route.id]:null,u=r?o.route.errorElement||t.createElement(Te,null):null,c=n.concat(i.slice(0,s+1)),f=function(){return t.createElement(Ae,{match:o,routeContext:{outlet:e,matches:c}},l?u:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(Ne,{location:r.location,component:u,error:l,children:f(),routeContext:{outlet:null,matches:c}}):f()}),null)}function De(e){var n=t.useContext(ve);return n||N(!1),n}function Pe(e){var n=function(e){var n=t.useContext(xe);return n||N(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||N(!1),r.route.id}!function(e){e.UseRevalidator="useRevalidator"}(Me||(Me={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(_e||(_e={}));var Re;function Le(e){return function(e){var n=t.useContext(xe).outlet;return n?t.createElement(Ce.Provider,{value:e},n):n}(e.context)}function Ie(e){N(!1)}function ze(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,l=n.navigationType,u=void 0===l?e.Pop:l,c=n.navigator,f=n.static,h=void 0!==f&&f;ke()&&N(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof s&&(s=R(s));var m=s,v=m.pathname,g=void 0===v?"/":v,y=m.search,b=void 0===y?"":y,x=m.hash,w=void 0===x?"":x,k=m.state,j=void 0===k?null:k,S=m.key,C=void 0===S?"default":S,E=t.useMemo((function(){var e=K(g,d);return null==e?null:{pathname:e,search:b,hash:w,state:j,key:C}}),[d,g,b,w,j,C]);return null==E?null:t.createElement(ye.Provider,{value:p},t.createElement(be.Provider,{children:o,value:{location:E,navigationType:u}}))}function Be(n){var r=n.children,i=n.location,a=t.useContext(me);return function(n,r){ke()||N(!1);var i,a=t.useContext(ye).navigator,o=t.useContext(ve),s=t.useContext(xe).matches,l=s[s.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/"),f=(l&&l.route,je());if(r){var h,d="string"===typeof r?R(r):r;"/"===c||(null==(h=d.pathname)?void 0:h.startsWith(c))||N(!1),i=d}else i=f;var p=i.pathname||"/",m=z(n,{pathname:"/"===c?p:p.slice(c.length)||"/"}),v=Oe(m&&m.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:X([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:X([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,o||void 0);return r&&v?t.createElement(be.Provider,{value:{location:se({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},v):v}(a&&!r?a.router.routes:We(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Re||(Re={}));var Fe=new Promise((function(){}));t.Component;function We(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Ie&&N(!1),e.props.index&&e.props.children&&N(!1);var a=[].concat(f(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=We(e.props.children,a)),r.push(o)}else r.push.apply(r,We(e.props.children,n))})),r}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function He(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ue(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),I((function(e,t){var n=R(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash;return D("",{pathname:i,search:o,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:P(t))}),(function(e,t){A("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var s=o.current,l=u(t.useState({action:s.action,location:s.location}),2),c=l[0],f=l[1];return t.useLayoutEffect((function(){return s.listen(f)}),[s]),t.createElement(ze,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:s})}var $e=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,l=e.target,u=e.to,c=e.preventScrollReset,f=He(e,qe),h=function(e,n){var r=(void 0===n?{}:n).relative;ke()||N(!1);var i=t.useContext(ye),a=i.basename,o=i.navigator,s=Ee(e,{relative:r}),l=s.hash,u=s.pathname,c=s.search,f=u;return"/"!==a&&(f="/"===u?a:X([a,u])),o.createHref({pathname:f,search:c,hash:l})}(u,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,l=r.relative,u=Se(),c=je(),f=Ee(e,{relative:l});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:P(c)===P(f);u(e,{replace:n,state:o,preventScrollReset:s,relative:l})}}),[c,u,f,a,o,i,e,s,l])}(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i});return t.createElement("a",Ve({},f,{href:h,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:l}))}));var Ke,Ge;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ke||(Ke={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ge||(Ge={}));var Je=n(184),Qe=function(){return(0,Je.jsxs)("div",{children:[(0,Je.jsxs)("div",{className:"resume-navbar",children:[(0,Je.jsx)("h3",{Style:"margin-left: 1rem",children:"R\xe9sum\xe9"}),(0,Je.jsx)("h3",{Style:"margin-right: 1rem",children:"Last Updated 7/5/22"})]}),(0,Je.jsx)("div",{Style:"display: flex",children:(0,Je.jsx)($e,{to:"/",className:"download-button",Style:"color: white; width: 6rem; margin-right: 1rem; font-size: 1.2rem",children:"Back"})})]})},Ye=function(){return(0,Je.jsx)("div",{className:"resume-body",children:(0,Je.jsx)(Qe,{})})};var Xe=function(){return(0,Je.jsxs)("div",{className:"navbar",children:[(0,Je.jsx)("h4",{className:"navbar-title",Style:"margin-bottom: 0",children:(0,Je.jsx)("i",{children:"Hi! Most people call me"})}),(0,Je.jsx)("h1",{className:"name-title",Style:"margin-top: 0",children:"\u2014 Mason Marker \u2014"})]})},Ze=function(){return(0,Je.jsxs)("div",{className:"about-div",children:[(0,Je.jsx)("h1",{children:"Who am I?"}),(0,Je.jsx)("p",{Style:"font-weight: bold;",children:"I'm a passionate and driven junior computer science major at James Madison University."}),(0,Je.jsx)("p",{children:"In entering my senior year, my yearning for knowledge continues to grow. I believe that while understanding new logical concepts in math and computer science, one can find this newly obtained logic applicable to countless ideas outside of the areas in which they have been learned."}),(0,Je.jsx)("p",{children:(0,Je.jsx)("i",{children:"Computer Science is a gateway to a better ability to apply logic to non-logical concepts."})})]})},et=function(){return(0,Je.jsx)("div",{className:"my-ventures",children:(0,Je.jsx)("h1",{children:"My Education"})})},tt=function(){return(0,Je.jsxs)("div",{className:"education",children:[(0,Je.jsx)("div",{className:"education2-div",children:(0,Je.jsx)("img",{alt:"JMU",onClick:ht,className:"education-img",src:"https://gray-wvir-prod.cdn.arcpublishing.com/resizer/LP2hwjsI6I17ybSZV5UAqVKd2ic=/1200x675/smart/filters:quality(85)/cloudfront-us-east-1.images.arcpublishing.com/gray/AL5AMJZCXBBPNOZQ7DRYAGGAYI.png"})}),(0,Je.jsxs)("div",{className:"education-desc",children:[(0,Je.jsx)("h2",{className:"no-margin",Style:"color: var(--darkpurple)",children:"James Madison University"}),(0,Je.jsx)("h3",{className:"no-margin",children:"Student - Senior"}),(0,Je.jsx)("h5",{className:"no-margin",Style:"color: var(--gray)",children:"Computer Science Major"}),(0,Je.jsx)("h5",{className:"no-margin",Style:"color: var(--gray)",children:"2019 - Present"}),(0,Je.jsx)("p",{className:"education-p",children:"In high school, I was positive I wanted to attend university with hopes for success in the medical field."}),(0,Je.jsx)("p",{className:"education-p",children:"My first semester in the biology curriculum was an experience, however did not satisfy me academically nor mentally."}),(0,Je.jsx)("p",{className:"education-p",children:"While my thirst for knowledge was high, I needed to find a major that would prove beneficial to my future, serving as not just work, but enjoyable work, and offering potential for vast expansion within the field."}),(0,Je.jsx)("p",{className:"education-p",children:"Nearly everyone in my dorm was majoring in computer science, I was the only one focused on the medical field. This most definitely swayed my decision to major in computer science, as they explained to me the seemingly endless benefits of studying computer science."}),(0,Je.jsx)("p",{className:"education-p",children:"I thought it wouldn't hurt to take a few entry level classes, and in doing so, I fell in love with the art of programming. As a kid, I would always assist my brothers, parents, and grandparents with issues they were having with any devices they owned. This made me question why I hadn't dug deeper into the intricacies of computer science earlier!"})]})]})},nt=function(){return(0,Je.jsxs)("div",{className:"my-ventures",children:[(0,Je.jsx)("h1",{children:"My Ventures"}),(0,Je.jsx)("p",{children:(0,Je.jsx)("b",{children:"In my years, I have contributed my complete efforts to several companies' visions."})})]})},rt=function(){return(0,Je.jsxs)("div",{className:"ventures-container",children:[(0,Je.jsx)(vt,{children:(0,Je.jsxs)("div",{className:"job-div",children:[(0,Je.jsx)("img",{onClick:dt,alt:"genworth",className:"ventures-img",src:"https://content.fortune.com/wp-content/uploads/2020/05/F500-2020-364-Genworth-Financial.jpg"}),(0,Je.jsxs)("div",{className:"desc-div",children:[(0,Je.jsx)("h2",{Style:"margin-bottom: 0; color: var(--darkpurple)",children:"Genworth"}),(0,Je.jsx)("h3",{className:"job-title",children:"IT Development Program Intern"}),(0,Je.jsx)("h4",{className:"job-duration",children:"May 2022 - Present"}),(0,Je.jsx)("h5",{className:"job-desc",children:"I worked as a Robotics Process Automation (RPA) engineer. I would be given briefings of business processes that needed to be automated, and I would be instructed to find an efficient and optimized way of completing these tasks by constructing virtual bots."}),(0,Je.jsx)("h5",{className:"job-desc",children:"I began the internship with little experience in intelligent automation, however quickly adapted to the several softwares assigned to me, including Automation Anywhere (A360), Power Automate, and many applications included in the Microsoft 365 Apps for Enterprise collection."})]})]})}),(0,Je.jsx)(vt,{children:(0,Je.jsxs)("div",{className:"job-div",children:[(0,Je.jsx)("img",{onClick:pt,alt:"winchester medical center",className:"ventures-img",src:"https://www.dreamweaverteam.com/wordpress/wp-content/uploads/2017/08/Winchester-Medical-Center.jpg"}),(0,Je.jsxs)("div",{className:"desc-div",children:[(0,Je.jsx)("h2",{Style:"margin-bottom: 0; color: var(--darkpurple)",children:"Winchester Medical Center"}),(0,Je.jsx)("h3",{className:"job-title",children:"Volunteer"}),(0,Je.jsx)("h4",{className:"job-duration",children:"May 2018 - August 2018"}),(0,Je.jsx)("h5",{className:"job-desc",children:"I volunteered at the Winchester Medical Center to both gain experience in the medical field and obtain volunteer hours. The experience was enjoyable, as I was able to grasp a better understanding on how roles in the medical field merge into a functional medical system."}),(0,Je.jsx)("h5",{className:"job-desc",children:"My duties included attending to emergency center patients non-medical needs while simultaneously cleaning the area, and sorting and boxing several sizes of blood vials for use by the medical professionals while following HIPAA guidelines."})]})]})}),(0,Je.jsx)(vt,{children:(0,Je.jsxs)("div",{className:"job-div",children:[(0,Je.jsx)("img",{alt:"walgreens",className:"ventures-img",src:"https://gray-kait-prod.cdn.arcpublishing.com/resizer/2MX1aIfwKyIEzosEF_uS8gkNuJM=/1200x675/smart/filters:quality(85)/cloudfront-us-east-1.images.arcpublishing.com/gray/65FAKKQDN5HR5GVLZI4KUHWIVM.jpg"}),(0,Je.jsxs)("div",{className:"desc-div",children:[(0,Je.jsx)("h2",{Style:"margin-bottom: 0; color: var(--darkpurple)",children:"Walgreens Pharmacy"}),(0,Je.jsx)("h3",{className:"job-title",children:"Pharmacy Cashier / Customer Service Associate"}),(0,Je.jsx)("h4",{className:"job-duration",children:"May 2020 - Present"}),(0,Je.jsx)("h5",{className:"job-desc",children:"My duties involved operation of a cash register and receive payment from customers in cash or credit card, accurately count and provide change to customers as required,then use the RX system to locate customer medical profiles and distribute prescribed medications accordingly while following HIPAA guidelines and maintaining constant social interaction. "})]})]})}),(0,Je.jsx)(vt,{children:(0,Je.jsxs)("div",{className:"job-div",children:[(0,Je.jsx)("img",{onClick:mt,alt:"chick-fil-a",className:"ventures-img",src:"https://live.staticflickr.com/5328/8928862580_4cd0791484.jpg"}),(0,Je.jsxs)("div",{className:"desc-div",children:[(0,Je.jsx)("h2",{Style:"margin-bottom: 0; color: var(--darkpurple)",children:"Chick-Fil-A"}),(0,Je.jsx)("h3",{className:"job-title",children:"Cashier"}),(0,Je.jsx)("h4",{className:"job-duration",children:"July 2017 - August 2018"}),(0,Je.jsx)("h5",{className:"job-desc",children:"Operated a cash register and receive payment from customers in cash or credit card, accurately count and provide change to customers as required, and follow all cash handling policies and procedures while working quickly and maintaining constant social interaction."})]})]})})]})},it=function(){return(0,Je.jsx)("div",{className:"my-services",children:(0,Je.jsx)("h1",{children:"My Projects"})})},at=function(){return(0,Je.jsxs)("div",{className:"github",children:[(0,Je.jsx)("div",{className:"job-div",Style:"margin-top: 1rem",children:(0,Je.jsx)("img",{alt:"github",className:"ventures-img",src:"https://avatars.githubusercontent.com/u/9919?s=280&v=4",Style:"height: 10rem; width: 10rem",onClick:ft})}),(0,Je.jsxs)("div",{className:"desc-div",children:[(0,Je.jsx)("h2",{Style:"margin-bottom: 0; color: var(--darkpurple)",children:"The Msn Project"}),(0,Je.jsx)("h3",{className:"job-title",children:"Github Repository"}),(0,Je.jsx)("h5",{className:"job-desc",children:"You can find nearly every side project I've ever developed on my Github. While these projects are limited to Java, each folder that can be found in my repository proves useful to nearly any project one might consider developing. With tens of thousands of lines of code, these collections can be utilized by anyone seeking their usage in their own projects."}),(0,Je.jsx)("h5",{className:"job-desc",children:"From general methods to complex neural network computation and application, my repository holds powerful tools that can be used by anyone."}),(0,Je.jsx)("h5",{className:"job-desc",children:"This repository contains, but is most definitely not limited to,"}),(0,Je.jsx)("h5",{className:"job-desc",Style:"font-weight: bold; text-align: left",children:(0,Je.jsxs)("ul",{children:[(0,Je.jsx)("li",{children:"Wide variety of self-created data structures, unoriginal and original"}),(0,Je.jsx)("li",{children:"10,000 - 15,000 lines of methods dedicated to supporting current or future projects"}),(0,Je.jsx)("li",{children:"Several original, fully capable programming languages designed for ease of programming."}),(0,Je.jsx)("li",{children:"Various levels of artificial intelligence management and application utilities involving multi-layer perceptron network construction and implementation to real world scenarios."}),(0,Je.jsx)("li",{children:"And much more!"})]})}),(0,Je.jsx)("h3",{className:"download-button",Style:"color: white; width: 5rem",onClick:ft,children:"Visit"}),(0,Je.jsx)($e,{to:"/github",className:"download-button",Style:"color: white; font-weight: bold; width: 15rem; padding: 1rem",children:"I don't want to read anymore, just show me!"})]})]})},ot=function(){return(0,Je.jsx)("div",{className:"my-ventures",children:(0,Je.jsx)("h1",{children:"My Languages"})})},st=function(){return(0,Je.jsxs)("div",{className:"languages",children:[(0,Je.jsx)(vt,{children:(0,Je.jsxs)("div",{className:"lang-desc",children:[(0,Je.jsx)("img",{alt:"Java",className:"lang-img",src:"https://www.oracle.com/oce/press/assets/CONT6C95347B9ECC40CF8E7272A74FD80BDE/native/rc24-java-logo.gif"}),(0,Je.jsx)(lt,{level:"90%",color:"darkorange",completion:"fluent"}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("p",{children:"Java was my first programming language, and was heavily used throughout my first 2 years at JMU"}),(0,Je.jsx)("p",{children:"I've accumulated an estimated 2,000 - 3,000 hours in Java development inside and outside of school, and doing so provided me with a firm grasp on programming concepts including:"}),(0,Je.jsxs)("ul",{Style:"text-align:left; font-weight: bold",children:[(0,Je.jsx)("li",{children:"Object-oriented programming"}),(0,Je.jsx)("li",{children:"Algorithmic design and optimization"}),(0,Je.jsx)("li",{children:"Importance and implementation of data structures"}),(0,Je.jsx)("li",{children:"The art of code debugging"}),(0,Je.jsx)("li",{children:"Scrum based development"}),(0,Je.jsx)("li",{children:"Unit and integration testing"}),(0,Je.jsx)("li",{children:"And many other concepts"})]}),(0,Je.jsxs)("p",{children:["Java continues to serve as the primary language in my main GitHub project,",(0,Je.jsx)("br",{}),(0,Je.jsx)("a",{href:"https://github.com/masonmarker/TheMsnProject",children:"TheMsnProject"})]})]})]})}),(0,Je.jsx)(vt,{children:(0,Je.jsxs)("div",{className:"lang-desc",children:[(0,Je.jsx)("img",{alt:"HTML/CSS/JS",className:"lang-img",Style:"padding-top: 1.2rem",src:"https://www.freepnglogos.com/uploads/html5-logo-png/html5-logo-devextreme-multi-purpose-controls-html-javascript-3.png"}),(0,Je.jsx)(lt,{level:"55%",color:"blue",completion:"intermediate"}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("p",{children:"Upon enrollment in my web development class, it became clear that website development was a large gray area for me waiting to be explored."}),(0,Je.jsx)("p",{children:"Before class had begun, I had already been informed of the concepts that would be covered in the class from some of my upper-classman friends. To get a head-start of these concepts, I undertook several front-end development projects on the side that I could use as a baseline for concepts that may be touched on when class started. The outcome of the websites were underwhelming from a user-experience perspective, however I'm happy to have been learned an incredible portion of basics concepts as well as implementation."}),(0,Je.jsx)("p",{children:"It felt great to have entered the class having a grasp on this vital area of computer science. However after discovering ReactJS, I quickly shifted away from HTML/CSS/JavaScript to React when the class concluded."})]})]})}),(0,Je.jsx)(vt,{children:(0,Je.jsxs)("div",{className:"lang-desc",children:[(0,Je.jsx)("img",{alt:"C Language",className:"lang-img",Style:"width: 10rem; padding-top: 1rem;",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/C_Programming_Language.svg/695px-C_Programming_Language.svg.png"}),(0,Je.jsx)(lt,{level:"45%",color:"lightblue",completion:"beginner - intermediate"}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("p",{children:"C has been used widely throughout my past 2 years of schooling in the computer science curriculum."}),(0,Je.jsx)("p",{children:"Though not my favorite language to code in, I believe C was vital in understanding the importance of pointers, memory management, and the use of system calls."}),(0,Je.jsx)("p",{children:"C gave me not only this vital understanding, but also diciplined me when it comes to programming. I may not solve school projects in C for days on end, coming with times when I would just want to give up. C forced me to find a way to push through and solve the problem regardless of how many hours of coding I may rack up."})]})]})}),(0,Je.jsx)(vt,{children:(0,Je.jsxs)("div",{className:"lang-desc",children:[(0,Je.jsx)("img",{alt:"Ruby",className:"lang-img",src:"https://miro.medium.com/max/540/1*7e9D-oPWPIKBe2AQv862aA.png"}),(0,Je.jsx)(lt,{level:"37%",color:"red",completion:"beginner - intermediate"}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("p",{children:"Ruby was a required language to learn in my programming languages class at JMU."}),(0,Je.jsx)("p",{children:"As an incredibly high-level language, I instantly fell in love with its simplicity as a programmer. Though short lived, my experience with Ruby has helped me understand the tradeoffs between programming languages, being that higher the level of the language, the more likely the language is to have a slower runtime than a lower level language."}),(0,Je.jsx)("p",{children:"This understanding brought to me the proper reasoning as to why languages such as C, C++, and Rust execute their programs fundamentally faster than languages such as Ruby and Python."})]})]})}),(0,Je.jsx)(vt,{children:(0,Je.jsxs)("div",{className:"lang-desc",children:[(0,Je.jsx)("img",{alt:"ReactJS",className:"lang-img",src:"https://www.datocms-assets.com/45470/1631110818-logo-react-js.png"}),(0,Je.jsx)(lt,{level:"25%",color:"#08dcfc",completion:"beginner, currently studying"}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("p",{children:"I would often ask myself,"}),(0,Je.jsx)("p",{children:(0,Je.jsx)("b",{children:'"Why does web development require several different languages?'})}),(0,Je.jsx)("p",{children:(0,Je.jsx)("b",{children:'"Why didn\'t early developers create a medium between all aspects of web development instead of a language for each?"'})}),(0,Je.jsx)("p",{children:"These questions were quickly answered as it became known to me that ReactJS was in development. As a meeting point between HTML, CSS, and JavaScript, ReactJS proved more efficient to me than utilizing the 3 independently while creating this website you're currently browsing in."}),(0,Je.jsx)("p",{children:'React is now known as "the future of web creation," and in realizing the sheer benefits of component reusability, I cannot see myself bringing my studies of React to a halt any time soon.'})]})]})}),(0,Je.jsx)(vt,{children:(0,Je.jsxs)("div",{className:"lang-desc",Style:"height: fit-content",children:[(0,Je.jsx)("img",{alt:"Rust",className:"lang-img",src:"https://blog.altabel.com/wp-content/uploads/2020/08/1.png"}),(0,Je.jsx)(lt,{level:"25%",color:"black",completion:"beginner"}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)("p",{children:"I've been wanting to learn the in's and out's of the blockchain, and I've realized I would eventually need to understand a language capable of hosting smart contracts on the blockchain."}),(0,Je.jsx)("p",{children:"After some digging, I found Rust, a generally efficient, pointer based language capable of doing exactly that. Due to my previous experience with C, I was able to quickly learn the syntax and concepts of Rust."}),(0,Je.jsx)("p",{children:"I'm not currently studying Rust, as I have other languages on my hands, however I am eager to learn more about it in the future."})]})]})})]})},lt=function(e){return(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h3",{Style:"margin: 0; text-decoration: italic; font-style: italic; font-size: 1rem; margin-bottom: .3rem",children:e.completion}),(0,Je.jsx)("hr",{className:"lang-prof",style:{width:e.level,border:"3px solid "+e.color,margin:0}})]})},ut=function(){return(0,Je.jsx)("div",{className:"footer",children:(0,Je.jsxs)("div",{className:"footer-container",children:[(0,Je.jsx)("h1",{children:"Mason Marker"}),(0,Je.jsx)("h1",{children:"2022"}),(0,Je.jsx)(ct,{name:"LinkedIn",loc:"https://www.linkedin.com/in/masonmarker/"}),(0,Je.jsx)(ct,{name:"GitHub",loc:"https://github.com/masonmarker/TheMsnProject"}),(0,Je.jsx)(ct,{name:"Instagram",loc:"https://www.instagram.com/mxs.n/"})]})})},ct=function(e){return(0,Je.jsx)("div",{onClick:function(){return t=e.loc,void(window.location.href=t);var t},className:"download-button",children:(0,Je.jsx)("h3",{Style:"color: white; letter-spacing: .05rem",children:e.name})})};function ft(){window.location.href="https://github.com/masonmarker/TheMsnProject"}function ht(){window.location.href="https://www.jmu.edu/"}function dt(){window.location.href="https://www.genworth.com/"}function pt(){window.location.href="https://www.valleyhealthlink.com/winchester-medical-center/"}function mt(){window.location.href="https://www.chick-fil-a.com/"}var vt=function(e){var n=e.children,r=t.useRef(),i=u(t.useState(!1),2),a=i[0],o=i[1];t.useEffect((function(){var e=new IntersectionObserver((function(t){try{t[0].isIntersecting&&(o(!0),e.unobserve(r.current))}catch(n){}}));try{e.observe(r.current)}catch(t){return function(){return e.unobserve(r.current)}}}),[]);try{return(0,Je.jsx)("section",{ref:r,className:a?" is-visible":"",children:n})}catch(s){return(0,Je.jsx)("div",{})}},gt=function(){return document.body.style="background: white;",(0,Je.jsxs)("div",{className:"App",children:[(0,Je.jsx)("style",{children:"@import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Poppins:wght@500;700;800&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Poppins:wght@200;500;700;800&display=swap');"}),(0,Je.jsx)(Xe,{}),(0,Je.jsx)(vt,{children:(0,Je.jsx)(Ze,{})}),(0,Je.jsx)(vt,{children:(0,Je.jsx)(et,{})}),(0,Je.jsx)(vt,{children:(0,Je.jsx)(tt,{})}),(0,Je.jsx)(vt,{children:(0,Je.jsx)(nt,{})}),(0,Je.jsx)(rt,{}),(0,Je.jsx)(vt,{children:(0,Je.jsx)(it,{})}),(0,Je.jsx)(vt,{children:(0,Je.jsx)(at,{})}),(0,Je.jsx)(vt,{children:(0,Je.jsx)(ot,{})}),(0,Je.jsx)(st,{}),(0,Je.jsx)(vt,{children:(0,Je.jsx)(ut,{})}),(0,Je.jsx)(Le,{})]})},yt=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},bt=n(87),xt=n.n(bt);function wt(e,t){var n=e.length;return e+new Array(t-n+1).join("\n")}function kt(){return(0,Je.jsxs)("div",{className:"msn2-grid",children:[(0,Je.jsx)(jt,{text:"What is MSN2?",children:(0,Je.jsxs)("ul",{className:"msn2-ul",children:[(0,Je.jsx)("li",{children:"MSNScript2 was developed to bring to light the advantages of it's predecessors, as well as incorporate safer and more optimized syntactical advantages."}),(0,Je.jsx)("li",{children:"After researching more efficient interpretation methods than that of MSNC and MSN1, MSN2 could then recursively interpret nested functions."}),(0,Je.jsx)("li",{children:"With this, capabilities of the language grew beyond that of base syntax. Pro's of having a backend language as Python and recursive interpretation grant even deepter capabilities."}),(0,Je.jsx)("li",{children:"Inspiration to continue the MSN programming language projects stemmed from the increase in public awareness involving the concept of AI and machine learning. Considering the potential of AI and complex modern day usage of AI API's by programmers, I decided to craft what could be a more easily accessible programming interface for working with API's such as these."})]})}),(0,Je.jsx)(jt,{text:"Advantages",children:(0,Je.jsxs)("ul",{className:"msn2-ul",children:[(0,Je.jsx)("li",{children:"As advertised, MSN2 offers the capability to write your own syntax to program with"}),(0,Je.jsx)("li",{children:"With countless syntactical adjustments to be made, advantages to writing code only increase"}),(0,Je.jsx)("li",{children:"MSNScript2 is a recursively interpreting language, meaning that it can now interpret nested functions"}),(0,Je.jsx)("li",{children:"Incorporates inline functions"}),(0,Je.jsx)("li",{children:"Simplified the thread / process creation mechanism"}),(0,Je.jsx)("li",{children:"Simplified starting a local HTTP server on localhost and on network IP's"}),(0,Je.jsx)("li",{children:"Simplified HTTP API service call convention (GET, POST, DELETE)"}),(0,Je.jsx)("li",{children:"Added classes"}),(0,Je.jsx)("li",{children:"More safety and confidence with dictionary setting and indexing"})]})}),(0,Je.jsx)(jt,{text:"Limitations",children:(0,Je.jsxs)("ul",{className:"msn2-ul",children:[(0,Je.jsx)("li",{children:"Though you can implement your own syntax, the syntax at which you can create is limited to your imagination beyond, but not including the base language. This means that you can create your own syntax for your personal use, however this syntax cannot involve tokens, symbols, or keywords that are already used in the base language. Finding such tokens are not difficult, its simply recommended to grasp an understanding of the base language before you should create your own."}),(0,Je.jsx)("li",{children:"Processes can only be forked in a Windows OS"}),(0,Je.jsx)("li",{children:"This language has not been massively tested, as it has 1 constributor, leaving an unbelievable amount of room for interpretation error with code variety"}),(0,Je.jsx)("li",{children:"HTTP API endpoints can only be started on localhost and local network as of 12/28/2022"})]})}),(0,Je.jsxs)(jt,{text:"Documentation",children:[(0,Je.jsxs)("ul",{className:"msn2-ul",children:[(0,Je.jsx)("li",{children:"Current documentation explains how the language works under the hood, as well as provide information regarding system calls, classes, types, threads, processes, API's, AI, and more"}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("i",{children:"MSN2"})," documentation includes tutorials with interactive programming environments to help you get started with the language"]})]}),(0,Je.jsx)($e,{to:"/msn2docs",className:"msn2-big-title",style:{color:"white",margin:0,marginTop:"4.5vh",marginBottom:"10vh",fontSize:"2rem",textDecoration:"none"},children:"Go to the docs"})]})]})}function jt(e){return(0,Je.jsxs)("div",{className:"msn2-card",children:[(0,Je.jsx)("h",{className:"msn2-small-non-typing-title",children:e.text}),e.children]})}function St(){return(0,Je.jsxs)("div",{className:"msn2-big-title-div",children:[(0,Je.jsx)("h",{className:"msn2-big-title",children:"MSNScript2"}),(0,Je.jsx)("p",{className:"msn2-big-title",style:{color:"white",marginTop:0,marginBottom:"10vh",marginLeft:"50vw",fontSize:"2vw"},children:"12/28/2022"})]})}function Ct(e){return(0,Je.jsx)(xt(),{className:"msn2-title",speed:100,eraseSpeed:25,typingDelay:50,cursor:" _",text:e.messages,style:e._style})}var Et=function(){var e='print("CODE YOUR WAY")',t='function("foo", =>(), "arg")',n='for(0, 10, "i", print())',r='thread("t1", print())',i='fork("p1", print())';return(0,Je.jsxs)("div",{className:"msn2-div",children:[(0,Je.jsx)(St,{}),(0,Je.jsx)(Ct,{messages:[e,t,n,r,i],_style:{fontSize:"3vw",marginBottom:"1rem"}}),(0,Je.jsx)(Ct,{messages:[wt('log: "CODE YOUR WAY"',e.length),wt("function foo(arg)",t.length),wt("0|10|i (print())",n.length),wt("/t print()",r.length),wt("proc p1 : print()",i.length)],_style:{fontSize:"3vw",marginBottom:"1rem"}}),(0,Je.jsx)(Ct,{messages:[wt('print "CODE YOUR WAY"',e.length),wt("func foo(arg)",t.length),wt("loop 0|10: print()",n.length),wt("thread t1: print()",r.length),wt("process: print()",i.length)],_style:{fontSize:"3vw",marginBottom:"1rem"}}),(0,Je.jsx)(Ct,{messages:[wt('disp "CODE YOUR WAY"',e.length),wt("f foo : arg",t.length),wt("FROM 0 -> 10 DO print()",n.length),wt("thrd t1 does print()",r.length),wt('proc("p1", print())',i.length)],_style:{fontSize:"3vw",marginBottom:"1rem"}}),(0,Je.jsx)(Ct,{messages:[wt("-> CODE YOUR WAY",e.length),wt("f foo : arg -> __result",t.length),wt("for -0- -10- -i- print()",n.length),wt(":t1 prnt()",r.length),wt("p p1 print()",i.length)],_style:{fontSize:"3vw"}}),(0,Je.jsx)(kt,{})]})};function Tt(){window.location.href="https://github.com/masonmarker/TheMsnProject"}var Mt=function(e){var n=e.children,r=t.useRef(),i=u(t.useState(!1),2),a=i[0],o=i[1];t.useEffect((function(){var e=new IntersectionObserver((function(t){try{t[0].isIntersecting&&(o(!0),e.unobserve(r.current))}catch(n){}}));try{e.observe(r.current)}catch(t){return function(){return e.unobserve(r.current)}}}),[]);try{return(0,Je.jsx)("section",{ref:r,className:a?" is-visible":"",children:n})}catch(s){return(0,Je.jsx)("div",{})}},_t=function(){return(0,Je.jsxs)("div",{className:"github-body",children:[(0,Je.jsx)("div",{className:"github-nav",children:(0,Je.jsxs)("div",{className:"github-nav-container",children:[(0,Je.jsx)($e,{to:"/",className:"download-button",Style:"background-color: var(--darkpurple); color: white",children:"Back"}),(0,Je.jsxs)("div",{className:"github-nav-title",children:[(0,Je.jsx)("h1",{Style:"margin-bottom: .5rem;",children:"The Msn Project"}),(0,Je.jsx)("h5",{Style:"margin-top: 0;",children:"GitHub Repository"})]}),(0,Je.jsx)("div",{className:"download-button",Style:"background-color: var(--darkpurple)",onClick:Tt,children:"Visit"})]})}),(0,Je.jsx)(Mt,{children:(0,Je.jsxs)("div",{className:"github-msnc",children:[(0,Je.jsx)("div",{className:"msnc-img"}),(0,Je.jsx)("div",{Style:"margin-left: 1rem;",children:(0,Je.jsxs)("div",{className:"github-msnc-desc",children:[(0,Je.jsx)("h1",{Style:"margin-bottom: 0",children:"MSN Code (MSNC)"}),(0,Je.jsx)("h3",{Style:"margin-top: 0",children:"Programming Language"}),(0,Je.jsx)("h4",{className:"github-msnc-h4",children:"With my desire to improve my programming ability, I was determined to challenge myself."}),(0,Je.jsx)("h4",{className:"github-msnc-h4",children:"After exploring the vast abyss of project ideas, I settled on... none of them. I had previously recognized the complexities of language creation, and I was well aware of my abilities in Java's front and back end. With this, I made the decision to make an attempt at creating a language, even if it may not follow conventional standards."}),(0,Je.jsx)("h4",{className:"github-msnc-h4",children:"Over several months, committing hundreds of hours of full-stack coding, I had slowly but surely began building a functional, object capable language using Java as a backend."}),(0,Je.jsxs)("h4",{className:"github-msnc-h4",children:["The obstacles in creating this language seemed endless, but when the baseline code became stable, the potential of the language soared. While only embedded in my GitHub, you can still code in MSN Code ",(0,Je.jsx)("a",{href:"https://github.com/masonmarker/TheMsnProject",children:"here"}),"."]}),(0,Je.jsx)("h4",{className:"github-msnc-h4",children:"The question as of 4/19/2022 remains as to whether I should continue with the concept, but for now I will do my best to repair any existing bugs. You can find a demonstration of the languages features below."})]})})]})}),(0,Je.jsx)(Mt,{children:(0,Je.jsxs)("div",{className:"msnc-vid-desc",children:[(0,Je.jsx)("h1",{children:"Demonstration"}),(0,Je.jsx)("iframe",{className:"msnc-vid",width:"560",height:"315",src:"https://www.youtube.com/embed/WRMVIQCrjL0",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})}),(0,Je.jsxs)("div",{className:"msnscript-div",children:[(0,Je.jsx)("style",{children:"@import url('https://fonts.googleapis.com/css2?family=Silkscreen:wght@700&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Rubik&display=swap');"}),(0,Je.jsx)("h1",{className:"msnscript-title",children:"MSNScript"}),(0,Je.jsxs)("div",{className:"msnscript-sub",children:[(0,Je.jsx)("h3",{Style:"margin-left: 20vw; width: 25%;",children:"MSNC 2.0"}),(0,Je.jsx)("h3",{Style:"margin-right: 20vw; width: 25%;",children:"8-19-2022"})]}),(0,Je.jsxs)("div",{className:"msnscript-desc",children:[(0,Je.jsx)("p",{children:"After contemplating further advancements of MSN Code, I decided to redevelop the language into a higher level, and less error-prone language."}),(0,Je.jsx)("p",{children:"In transferring MSNC 1.0 to a higher level language, it became clear that the cleanliness of the language could be improved by moving the backend to Python. With the transition to Python and stability of baseline code, MSNScript's versatility grew far beyond that of its predecessor."}),(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("h2",{Style:"font-size: 3rem; font-family: 'Silkscreen', cursive; color:var(--lightpurple)",children:"Changes"}),(0,Je.jsxs)("div",{className:"msnscript-imp",children:[(0,Je.jsx)("h3",{Style:"color:var(--lightpurple) ;text-align:left; margin-left: 1rem",children:"Differences from MSNC 1.0 (JAVA):"}),(0,Je.jsxs)("ul",{Style:"text-align: left",children:[(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"no longer a need for semicolons"})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"no spaces required in any syntax, script is read character by character regardless"})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"supports multiple loops / conditions on the same line"})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"supports multiple lines of code on the same LINE with ' | '"})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"strings provided their own syntax with ' \"\" '"})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"no need to declare types"})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"cleaner method syntax with ' ~ '"})}),(0,Je.jsx)("li",{children:(0,Je.jsxs)("p",{children:["loops ",(0,Je.jsx)("i",{children:"can"})," incorporate a variable with {START:END:VAR}"]})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"allows for default classes with methods, ex. Local , System"})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"improved variable and method destruction capabilities"})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"faster instruction interpretation (closer to a linear approach)"})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"better flexibility with boolean expressions"})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"one instruction can span across multiple lines with $$"})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"array's 'each' method allows for faster looping through arrays"})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("p",{children:"faster method execution with ^^^"})})]})]}),(0,Je.jsxs)("div",{className:"msnscript-code",children:[(0,Je.jsx)("h1",{Style:"margin: 0 auto; margin-bottom: 1.5rem ",children:"Try it yourself in your browser!"}),(0,Je.jsx)($e,{to:"/msnscript1",className:"download-button",Style:"color: white",children:"MSNScript"})]})]})]}),(0,Je.jsx)(Et,{})]})};function Nt(){Nt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(_){l=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new E(i||[]);return r(o,"_invoke",{value:k(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=u;var f={};function h(){}function p(){}function m(){}var v={};l(v,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(v=y);var b=m.prototype=h.prototype=Object.create(v);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var l=c(e[r],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==d(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){u.value=e,o(u)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return M()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=j(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return p.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(w.prototype),l(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),l(b,s,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function At(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function Ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){At(a,r,i,o,s,"next",e)}function s(e){At(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dt.apply(this,arguments)}function Pt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function Rt(){return Rt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Pt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Rt.apply(this,arguments)}var Lt=function(){function e(){h(this,e)}return v(e,[{key:"lineAt",value:function(e){if(e<0||e>this.length)throw new RangeError("Invalid position ".concat(e," in document of length ").concat(this.length));return this.lineInner(e,!1,1,0)}},{key:"line",value:function(e){if(e<1||e>this.lines)throw new RangeError("Invalid line number ".concat(e," in ").concat(this.lines,"-line document"));return this.lineInner(e,!0,1,0)}},{key:"replace",value:function(e,t,n){var r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),zt.from(r,this.length-(t-e)+n.length)}},{key:"append",value:function(e){return this.replace(this.length,this.length,e)}},{key:"slice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=[];return this.decompose(e,t,n,0),zt.from(n,t-e)}},{key:"eq",value:function(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;for(var t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new Vt(this),i=new Vt(e),a=t,o=t;;){if(r.next(a),i.next(a),a=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(o+=r.value.length,r.done||o>=n)return!0}}},{key:"iter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Vt(this,e)}},{key:"iterRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return new Ht(this,e,t)}},{key:"iterLines",value:function(e,t){var n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);var r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new qt(n)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){var e=[];return this.flatten(e),e}}],[{key:"of",value:function(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new It(t):zt.from(It.split(t,[])):e.empty}}]),e}(),It=function(e){y(n,e);var t=j(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt(e);return h(this,n),(r=t.call(this)).text=e,r.length=i,r}return v(n,[{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}},{key:"lineInner",value:function(e,t,n,r){for(var i=0;;i++){var a=this.text[i],o=r+a.length;if((t?n:o)>=e)return new Ut(r,o,n,a);r=o+1,n++}}},{key:"decompose",value:function(e,t,r,i){var a=e<=0&&t>=this.length?this:new n(Wt(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){var o=r.pop(),s=Ft(a.text,o.text.slice(),0,a.length);if(s.length<=32)r.push(new n(s,o.length+a.length));else{var l=s.length>>1;r.push(new n(s.slice(0,l)),new n(s.slice(l)))}}else r.push(a)}},{key:"replace",value:function(e,t,r){if(!(r instanceof n))return Rt(b(n.prototype),"replace",this).call(this,e,t,r);var i=Ft(this.text,Ft(r.text,Wt(this.text,0,e)),t),a=this.length+r.length-(t-e);return i.length<=32?new n(i,a):zt.from(n.split(i,[]),a)}},{key:"sliceString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r="",i=0,a=0;i<=t&&a<this.text.length;a++){var o=this.text[a],s=i+o.length;i>e&&a&&(r+=n),e<s&&t>i&&(r+=o.slice(Math.max(0,e-i),t-i)),i=s+1}return r}},{key:"flatten",value:function(e){var t,n=E(this.text);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"scanIdentical",value:function(){return 0}}],[{key:"split",value:function(e,t){var r,i=[],a=-1,o=E(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;i.push(s),a+=s.length+1,32==i.length&&(t.push(new n(i,a)),i=[],a=-1)}}catch(l){o.e(l)}finally{o.f()}return a>-1&&t.push(new n(i,a)),t}}]),n}(Lt),zt=function(e){y(n,e);var t=j(n);function n(e,r){var i;h(this,n),(i=t.call(this)).children=e,i.length=r,i.lines=0;var a,o=E(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.lines+=s.lines}}catch(l){o.e(l)}finally{o.f()}return i}return v(n,[{key:"lineInner",value:function(e,t,n,r){for(var i=0;;i++){var a=this.children[i],o=r+a.length,s=n+a.lines-1;if((t?s:o)>=e)return a.lineInner(e,t,n,r);r=o+1,n=s+1}}},{key:"decompose",value:function(e,t,n,r){for(var i=0,a=0;a<=t&&i<this.children.length;i++){var o=this.children[i],s=a+o.length;if(e<=s&&t>=a){var l=r&((a<=e?1:0)|(s>=t?2:0));a>=e&&s<=t&&!l?n.push(o):o.decompose(e-a,t-a,n,l)}a=s+1}}},{key:"replace",value:function(e,t,r){if(r.lines<this.lines)for(var i=0,a=0;i<this.children.length;i++){var o=this.children[i],s=a+o.length;if(e>=a&&t<=s){var l=o.replace(e-a,t-a,r),u=this.lines-o.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){var c=this.children.slice();return c[i]=l,new n(c,this.length-(t-e)+r.length)}return Rt(b(n.prototype),"replace",this).call(this,a,s,l)}a=s+1}return Rt(b(n.prototype),"replace",this).call(this,e,t,r)}},{key:"sliceString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r="",i=0,a=0;i<this.children.length&&a<=t;i++){var o=this.children[i],s=a+o.length;a>e&&i&&(r+=n),e<s&&t>a&&(r+=o.sliceString(e-a,t-a,n)),a=s+1}return r}},{key:"flatten",value:function(e){var t,n=E(this.children);try{for(n.s();!(t=n.n()).done;){t.value.flatten(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"scanIdentical",value:function(e,t){if(!(e instanceof n))return 0;for(var r=0,i=u(t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1],4),a=i[0],o=i[1],s=i[2],l=i[3];;a+=t,o+=t){if(a==s||o==l)return r;var c=this.children[a],f=e.children[o];if(c!=f)return r+c.scanIdentical(f,t);r+=c.length+1}}}],[{key:"from",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.reduce((function(e,t){return e+t.length+1}),-1),i=0,a=E(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i+=o.lines}}catch(j){a.e(j)}finally{a.f()}if(i<32){var s,l=[],u=E(e);try{for(u.s();!(s=u.n()).done;){var c=s.value;c.flatten(l)}}catch(j){u.e(j)}finally{u.f()}return new It(l,r)}var f=Math.max(32,i>>5),h=f<<1,d=f>>1,p=[],m=0,v=-1,g=[];function y(e){var t;if(e.lines>h&&e instanceof n){var r,i=E(e.children);try{for(i.s();!(r=i.n()).done;){y(r.value)}}catch(j){i.e(j)}finally{i.f()}}else e.lines>d&&(m>d||!m)?(b(),p.push(e)):e instanceof It&&m&&(t=g[g.length-1])instanceof It&&e.lines+t.lines<=32?(m+=e.lines,v+=e.length+1,g[g.length-1]=new It(t.text.concat(e.text),t.length+1+e.length)):(m+e.lines>f&&b(),m+=e.lines,v+=e.length+1,g.push(e))}function b(){0!=m&&(p.push(1==g.length?g[0]:n.from(g,v)),v=-1,m=g.length=0)}var x,w=E(e);try{for(w.s();!(x=w.n()).done;){var k=x.value;y(k)}}catch(j){w.e(j)}finally{w.f()}return b(),1==p.length?p[0]:new n(p,r)}}]),n}(Lt);function Bt(e){var t,n=-1,r=E(e);try{for(r.s();!(t=r.n()).done;){n+=t.value.length+1}}catch(i){r.e(i)}finally{r.f()}return n}function Ft(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e9,i=0,a=0,o=!0;a<e.length&&i<=r;a++){var s=e[a],l=i+s.length;l>=n&&(l>r&&(s=s.slice(0,r-i)),i<n&&(s=s.slice(n-i)),o?(t[t.length-1]+=s,o=!1):t.push(s)),i=l+1}return t}function Wt(e,t,n){return Ft(e,[""],t,n)}Lt.empty=new It([""],0);var Vt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;h(this,e),this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[n>0?1:(t instanceof It?t.text.length:t.children.length)<<1]}return v(e,[{key:"nextInner",value:function(e,t){for(this.done=this.lineBreak=!1;;){var n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],a=i>>1,o=r instanceof It?r.text.length:r.children.length;if(a==(t>0?o:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof It){var s=r.text[a+(t<0?-1:0)];if(this.offsets[n]+=t,s.length>Math.max(0,e))return this.value=0==e?s:t>0?s.slice(e):s.slice(0,s.length-e),this;e-=s.length}else{var l=r.children[a+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof It?l.text.length:l.children.length)<<1))}}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}]),e}(),Ht=function(){function e(t,n,r){h(this,e),this.value="",this.done=!1,this.cursor=new Vt(t,n>r?-1:1),this.pos=n>r?t.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}return v(e,[{key:"nextInner",value:function(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);var n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;var r=this.cursor.next(e).value;return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}},{key:"lineBreak",get:function(){return this.cursor.lineBreak&&""!=this.value}}]),e}(),qt=function(){function e(t){h(this,e),this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}return v(e,[{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.inner.next(e),n=t.done,r=t.lineBreak,i=t.value;return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}},{key:"lineBreak",get:function(){return!1}}]),e}();"undefined"!=typeof Symbol&&(Lt.prototype[Symbol.iterator]=function(){return this.iter()},Vt.prototype[Symbol.iterator]=Ht.prototype[Symbol.iterator]=qt.prototype[Symbol.iterator]=function(){return this});for(var Ut=function(){function e(t,n,r,i){h(this,e),this.from=t,this.to=n,this.number=r,this.text=i}return v(e,[{key:"length",get:function(){return this.to-this.from}}]),e}(),$t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((function(e){return e?parseInt(e,36):1})),Kt=1;Kt<$t.length;Kt++)$t[Kt]+=$t[Kt-1];function Gt(e){for(var t=1;t<$t.length;t+=2)if($t[t]>e)return $t[t-1]<=e;return!1}function Jt(e){return e>=127462&&e<=127487}function Qt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(n?Yt:Xt)(e,t,r)}function Yt(e,t,n){if(t==e.length)return t;t&&Zt(e.charCodeAt(t))&&en(e.charCodeAt(t-1))&&t--;var r=tn(e,t);for(t+=rn(r);t<e.length;){var i=tn(e,t);if(8205==r||8205==i||n&&Gt(i))t+=rn(i),r=i;else{if(!Jt(i))break;for(var a=0,o=t-2;o>=0&&Jt(tn(e,o));)a++,o-=2;if(a%2==0)break;t+=2}}return t}function Xt(e,t,n){for(;t>0;){var r=Yt(e,t-2,n);if(r<t)return r;t--}return 0}function Zt(e){return e>=56320&&e<57344}function en(e){return e>=55296&&e<56320}function tn(e,t){var n=e.charCodeAt(t);if(!en(n)||t+1==e.length)return n;var r=e.charCodeAt(t+1);return Zt(r)?r-56320+(n-55296<<10)+65536:n}function nn(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function rn(e){return e<65536?1:2}var an=/\r\n?|\n/,on=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(on||(on={})),sn=function(){function e(t){h(this,e),this.sections=t}return v(e,[{key:"length",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}},{key:"newLength",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2){var n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}},{key:"empty",get:function(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}},{key:"iterGaps",value:function(e){for(var t=0,n=0,r=0;t<this.sections.length;){var i=this.sections[t++],a=this.sections[t++];a<0?(e(n,r,i),r+=i):r+=a,n+=i}}},{key:"iterChangedRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];fn(this,e,t)}},{key:"invertedDesc",get:function(){for(var t=[],n=0;n<this.sections.length;){var r=this.sections[n++],i=this.sections[n++];i<0?t.push(r,i):t.push(i,r)}return new e(t)}},{key:"composeDesc",value:function(e){return this.empty?e:e.empty?this:dn(this,e)}},{key:"mapDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:hn(this,e,t)}},{key:"mapPos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:on.Simple,r=0,i=0,a=0;a<this.sections.length;){var o=this.sections[a++],s=this.sections[a++],l=r+o;if(s<0){if(l>e)return i+(e-r);i+=o}else{if(n!=on.Simple&&l>=e&&(n==on.TrackDel&&r<e&&l>e||n==on.TrackBefore&&r<e||n==on.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!o)return e==r||t<0?i:i+s;i+=s}r=l}if(e>r)throw new RangeError("Position ".concat(e," is out of range for changeset of length ").concat(r));return i}},{key:"touchesRange",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=0,r=0;n<this.sections.length&&r<=t;){var i=this.sections[n++],a=this.sections[n++],o=r+i;if(a>=0&&r<=t&&o>=e)return!(r<e&&o>t)||"cover";r=o}return!1}},{key:"toString",value:function(){for(var e="",t=0;t<this.sections.length;){var n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}},{key:"toJSON",value:function(){return this.sections}}],[{key:"fromJSON",value:function(t){if(!Array.isArray(t)||t.length%2||t.some((function(e){return"number"!=typeof e})))throw new RangeError("Invalid JSON representation of ChangeDesc");return new e(t)}},{key:"create",value:function(t){return new e(t)}}]),e}(),ln=function(e){y(n,e);var t=j(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).inserted=r,i}return v(n,[{key:"apply",value:function(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return fn(this,(function(t,n,r,i,a){return e=e.replace(r,r+(n-t),a)}),!1),e}},{key:"mapDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return hn(this,e,t,!0)}},{key:"invert",value:function(e){for(var t=this.sections.slice(),r=[],i=0,a=0;i<t.length;i+=2){var o=t[i],s=t[i+1];if(s>=0){t[i]=s,t[i+1]=o;for(var l=i>>1;r.length<l;)r.push(Lt.empty);r.push(o?e.slice(a,a+o):Lt.empty)}a+=o}return new n(t,r)}},{key:"compose",value:function(e){return this.empty?e:e.empty?this:dn(this,e,!0)}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:hn(this,e,t,!0)}},{key:"iterChanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];fn(this,e,t)}},{key:"desc",get:function(){return sn.create(this.sections)}},{key:"filter",value:function(e){var t=[],r=[],i=[],a=new pn(this);e:for(var o=0,s=0;;){for(var l=o==e.length?1e9:e[o++];s<l||s==l&&0==a.len;){if(a.done)break e;var u=Math.min(a.len,l-s);un(i,u,-1);var c=-1==a.ins?-1:0==a.off?a.ins:0;un(t,u,c),c>0&&cn(r,t,a.text),a.forward(u),s+=u}for(var f=e[o++];s<f;){if(a.done)break e;var h=Math.min(a.len,f-s);un(t,h,-1),un(i,h,-1==a.ins?-1:0==a.off?a.ins:0),a.forward(h),s+=h}}return{changes:new n(t,r),filtered:sn.create(i)}}},{key:"toJSON",value:function(){for(var e=[],t=0;t<this.sections.length;t+=2){var n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}}],[{key:"of",value:function(e,t,r){var i=[],a=[],o=0,s=null;function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||i.length){o<t&&un(i,t-o,-1);var r=new n(i,a);s=s?s.compose(r.map(s)):r,i=[],a=[],o=0}}return function e(u){if(Array.isArray(u)){var c,f=E(u);try{for(f.s();!(c=f.n()).done;){e(c.value)}}catch(y){f.e(y)}finally{f.f()}}else if(u instanceof n){if(u.length!=t)throw new RangeError("Mismatched change set length (got ".concat(u.length,", expected ").concat(t,")"));l(),s=s?s.compose(u.map(s)):u}else{var h=u.from,d=u.to,p=void 0===d?h:d,m=u.insert;if(h>p||h<0||p>t)throw new RangeError("Invalid change range ".concat(h," to ").concat(p," (in doc of length ").concat(t,")"));var v=m?"string"==typeof m?Lt.of(m.split(r||an)):m:Lt.empty,g=v.length;if(h==p&&0==g)return;h<o&&l(),h>o&&un(i,h-o,-1),un(i,p-h,g),cn(a,i,v),o=p}}(e),l(!s),s}},{key:"empty",value:function(e){return new n(e?[e,-1]:[],[])}},{key:"fromJSON",value:function(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");for(var t=[],r=[],i=0;i<e.length;i++){var a=e[i];if("number"==typeof a)t.push(a,-1);else{if(!Array.isArray(a)||"number"!=typeof a[0]||a.some((function(e,t){return t&&"string"!=typeof e})))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==a.length)t.push(a[0],0);else{for(;r.length<i;)r.push(Lt.empty);r[i]=Lt.of(a.slice(1)),t.push(a[0],r[i].length)}}}return new n(t,r)}},{key:"createSet",value:function(e,t){return new n(e,t)}}]),n}(sn);function un(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(0==t&&n<=0)){var i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:0==t&&0==e[i]?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}}function cn(e,t,n){if(0!=n.length){var r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(Lt.empty);e.push(n)}}}function fn(e,t,n){for(var r=e.inserted,i=0,a=0,o=0;o<e.sections.length;){var s=e.sections[o++],l=e.sections[o++];if(l<0)i+=s,a+=s;else{for(var u=i,c=a,f=Lt.empty;u+=s,c+=l,l&&r&&(f=f.append(r[o-2>>1])),!(n||o==e.sections.length||e.sections[o+1]<0);)s=e.sections[o++],l=e.sections[o++];t(i,u,a,c,f),i=u,a=c}}}function hn(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],a=r?[]:null,o=new pn(e),s=new pn(t),l=-1;;)if(-1==o.ins&&-1==s.ins){var u=Math.min(o.len,s.len);un(i,u,-1),o.forward(u),s.forward(u)}else if(s.ins>=0&&(o.ins<0||l==o.i||0==o.off&&(s.len<o.len||s.len==o.len&&!n))){var c=s.len;for(un(i,s.ins,-1);c;){var f=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=f&&(un(i,0,o.ins),a&&cn(a,i,o.text),l=o.i),o.forward(f),c-=f}s.next()}else{if(!(o.ins>=0)){if(o.done&&s.done)return a?ln.createSet(i,a):sn.create(i);throw new Error("Mismatched change set lengths")}for(var h=0,d=o.len;d;)if(-1==s.ins){var p=Math.min(d,s.len);h+=p,d-=p,s.forward(p)}else{if(!(0==s.ins&&s.len<d))break;d-=s.len,s.next()}un(i,h,l<o.i?o.ins:0),a&&l<o.i&&cn(a,i,o.text),l=o.i,o.forward(o.len-d)}}function dn(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],i=n?[]:null,a=new pn(e),o=new pn(t),s=!1;;){if(a.done&&o.done)return i?ln.createSet(r,i):sn.create(r);if(0==a.ins)un(r,a.len,0,s),a.next();else if(0!=o.len||o.done){if(a.done||o.done)throw new Error("Mismatched change set lengths");var l=Math.min(a.len2,o.len),u=r.length;if(-1==a.ins){var c=-1==o.ins?-1:o.off?0:o.ins;un(r,l,c,s),i&&c&&cn(i,r,o.text)}else-1==o.ins?(un(r,a.off?0:a.len,l,s),i&&cn(i,r,a.textBit(l))):(un(r,a.off?0:a.len,o.off?0:o.ins,s),i&&!o.off&&cn(i,r,o.text));s=(a.ins>l||o.ins>=0&&o.len>l)&&(s||r.length>u),a.forward2(l),o.forward(l)}else un(r,0,o.ins,s),i&&cn(i,r,o.text),o.next()}}var pn=function(){function e(t){h(this,e),this.set=t,this.i=0,this.next()}return v(e,[{key:"next",value:function(){var e=this.set.sections;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}},{key:"done",get:function(){return-2==this.ins}},{key:"len2",get:function(){return this.ins<0?this.len:this.ins}},{key:"text",get:function(){var e=this.set.inserted,t=this.i-2>>1;return t>=e.length?Lt.empty:e[t]}},{key:"textBit",value:function(e){var t=this.set.inserted,n=this.i-2>>1;return n>=t.length&&!e?Lt.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}},{key:"forward",value:function(e){e==this.len?this.next():(this.len-=e,this.off+=e)}},{key:"forward2",value:function(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}]),e}(),mn=function(){function e(t,n,r){h(this,e),this.from=t,this.to=n,this.flags=r}return v(e,[{key:"anchor",get:function(){return 16&this.flags?this.to:this.from}},{key:"head",get:function(){return 16&this.flags?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return 4&this.flags?-1:8&this.flags?1:0}},{key:"bidiLevel",get:function(){var e=3&this.flags;return 3==e?null:e}},{key:"goalColumn",get:function(){var e=this.flags>>5;return 33554431==e?void 0:e}},{key:"map",value:function(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.empty?n=r=t.mapPos(this.from,i):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new e(n,r,this.flags)}},{key:"extend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e<=this.anchor&&t>=this.anchor)return vn.range(e,t);var n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return vn.range(this.anchor,n)}},{key:"eq",value:function(e){return this.anchor==e.anchor&&this.head==e.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return vn.range(e.anchor,e.head)}},{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}(),vn=function(){function e(t,n){h(this,e),this.ranges=t,this.mainIndex=n}return v(e,[{key:"map",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t.empty?this:e.create(this.ranges.map((function(e){return e.map(t,n)})),this.mainIndex)}},{key:"eq",value:function(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}},{key:"main",get:function(){return this.ranges[this.mainIndex]}},{key:"asSingle",value:function(){return 1==this.ranges.length?this:new e([this.main],0)}},{key:"addRange",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.create([t].concat(this.ranges),n?0:this.mainIndex+1)}},{key:"replaceRange",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mainIndex,r=this.ranges.slice();return r[n]=t,e.create(r,this.mainIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map((function(e){return e.toJSON()})),main:this.mainIndex}}}],[{key:"fromJSON",value:function(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new e(t.ranges.map((function(e){return mn.fromJSON(e)})),t.main)}},{key:"single",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return new e([e.range(t,n)],0)}},{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0==t.length)throw new RangeError("A selection needs at least one range");for(var r=0,i=0;i<t.length;i++){var a=t[i];if(a.empty?a.from<=r:a.from<r)return e.normalized(t.slice(),n);r=a.to}return new e(t,n)}},{key:"cursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return mn.create(e,e,(0==t?0:t<0?4:8)|(null==n?3:Math.min(2,n))|(null!==r&&void 0!==r?r:33554431)<<5)}},{key:"range",value:function(e,t,n,r){var i=(null!==n&&void 0!==n?n:33554431)<<5|(null==r?3:Math.min(2,r));return t<e?mn.create(t,e,24|i):mn.create(e,t,(t>e?4:0)|i)}},{key:"normalized",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t[n];t.sort((function(e,t){return e.from-t.from})),n=t.indexOf(r);for(var i=1;i<t.length;i++){var a=t[i],o=t[i-1];if(a.empty?a.from<=o.to:a.from<o.to){var s=o.from,l=Math.max(a.to,o.to);i<=n&&n--,t.splice(--i,2,a.anchor>a.head?e.range(l,s):e.range(s,l))}}return new e(t,n)}}]),e}();function gn(e,t){var n,r=E(e.ranges);try{for(r.s();!(n=r.n()).done;){if(n.value.to>t)throw new RangeError("Selection points outside of document")}}catch(i){r.e(i)}finally{r.f()}}var yn=0,bn=function(){function e(t,n,r,i,a){h(this,e),this.combine=t,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=yn++,this.default=t([]),this.extensions="function"==typeof a?a(this):a}return v(e,[{key:"of",value:function(e){return new wn([],this,0,e)}},{key:"compute",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new wn(e,this,1,t)}},{key:"computeN",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new wn(e,this,2,t)}},{key:"from",value:function(e,t){return t||(t=function(e){return e}),this.compute([e],(function(n){return t(n.field(e))}))}}],[{key:"define",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(t.combine||function(e){return e},t.compareInput||function(e,t){return e===t},t.compare||(t.combine?function(e,t){return e===t}:xn),!!t.static,t.enables)}}]),e}();function xn(e,t){return e==t||e.length==t.length&&e.every((function(e,n){return e===t[n]}))}var wn=function(){function e(t,n,r,i){h(this,e),this.dependencies=t,this.facet=n,this.type=r,this.value=i,this.id=yn++}return v(e,[{key:"dynamicSlot",value:function(e){var t,n,r=this,i=this.value,a=this.facet.compareInput,o=this.id,s=e[o]>>1,l=2==this.type,u=!1,c=!1,f=[],h=E(this.dependencies);try{for(h.s();!(n=h.n()).done;){var d=n.value;"doc"==d?u=!0:"selection"==d?c=!0:0==(1&(null!==(t=e[d.id])&&void 0!==t?t:1))&&f.push(e[d.id])}}catch(p){h.e(p)}finally{h.f()}return{create:function(e){return e.values[s]=i(e),1},update:function(e,t){if(u&&t.docChanged||c&&(t.docChanged||t.selection)||jn(e,f)){var n=i(e);if(l?!kn(n,e.values[s],a):!a(n,e.values[s]))return e.values[s]=n,1}return 0},reconfigure:function(e,t){var n,u=t.config.address[o];if(null!=u){var c=In(t,u);if(r.dependencies.every((function(n){return n instanceof bn?t.facet(n)===e.facet(n):!(n instanceof Cn)||t.field(n,!1)==e.field(n,!1)}))||(l?kn(n=i(e),c,a):a(n=i(e),c)))return e.values[s]=c,0}else n=i(e);return e.values[s]=n,1}}}}]),e}();function kn(e,t,n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function jn(e,t){var n,r=!1,i=E(t);try{for(i.s();!(n=i.n()).done;){1&Ln(e,n.value)&&(r=!0)}}catch(a){i.e(a)}finally{i.f()}return r}var Sn=bn.define({static:!0}),Cn=function(){function e(t,n,r,i,a){h(this,e),this.id=t,this.createF=n,this.updateF=r,this.compareF=i,this.spec=a,this.provides=void 0}return v(e,[{key:"create",value:function(e){var t=this,n=e.facet(Sn).find((function(e){return e.field==t}));return((null===n||void 0===n?void 0:n.create)||this.createF)(e)}},{key:"slot",value:function(e){var t=this,n=e[this.id]>>1;return{create:function(e){return e.values[n]=t.create(e),1},update:function(e,r){var i=e.values[n],a=t.updateF(i,r);return t.compareF(i,a)?0:(e.values[n]=a,1)},reconfigure:function(e,r){return null!=r.config.address[t.id]?(e.values[n]=r.field(t),0):(e.values[n]=t.create(e),1)}}}},{key:"init",value:function(e){return[this,Sn.of({field:this,create:e})]}},{key:"extension",get:function(){return this}}],[{key:"define",value:function(t){var n=new e(yn++,t.create,t.update,t.compare||function(e,t){return e===t},t);return t.provide&&(n.provides=t.provide(n)),n}}]),e}(),En=4,Tn=3,Mn=2,_n=1;function Nn(e){return function(t){return new On(t,e)}}var An={highest:Nn(0),high:Nn(_n),default:Nn(Mn),low:Nn(Tn),lowest:Nn(En)},On=v((function e(t,n){h(this,e),this.inner=t,this.prec=n})),Dn=function(){function e(){h(this,e)}return v(e,[{key:"of",value:function(e){return new Pn(this,e)}},{key:"reconfigure",value:function(t){return e.reconfigure.of({compartment:this,extension:t})}},{key:"get",value:function(e){return e.config.compartments.get(this)}}]),e}(),Pn=v((function e(t,n){h(this,e),this.compartment=t,this.inner=n})),Rn=function(){function e(t,n,r,i,a,o){for(h(this,e),this.base=t,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=a,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}return v(e,[{key:"staticFacet",value:function(e){var t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}}],[{key:"resolve",value:function(t,n,r){var i,a=[],o=Object.create(null),s=new Map,l=E(function(e,t,n){var r=[[],[],[],[],[]],i=new Map;function a(e,o){var s=i.get(e);if(null!=s){if(s<=o)return;var l=r[s].indexOf(e);l>-1&&r[s].splice(l,1),e instanceof Pn&&n.delete(e.compartment)}if(i.set(e,o),Array.isArray(e)){var u,c=E(e);try{for(c.s();!(u=c.n()).done;){a(u.value,o)}}catch(d){c.e(d)}finally{c.f()}}else if(e instanceof Pn){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");var f=t.get(e.compartment)||e.inner;n.set(e.compartment,f),a(f,o)}else if(e instanceof On)a(e.inner,e.prec);else if(e instanceof Cn)r[o].push(e),e.provides&&a(e.provides,o);else if(e instanceof wn)r[o].push(e),e.facet.extensions&&a(e.facet.extensions,Mn);else{var h=e.extension;if(!h)throw new Error("Unrecognized extension value in extension set (".concat(e,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));a(h,o)}}return a(e,Mn),r.reduce((function(e,t){return e.concat(t)}))}(t,n,s));try{for(l.s();!(i=l.n()).done;){var u=i.value;u instanceof Cn?a.push(u):(o[u.facet.id]||(o[u.facet.id]=[])).push(u)}}catch(b){l.e(b)}finally{l.f()}for(var c=Object.create(null),f=[],h=[],d=function(){var e=m[p];c[e.id]=h.length<<1,h.push((function(t){return e.slot(t)}))},p=0,m=a;p<m.length;p++)d();var v=null===r||void 0===r?void 0:r.config.facets,g=function(){var e=o[y],t=e[0].facet,n=v&&v[y]||[];if(e.every((function(e){return 0==e.type})))if(c[t.id]=f.length<<1|1,xn(n,e))f.push(r.facet(t));else{var i=t.combine(e.map((function(e){return e.value})));f.push(r&&t.compare(i,r.facet(t))?r.facet(t):i)}else{var a,s=E(e);try{var l=function(){var e=a.value;0==e.type?(c[e.id]=f.length<<1|1,f.push(e.value)):(c[e.id]=h.length<<1,h.push((function(t){return e.dynamicSlot(t)})))};for(s.s();!(a=s.n()).done;)l()}catch(b){s.e(b)}finally{s.f()}c[t.id]=h.length<<1,h.push((function(n){return function(e,t,n){var r=n.map((function(t){return e[t.id]})),i=n.map((function(e){return e.type})),a=r.filter((function(e){return!(1&e)})),o=e[t.id]>>1;function s(e){for(var n=[],a=0;a<r.length;a++){var o=In(e,r[a]);if(2==i[a]){var s,l=E(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;n.push(u)}}catch(b){l.e(b)}finally{l.f()}}else n.push(o)}return t.combine(n)}return{create:function(e){var t,n=E(r);try{for(n.s();!(t=n.n()).done;)Ln(e,t.value)}catch(b){n.e(b)}finally{n.f()}return e.values[o]=s(e),1},update:function(e,n){if(!jn(e,a))return 0;var r=s(e);return t.compare(r,e.values[o])?0:(e.values[o]=r,1)},reconfigure:function(e,i){var a=jn(e,r),l=i.config.facets[t.id],u=i.facet(t);if(l&&!a&&xn(n,l))return e.values[o]=u,0;var c=s(e);return t.compare(c,u)?(e.values[o]=u,0):(e.values[o]=c,1)}}}(n,t,e)}))}};for(var y in o)g();return new e(t,s,h.map((function(e){return e(c)})),c,f,o)}}]),e}();function Ln(e,t){if(1&t)return 2;var n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;var i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function In(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}var zn=bn.define(),Bn=bn.define({combine:function(e){return e.some((function(e){return e}))},static:!0}),Fn=bn.define({combine:function(e){return e.length?e[0]:void 0},static:!0}),Wn=bn.define(),Vn=bn.define(),Hn=bn.define(),qn=bn.define({combine:function(e){return!!e.length&&e[0]}}),Un=function(){function e(t,n){h(this,e),this.type=t,this.value=n}return v(e,null,[{key:"define",value:function(){return new $n}}]),e}(),$n=function(){function e(){h(this,e)}return v(e,[{key:"of",value:function(e){return new Un(this,e)}}]),e}(),Kn=function(){function e(t){h(this,e),this.map=t}return v(e,[{key:"of",value:function(e){return new Gn(this,e)}}]),e}(),Gn=function(){function e(t,n){h(this,e),this.type=t,this.value=n}return v(e,[{key:"map",value:function(t){var n=this.type.map(this.value,t);return void 0===n?void 0:n==this.value?this:new e(this.type,n)}},{key:"is",value:function(e){return this.type==e}}],[{key:"define",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Kn(e.map||function(e){return e})}},{key:"mapEffects",value:function(e,t){if(!e.length)return e;var n,r=[],i=E(e);try{for(i.s();!(n=i.n()).done;){var a=n.value.map(t);a&&r.push(a)}}catch(o){i.e(o)}finally{i.f()}return r}}]),e}();Gn.reconfigure=Gn.define(),Gn.appendConfig=Gn.define();var Jn=function(){function e(t,n,r,i,a,o){h(this,e),this.startState=t,this.changes=n,this.selection=r,this.effects=i,this.annotations=a,this.scrollIntoView=o,this._doc=null,this._state=null,r&&gn(r,n.newLength),a.some((function(t){return t.type==e.time}))||(this.annotations=a.concat(e.time.of(Date.now())))}return v(e,[{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){return this._state||this.startState.applyTransaction(this),this._state}},{key:"annotation",value:function(e){var t,n=E(this.annotations);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.type==e)return r.value}}catch(i){n.e(i)}finally{n.f()}}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"reconfigured",get:function(){return this.startState.config!=this.state.config}},{key:"isUserEvent",value:function(t){var n=this.annotation(e.userEvent);return!(!n||!(n==t||n.length>t.length&&n.slice(0,t.length)==t&&"."==n[t.length]))}}],[{key:"create",value:function(t,n,r,i,a,o){return new e(t,n,r,i,a,o)}}]),e}();function Qn(e,t){for(var n=[],r=0,i=0;;){var a=void 0,o=void 0;if(r<e.length&&(i==t.length||t[i]>=e[r]))a=e[r++],o=e[r++];else{if(!(i<t.length))return n;a=t[i++],o=t[i++]}!n.length||n[n.length-1]<a?n.push(a,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function Yn(e,t,n){var r,i,a,o;return n?(i=t.changes,a=ln.empty(t.changes.length),o=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),a=e.changes.mapDesc(t.changes,!0),o=e.changes.compose(i)),{changes:o,selection:t.selection?t.selection.map(a):null===(r=e.selection)||void 0===r?void 0:r.map(i),effects:Gn.mapEffects(e.effects,i).concat(Gn.mapEffects(t.effects,a)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function Xn(e,t,n){var r=t.selection,i=tr(t.annotations);return t.userEvent&&(i=i.concat(Jn.userEvent.of(t.userEvent))),{changes:t.changes instanceof ln?t.changes:ln.of(t.changes||[],n,e.facet(Fn)),selection:r&&(r instanceof vn?r:vn.single(r.anchor,r.head)),effects:tr(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function Zn(e,t,n){var r=Xn(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(var i=1;i<t.length;i++){!1===t[i].filter&&(n=!1);var a=!!t[i].sequential;r=Yn(r,Xn(e,t[i],a?r.changes.newLength:e.doc.length),a)}var o=Jn.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){for(var t=e.startState,n=t.facet(Hn),r=e,i=n.length-1;i>=0;i--){var a=n[i](e);a&&Object.keys(a).length&&(r=Yn(r,Xn(t,a,e.changes.newLength),!0))}return r==e?e:Jn.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){var t,n=e.startState,r=!0,i=E(n.facet(Wn));try{for(i.s();!(t=i.n()).done;){var a=(0,t.value)(e);if(!1===a){r=!1;break}Array.isArray(a)&&(r=!0===r?a:Qn(r,a))}}catch(h){i.e(h)}finally{i.f()}if(!0!==r){var o,s;if(!1===r)s=e.changes.invertedDesc,o=ln.empty(n.doc.length);else{var l=e.changes.filter(r);o=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}e=Jn.create(n,o,e.selection&&e.selection.map(s),Gn.mapEffects(e.effects,s),e.annotations,e.scrollIntoView)}for(var u=n.facet(Vn),c=u.length-1;c>=0;c--){var f=u[c](e);e=f instanceof Jn?f:Array.isArray(f)&&1==f.length&&f[0]instanceof Jn?f[0]:Zn(n,tr(f),!1)}return e}(o):o)}Jn.time=Un.define(),Jn.userEvent=Un.define(),Jn.addToHistory=Un.define(),Jn.remote=Un.define();var er=[];function tr(e){return null==e?er:Array.isArray(e)?e:[e]}var nr,rr=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(rr||(rr={})),ir=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{nr=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Kv){}function ar(e){return function(t){if(!/\S/.test(t))return rr.Space;if(function(e){if(nr)return nr.test(e);for(var t=0;t<e.length;t++){var n=e[t];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||ir.test(n)))return!0}return!1}(t))return rr.Word;for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return rr.Word;return rr.Other}}var or=function(){function e(t,n,r,i,a,o){h(this,e),this.config=t,this.doc=n,this.selection=r,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=a,o&&(o._state=this);for(var s=0;s<this.config.dynamicSlots.length;s++)Ln(this,s<<1);this.computeSlot=null}return v(e,[{key:"field",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.config.address[e.id];if(null!=n)return Ln(this,n),In(this,n);if(t)throw new RangeError("Field is not present in this state")}},{key:"update",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zn(this,t,!0)}},{key:"applyTransaction",value:function(t){var n,r,i=this,a=this.config,o=a,s=o.base,l=o.compartments,u=E(t.effects);try{for(u.s();!(n=u.n()).done;){var c=n.value;c.is(Dn.reconfigure)?(a&&(l=new Map,a.compartments.forEach((function(e,t){return l.set(t,e)})),a=null),l.set(c.value.compartment,c.value.extension)):c.is(Gn.reconfigure)?(a=null,s=c.value):c.is(Gn.appendConfig)&&(a=null,s=tr(s).concat(c.value))}}catch(f){u.e(f)}finally{u.f()}a?r=t.startState.values.slice():r=new e(a=Rn.resolve(s,l,this),this.doc,this.selection,a.dynamicSlots.map((function(){return null})),(function(e,t){return t.reconfigure(e,i)}),null).values;new e(a,t.newDoc,t.newSelection,r,(function(e,n){return n.update(e,t)}),t)}},{key:"replaceSelection",value:function(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((function(t){return{changes:{from:t.from,to:t.to,insert:e},range:vn.cursor(t.from+e.length)}}))}},{key:"changeByRange",value:function(e){for(var t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],a=tr(n.effects),o=1;o<t.ranges.length;o++){for(var s=e(t.ranges[o]),l=this.changes(s.changes),u=l.map(r),c=0;c<o;c++)i[c]=i[c].map(u);var f=r.mapDesc(l,!0);i.push(s.range.map(f)),r=r.compose(u),a=Gn.mapEffects(a,u).concat(Gn.mapEffects(tr(s.effects),f))}return{changes:r,selection:vn.create(i,t.mainIndex),effects:a}}},{key:"changes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t instanceof ln?t:ln.of(t,this.doc.length,this.facet(e.lineSeparator))}},{key:"toText",value:function(t){return Lt.of(t.split(this.facet(e.lineSeparator)||an))}},{key:"sliceDoc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.doc.length;return this.doc.sliceString(e,t,this.lineBreak)}},{key:"facet",value:function(e){var t=this.config.address[e.id];return null==t?e.default:(Ln(this,t),In(this,t))}},{key:"toJSON",value:function(e){var t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(var n in e){var r=e[n];r instanceof Cn&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}},{key:"tabSize",get:function(){return this.facet(e.tabSize)}},{key:"lineBreak",get:function(){return this.facet(e.lineSeparator)||"\n"}},{key:"readOnly",get:function(){return this.facet(qn)}},{key:"phrase",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a,o=E(this.facet(e.phrases));try{for(o.s();!(a=o.n()).done;){var s=a.value;if(Object.prototype.hasOwnProperty.call(s,t)){t=s[t];break}}}catch(l){o.e(l)}finally{o.f()}return r.length&&(t=t.replace(/\$(\$|\d*)/g,(function(e,t){if("$"==t)return"$";var n=+(t||1);return!n||n>r.length?e:r[n-1]}))),t}},{key:"languageDataAt",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[],a=E(this.facet(zn));try{for(a.s();!(n=a.n()).done;){var o,s=n.value,l=E(s(this,t,r));try{for(l.s();!(o=l.n()).done;){var u=o.value;Object.prototype.hasOwnProperty.call(u,e)&&i.push(u[e])}}catch(c){l.e(c)}finally{l.f()}}}catch(c){a.e(c)}finally{a.f()}return i}},{key:"charCategorizer",value:function(e){return ar(this.languageDataAt("wordChars",e).join(""))}},{key:"wordAt",value:function(e){for(var t=this.doc.lineAt(e),n=t.text,r=t.from,i=t.length,a=this.charCategorizer(e),o=e-r,s=e-r;o>0;){var l=Qt(n,o,!1);if(a(n.slice(l,o))!=rr.Word)break;o=l}for(;s<i;){var u=Qt(n,s);if(a(n.slice(s,u))!=rr.Word)break;s=u}return o==s?null:vn.range(o+r,s+r)}}],[{key:"fromJSON",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");var i=[];if(r){var a=function(){if(Object.prototype.hasOwnProperty.call(t,o)){var e=r[o],n=t[o];i.push(e.init((function(t){return e.spec.fromJSON(n,t)})))}};for(var o in r)a()}return e.create({doc:t.doc,selection:vn.fromJSON(t.selection),extensions:n.extensions?i.concat([n.extensions]):i})}},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Rn.resolve(t.extensions||[],new Map),r=t.doc instanceof Lt?t.doc:Lt.of((t.doc||"").split(n.staticFacet(e.lineSeparator)||an)),i=t.selection?t.selection instanceof vn?t.selection:vn.single(t.selection.anchor,t.selection.head):vn.single(0);return gn(i,r.length),n.staticFacet(Bn)||(i=i.asSingle()),new e(n,r,i,n.dynamicSlots.map((function(){return null})),(function(e,t){return t.create(e)}),null)}}]),e}();function sr(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={},a=E(e);try{for(a.s();!(n=a.n()).done;)for(var o=n.value,s=0,l=Object.keys(o);s<l.length;s++){var u=l[s],c=o[u],f=i[u];if(void 0===f)i[u]=c;else if(f===c||void 0===c);else{if(!Object.hasOwnProperty.call(r,u))throw new Error("Config merge conflict for field "+u);i[u]=r[u](f,c)}}}catch(d){a.e(d)}finally{a.f()}for(var h in t)void 0===i[h]&&(i[h]=t[h]);return i}or.allowMultipleSelections=Bn,or.tabSize=bn.define({combine:function(e){return e.length?e[0]:4}}),or.lineSeparator=Fn,or.readOnly=qn,or.phrases=bn.define({compare:function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every((function(n){return e[n]==t[n]}))}}),or.languageData=zn,or.changeFilter=Wn,or.transactionFilter=Vn,or.transactionExtender=Hn,Dn.reconfigure=Gn.define();var lr=function(){function e(){h(this,e)}return v(e,[{key:"eq",value:function(e){return this==e}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return ur.create(e,t,this)}}]),e}();lr.prototype.startSide=lr.prototype.endSide=0,lr.prototype.point=!1,lr.prototype.mapMode=on.TrackDel;var ur=function(){function e(t,n,r){h(this,e),this.from=t,this.to=n,this.value=r}return v(e,null,[{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}();function cr(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}var fr=function(){function e(t,n,r,i){h(this,e),this.from=t,this.to=n,this.value=r,this.maxPoint=i}return v(e,[{key:"length",get:function(){return this.to[this.to.length-1]}},{key:"findIndex",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n?this.to:this.from,a=r,o=i.length;;){if(a==o)return a;var s=a+o>>1,l=i[s]-e||(n?this.value[s].endSide:this.value[s].startSide)-t;if(s==a)return l>=0?a:o;l>=0?o=s:a=s+1}}},{key:"between",value:function(e,t,n,r){for(var i=this.findIndex(t,-1e9,!0),a=this.findIndex(n,1e9,!1,i);i<a;i++)if(!1===r(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}},{key:"map",value:function(t,n){for(var r=[],i=[],a=[],o=-1,s=-1,l=0;l<this.value.length;l++){var u=this.value[l],c=this.from[l]+t,f=this.to[l]+t,h=void 0,d=void 0;if(c==f){var p=n.mapPos(c,u.startSide,u.mapMode);if(null==p)continue;if(h=d=p,u.startSide!=u.endSide&&(d=n.mapPos(c,u.endSide))<h)continue}else if((h=n.mapPos(c,u.startSide))>(d=n.mapPos(f,u.endSide))||h==d&&u.startSide>0&&u.endSide<=0)continue;(d-h||u.endSide-u.startSide)<0||(o<0&&(o=h),u.point&&(s=Math.max(s,d-h)),r.push(u),i.push(h-o),a.push(d-o))}return{mapped:r.length?new e(i,a,r,s):null,pos:o}}}]),e}(),hr=function(){function e(t,n,r,i){h(this,e),this.chunkPos=t,this.chunk=n,this.nextLayer=r,this.maxPoint=i}return v(e,[{key:"length",get:function(){var e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}},{key:"size",get:function(){if(this.isEmpty)return 0;var e,t=this.nextLayer.size,n=E(this.chunk);try{for(n.s();!(e=n.n()).done;){t+=e.value.value.length}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"chunkEnd",value:function(e){return this.chunkPos[e]+this.chunk[e].length}},{key:"update",value:function(t){var n=t.add,r=void 0===n?[]:n,i=t.sort,a=void 0!==i&&i,o=t.filterFrom,s=void 0===o?0:o,l=t.filterTo,u=void 0===l?this.length:l,c=t.filter;if(0==r.length&&!c)return this;if(a&&(r=r.slice().sort(cr)),this.isEmpty)return r.length?e.of(r):this;for(var f=new vr(this,null,-1).goto(0),h=0,d=[],p=new pr;f.value||h<r.length;)if(h<r.length&&(f.from-r[h].from||f.startSide-r[h].value.startSide)>=0){var m=r[h++];p.addInner(m.from,m.to,m.value)||d.push(m)}else 1==f.rangeIndex&&f.chunkIndex<this.chunk.length&&(h==r.length||this.chunkEnd(f.chunkIndex)<r[h].from)&&(!c||s>this.chunkEnd(f.chunkIndex)||u<this.chunkPos[f.chunkIndex])&&p.addChunk(this.chunkPos[f.chunkIndex],this.chunk[f.chunkIndex])?f.nextChunk():((!c||s>f.to||u<f.from||c(f.from,f.to,f.value))&&(p.addInner(f.from,f.to,f.value)||d.push(ur.create(f.from,f.to,f.value))),f.next());return p.finishInner(this.nextLayer.isEmpty&&!d.length?e.empty:this.nextLayer.update({add:d,filter:c,filterFrom:s,filterTo:u}))}},{key:"map",value:function(t){if(t.empty||this.isEmpty)return this;for(var n=[],r=[],i=-1,a=0;a<this.chunk.length;a++){var o=this.chunkPos[a],s=this.chunk[a],l=t.touchesRange(o,o+s.length);if(!1===l)i=Math.max(i,s.maxPoint),n.push(s),r.push(t.mapPos(o));else if(!0===l){var u=s.map(o,t),c=u.mapped,f=u.pos;c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(f))}}var h=this.nextLayer.map(t);return 0==n.length?h:new e(r,n,h||e.empty,i)}},{key:"between",value:function(e,t,n){if(!this.isEmpty){for(var r=0;r<this.chunk.length;r++){var i=this.chunkPos[r],a=this.chunk[r];if(t>=i&&e<=i+a.length&&!1===a.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}},{key:"iter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return gr.from([this]).goto(e)}},{key:"isEmpty",get:function(){return this.nextLayer==this}}],[{key:"create",value:function(t,n,r,i){return new e(t,n,r,i)}},{key:"iter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return gr.from(e).goto(t)}},{key:"compare",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=e.filter((function(e){return e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i})),o=t.filter((function(e){return e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i})),s=mr(a,o,n),l=new br(a,s,i),u=new br(o,s,i);n.iterGaps((function(e,t,n){return xr(l,e,u,t,n,r)})),n.empty&&0==n.length&&xr(l,0,u,0,0,r)}},{key:"eq",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;null==r&&(r=999999999);var i=e.filter((function(e){return!e.isEmpty&&t.indexOf(e)<0})),a=t.filter((function(t){return!t.isEmpty&&e.indexOf(t)<0}));if(i.length!=a.length)return!1;if(!i.length)return!0;for(var o=mr(i,a),s=new br(i,o,0).goto(n),l=new br(a,o,0).goto(n);;){if(s.to!=l.to||!wr(s.active,l.active)||s.point&&(!l.point||!s.point.eq(l.point)))return!1;if(s.to>r)return!0;s.next(),l.next()}}},{key:"spans",value:function(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=new br(e,null,i).goto(t),o=t,s=a.openStart;;){var l=Math.min(a.to,n);if(a.point){var u=a.activeForPoint(a.to),c=a.pointFrom<t?u.length+1:Math.min(u.length,s);r.point(o,l,a.point,u,c,a.pointRank),s=Math.min(a.openEnd(l),u.length)}else l>o&&(r.span(o,l,a.active,s),s=a.openEnd(l));if(a.to>n)return s+(a.point&&a.to>n?1:0);o=a.to,a.next()}}},{key:"of",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new pr,i=E(e instanceof ur?[e]:n?dr(e):e);try{for(i.s();!(t=i.n()).done;){var a=t.value;r.add(a.from,a.to,a.value)}}catch(o){i.e(o)}finally{i.f()}return r.finish()}}]),e}();function dr(e){if(e.length>1)for(var t=e[0],n=1;n<e.length;n++){var r=e[n];if(cr(t,r)>0)return e.slice().sort(cr);t=r}return e}hr.empty=new hr([],[],null,-1),hr.empty.nextLayer=hr.empty;var pr=function(){function e(){h(this,e),this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}return v(e,[{key:"finishChunk",value:function(e){this.chunks.push(new fr(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(t,n,r){this.addInner(t,n,r)||(this.nextLayer||(this.nextLayer=new e)).add(t,n,r)}},{key:"addInner",value:function(e,t,n){var r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}},{key:"addChunk",value:function(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);var n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}},{key:"finish",value:function(){return this.finishInner(hr.empty)}},{key:"finishInner",value:function(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;var t=hr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}]),e}();function mr(e,t,n){var r,i=new Map,a=E(e);try{for(a.s();!(r=a.n()).done;)for(var o=r.value,s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&i.set(o.chunk[s],o.chunkPos[s])}catch(p){a.e(p)}finally{a.f()}var l,u=new Set,c=E(t);try{for(c.s();!(l=c.n()).done;)for(var f=l.value,h=0;h<f.chunk.length;h++){var d=i.get(f.chunk[h]);null==d||(n?n.mapPos(d):d)!=f.chunkPos[h]||(null===n||void 0===n?void 0:n.touchesRange(d,d+f.chunk[h].length))||u.add(f.chunk[h])}}catch(p){c.e(p)}finally{c.f()}return u}var vr=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;h(this,e),this.layer=t,this.skip=n,this.minPoint=r,this.rank=i}return v(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}},{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}},{key:"gotoInner",value:function(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){var r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){var i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}},{key:"forward",value:function(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}},{key:"next",value:function(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}var e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"setRangeIndex",value:function(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}},{key:"nextChunk",value:function(){this.chunkIndex++,this.rangeIndex=0,this.next()}},{key:"compare",value:function(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}]),e}(),gr=function(){function e(t){h(this,e),this.heap=t}return v(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"goto",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9,r=E(this.heap);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.goto(e,n)}}catch(o){r.e(o)}finally{r.f()}for(var a=this.heap.length>>1;a>=0;a--)yr(this.heap,a);return this.next(),this}},{key:"forward",value:function(e,t){var n,r=E(this.heap);try{for(r.s();!(n=r.n()).done;){n.value.forward(e,t)}}catch(a){r.e(a)}finally{r.f()}for(var i=this.heap.length>>1;i>=0;i--)yr(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}},{key:"next",value:function(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{var e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),yr(this.heap,0)}}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[],a=0;a<t.length;a++)for(var o=t[a];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new vr(o,n,r,a));return 1==i.length?i[0]:new e(i)}}]),e}();function yr(e,t){for(var n=e[t];;){var r=1+(t<<1);if(r>=e.length)break;var i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}var br=function(){function e(t,n,r){h(this,e),this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=gr.from(t,n,r)}return v(e,[{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}},{key:"forward",value:function(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}},{key:"removeActive",value:function(e){kr(this.active,e),kr(this.activeTo,e),kr(this.activeRank,e),this.minActive=Sr(this.active,this.activeTo)}},{key:"addActive",value:function(e){for(var t=0,n=this.cursor,r=n.value,i=n.to,a=n.rank;t<this.activeRank.length&&this.activeRank[t]<=a;)t++;jr(this.active,t,r),jr(this.activeTo,t,i),jr(this.activeRank,t,a),e&&jr(e,t,this.cursor.from),this.minActive=Sr(this.active,this.activeTo)}},{key:"next",value:function(){var e=this.to,t=this.point;this.point=null;for(var n=this.openStart<0?[]:null;;){var r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&kr(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}var i=this.cursor.value;if(i.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}if(n){this.openStart=0;for(var a=n.length-1;a>=0&&n[a]<e;a--)this.openStart++}}},{key:"activeForPoint",value:function(e){if(!this.active.length)return this.active;for(var t=[],n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}},{key:"openEnd",value:function(e){for(var t=0,n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}]),e}();function xr(e,t,n,r,i,a){e.goto(t),n.goto(r);for(var o=r+i,s=r,l=r-t;;){var u=e.to+l-n.to||e.endSide-n.endSide,c=u<0?e.to+l:n.to,f=Math.min(c,o);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&wr(e.activeForPoint(e.to+l),n.activeForPoint(n.to))||a.comparePoint(s,f,e.point,n.point):f>s&&!wr(e.active,n.active)&&a.compareRange(s,f,e.active,n.active),c>o)break;s=c,u<=0&&e.next(),u>=0&&n.next()}}function wr(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function kr(e,t){for(var n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function jr(e,t,n){for(var r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function Sr(e,t){for(var n=-1,r=1e9,i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function Cr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,i=0;i<n;)9==e.charCodeAt(i)?(r+=t-r%t,i++):(r++,i=Qt(e,i));return r}function Er(e,t,n,r){for(var i=0,a=0;;){if(a>=t)return i;if(i==e.length)break;a+=9==e.charCodeAt(i)?n-a%n:1,i=Qt(e,i)}return!0===r?-1:e.length}for(var Tr="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),Mr="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),_r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{},Nr=function(){function e(t,n){h(this,e),this.rules=[];var r=(n||{}).finish;function i(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function a(e,t,n,o){var s=[],l=/^@(\w+)\b/.exec(e[0]),u=l&&"keyframes"==l[1];if(l&&null==t)return n.push(e[0]+";");for(var c in t){var f=t[c];if(/&/.test(c))a(c.split(/,\s*/).map((function(t){return e.map((function(e){return t.replace(/&/,e)}))})).reduce((function(e,t){return e.concat(t)})),f,n);else if(f&&"object"==typeof f){if(!l)throw new RangeError("The value of a property ("+c+") should be a primitive value.");a(i(c),f,s,u)}else null!=f&&s.push(c.replace(/_.*/,"").replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))+": "+f+";")}(s.length||u)&&n.push((!r||l||o?e:e.map(r)).join(", ")+" {"+s.join(" ")+"}")}for(var o in t)a(i(o),t[o],this.rules)}return v(e,[{key:"getRules",value:function(){return this.rules.join("\n")}}],[{key:"newName",value:function(){var e=_r[Tr]||1;return _r[Tr]=e+1,"\u037c"+e.toString(36)}},{key:"mount",value:function(e,t){(e[Mr]||new Or(e)).mount(Array.isArray(t)?t:[t])}}]),e}(),Ar=null,Or=function(){function e(t){if(h(this,e),!t.head&&t.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Ar)return t.adoptedStyleSheets=[Ar.sheet].concat(t.adoptedStyleSheets),t[Mr]=Ar;this.sheet=new CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets),Ar=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");var n=t.head||t;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],t[Mr]=this}return v(e,[{key:"mount",value:function(e){for(var t=this.sheet,n=0,r=0,i=0;i<e.length;i++){var a=e[i],o=this.modules.indexOf(a);if(o<r&&o>-1&&(this.modules.splice(o,1),r--,o=-1),-1==o){if(this.modules.splice(r++,0,a),t)for(var s=0;s<a.rules.length;s++)t.insertRule(a.rules[s],n++)}else{for(;r<o;)n+=this.modules[r++].rules.length;n+=a.rules.length,r++}}if(!t){for(var l="",u=0;u<this.modules.length;u++)l+=this.modules[u].getRules()+"\n";this.styleTag.textContent=l}}}]),e}(),Dr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Pr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Rr="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Lr=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),Ir="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),zr=Lr||Rr&&+Rr[1]<57,Br=0;Br<10;Br++)Dr[48+Br]=Dr[96+Br]=String(Br);for(Br=1;Br<=24;Br++)Dr[Br+111]="F"+Br;for(Br=65;Br<=90;Br++)Dr[Br]=String.fromCharCode(Br+32),Pr[Br]=String.fromCharCode(Br);for(var Fr in Dr)Pr.hasOwnProperty(Fr)||(Pr[Fr]=Dr[Fr]);function Wr(e){return(11==e.nodeType?e.getSelection?e:e.ownerDocument:e).getSelection()}function Vr(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function Hr(e,t){if(!t.anchorNode)return!1;try{return Vr(e,t.anchorNode)}catch(Kv){return!1}}function qr(e){return 3==e.nodeType?ni(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function Ur(e,t,n,r){return!!n&&(Kr(e,t,n,r,-1)||Kr(e,t,n,r,1))}function $r(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function Kr(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Gr(e))){if("DIV"==e.nodeName)return!1;var a=e.parentNode;if(!a||1!=a.nodeType)return!1;t=$r(e)+(i<0?0:1),e=a}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?Gr(e):0}}}function Gr(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}var Jr={left:0,right:0,top:0,bottom:0};function Qr(e,t){var n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function Yr(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}var Xr,Zr=function(){function e(){h(this,e),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return v(e,[{key:"eq",value:function(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}},{key:"setRange",value:function(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}},{key:"set",value:function(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}]),e}(),ei=null;function ti(e){if(e.setActive)return e.setActive();if(ei)return e.focus(ei);for(var t=[],n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==ei?{get preventScroll(){return ei={preventScroll:!0},!0}}:void 0),!ei){ei=!1;for(var r=0;r<t.length;){var i=t[r++],a=t[r++],o=t[r++];i.scrollTop!=a&&(i.scrollTop=a),i.scrollLeft!=o&&(i.scrollLeft=o)}}}function ni(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=Xr||(Xr=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function ri(e,t,n){var r={key:t,code:t,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,e.dispatchEvent(i);var a=new KeyboardEvent("keyup",r);return a.synthetic=!0,e.dispatchEvent(a),i.defaultPrevented||a.defaultPrevented}function ii(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}function ai(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}var oi=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];h(this,e),this.node=t,this.offset=n,this.precise=r}return v(e,null,[{key:"before",value:function(t,n){return new e(t.parentNode,$r(t),n)}},{key:"after",value:function(t,n){return new e(t.parentNode,$r(t)+1,n)}}]),e}(),si=[],li=function(){function e(){h(this,e),this.parent=null,this.dom=null,this.dirty=2}return v(e,[{key:"editorView",get:function(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"posBefore",value:function(e){var t,n=this.posAtStart,r=E(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i==e)return n;n+=i.length+i.breakAfter}}catch(a){r.e(a)}finally{r.f()}throw new RangeError("Invalid child in posBefore")}},{key:"posAfter",value:function(e){return this.posBefore(e)+e.length}},{key:"coordsAt",value:function(e,t){return null}},{key:"sync",value:function(t){if(2&this.dirty){var n,r,i=this.dom,a=null,o=E(this.children);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.dirty){if(!s.dom&&(n=a?a.nextSibling:i.firstChild)){var l=e.get(n);(!l||!l.parent&&l.canReuseDOM(s))&&s.reuseDOM(n)}s.sync(t),s.dirty=0}if(n=a?a.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&n!=s.dom&&(t.written=!0),s.dom.parentNode==i)for(;n&&n!=s.dom;)n=ui(n);else i.insertBefore(s.dom,n);a=s.dom}}catch(h){o.e(h)}finally{o.f()}for((n=a?a.nextSibling:i.firstChild)&&t&&t.node==i&&(t.written=!0);n;)n=ui(n)}else if(1&this.dirty){var u,c=E(this.children);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.dirty&&(f.sync(t),f.dirty=0)}}catch(h){c.e(h)}finally{c.f()}}}},{key:"reuseDOM",value:function(e){}},{key:"localPosFromDOM",value:function(t,n){var r;if(t==this.dom)r=this.dom.childNodes[n];else{for(var i=0==Gr(t)?0:0==n?-1:1;;){var a=t.parentNode;if(a==this.dom)break;0==i&&a.firstChild!=a.lastChild&&(i=t==a.firstChild?-1:1),t=a}r=i<0?t:t.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!e.get(r);)r=r.nextSibling;if(!r)return this.length;for(var o=0,s=0;;o++){var l=this.children[o];if(l.dom==r)return s;s+=l.length+l.breakAfter}}},{key:"domBoundsAround",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=-1,i=-1,a=-1,o=-1,s=0,l=n,u=n;s<this.children.length;s++){var c=this.children[s],f=l+c.length;if(l<e&&f>t)return c.domBoundsAround(e,t,l);if(f>=e&&-1==r&&(r=s,i=l),l>t&&c.dom.parentNode==this.dom){a=s,o=u;break}u=f,l=f+c.breakAfter}return{from:i,to:o<0?n+this.length:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}},{key:"markDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dirty|=2,this.markParentsDirty(e)}},{key:"markParentsDirty",value:function(e){for(var t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}},{key:"setParent",value:function(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}},{key:"rootView",get:function(){for(var e=this;;){var t=e.parent;if(!t)return e;e=t}}},{key:"replaceChildren",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:si;this.markDirty();for(var i=e;i<t;i++){var a=this.children[i];a.parent==this&&a.destroy()}(n=this.children).splice.apply(n,[e,t-e].concat(f(r)));for(var o=0;o<r.length;o++)r[o].setParent(this)}},{key:"ignoreMutation",value:function(e){return!1}},{key:"ignoreEvent",value:function(e){return!1}},{key:"childCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;return new ci(this.children,e,this.children.length)}},{key:"childPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(e,t)}},{key:"toString",value:function(){var e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"isEditable",get:function(){return!0}},{key:"merge",value:function(e,t,n,r,i,a){return!1}},{key:"become",value:function(e){return!1}},{key:"canReuseDOM",value:function(e){return e.constructor==this.constructor}},{key:"getSide",value:function(){return 0}},{key:"destroy",value:function(){this.parent=null}}],[{key:"get",value:function(e){return e.cmView}}]),e}();function ui(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}li.prototype.breakAfter=0;var ci=function(){function e(t,n,r){h(this,e),this.children=t,this.pos=n,this.i=r,this.off=0}return v(e,[{key:"findPos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}]),e}();function fi(e,t,n,r,i,a,o,s,l){var u=e.children,c=u.length?u[t]:null,f=a.length?a[a.length-1]:null,h=f?f.breakAfter:o;if(!(t==r&&c&&!o&&!h&&a.length<2&&c.merge(n,i,a.length?f:null,0==n,s,l))){if(r<u.length){var d=u[r];d&&i<d.length?(t==r&&(d=d.split(i),i=0),!h&&f&&d.merge(0,i,f,!0,0,l)?a[a.length-1]=d:(i&&d.merge(0,i,null,!1,0,l),a.push(d))):(null===d||void 0===d?void 0:d.breakAfter)&&(f?f.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,n>0&&(!o&&a.length&&c.merge(n,c.length,a[0],!1,s,0)?c.breakAfter=a.shift().breakAfter:(n<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(n,c.length,null,!1,s,0),t++));t<r&&a.length;)if(u[r-1].become(a[a.length-1]))r--,a.pop(),l=a.length?0:s;else{if(!u[t].become(a[0]))break;t++,a.shift(),s=a.length?0:l}!a.length&&t&&r<u.length&&!u[t-1].breakAfter&&u[r].merge(0,0,u[t-1],!1,s,l)&&t--,(t<r||a.length)&&e.replaceChildren(t,r,a)}}function hi(e,t,n,r,i,a){var o,s=e.childCursor(),l=s.findPos(n,1),u=l.i,c=l.off,f=s.findPos(t,-1),h=f.i,d=f.off,p=t-n,m=E(r);try{for(m.s();!(o=m.n()).done;){p+=o.value.length}}catch(v){m.e(v)}finally{m.f()}e.length+=p,fi(e,h,d,u,c,r,0,i,a)}var di="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},pi="undefined"!=typeof document?document:{documentElement:{style:{}}},mi=/Edge\/(\d+)/.exec(di.userAgent),vi=/MSIE \d/.test(di.userAgent),gi=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(di.userAgent),yi=!!(vi||gi||mi),bi=!yi&&/gecko\/(\d+)/i.test(di.userAgent),xi=!yi&&/Chrome\/(\d+)/.exec(di.userAgent),wi="webkitFontSmoothing"in pi.documentElement.style,ki=!yi&&/Apple Computer/.test(di.vendor),ji=ki&&(/Mobile\/\w+/.test(di.userAgent)||di.maxTouchPoints>2),Si={mac:ji||/Mac/.test(di.platform),windows:/Win/.test(di.platform),linux:/Linux|X11/.test(di.platform),ie:yi,ie_version:vi?pi.documentMode||6:gi?+gi[1]:mi?+mi[1]:0,gecko:bi,gecko_version:bi?+(/Firefox\/(\d+)/.exec(di.userAgent)||[0,0])[1]:0,chrome:!!xi,chrome_version:xi?+xi[1]:0,ios:ji,android:/Android\b/.test(di.userAgent),webkit:wi,safari:ki,webkit_version:wi?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=pi.documentElement.style.tabSize?"tab-size":"-moz-tab-size"},Ci=function(e){y(n,e);var t=j(n);function n(e){var r;return h(this,n),(r=t.call(this)).text=e,r}return v(n,[{key:"length",get:function(){return this.text.length}},{key:"createDOM",value:function(e){this.setDOM(e||document.createTextNode(this.text))}},{key:"sync",value:function(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}},{key:"reuseDOM",value:function(e){3==e.nodeType&&this.createDOM(e)}},{key:"merge",value:function(e,t,r){return(!r||r instanceof n&&!(this.length-(t-e)+r.length>256))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}},{key:"split",value:function(e){var t=new n(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}},{key:"localPosFromDOM",value:function(e,t){return e==this.dom?t:t?this.text.length:0}},{key:"domAtPos",value:function(e){return new oi(this.dom,e)}},{key:"domBoundsAround",value:function(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(e,t){return Ti(this.dom,e,t)}}]),n}(li),Ei=function(e){y(n,e);var t=j(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;h(this,n),(r=t.call(this)).mark=e,r.children=i,r.length=a;var o,s=E(i);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.setParent(w(r))}}catch(u){s.e(u)}finally{s.f()}return r}return v(n,[{key:"setAttrs",value:function(e){if(ai(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(var t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}},{key:"reuseDOM",value:function(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}},{key:"sync",value:function(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),Rt(b(n.prototype),"sync",this).call(this,e)}},{key:"merge",value:function(e,t,r,i,a,o){return(!r||!(!(r instanceof n&&r.mark.eq(this.mark))||e&&a<=0||t<this.length&&o<=0))&&(hi(this,e,t,r?r.children:[],a-1,o-1),this.markDirty(),!0)}},{key:"split",value:function(e){var t,r=[],i=0,a=-1,o=0,s=E(this.children);try{for(s.s();!(t=s.n()).done;){var l=t.value,u=i+l.length;u>e&&r.push(i<e?l.split(e-i):l),a<0&&i>=e&&(a=o),i=u,o++}}catch(f){s.e(f)}finally{s.f()}var c=this.length-e;return this.length=e,a>-1&&(this.children.length=a,this.markDirty()),new n(this.mark,r,c)}},{key:"domAtPos",value:function(e){return Di(this,e)}},{key:"coordsAt",value:function(e,t){return Ri(this,e,t)}}]),n}(li);function Ti(e,t,n){var r=e.nodeValue.length;t>r&&(t=r);var i=t,a=t,o=0;0==t&&n<0||t==r&&n>=0?Si.chrome||Si.gecko||(t?(i--,o=1):a<r&&(a++,o=-1)):n<0?i--:a<r&&a++;var s=ni(e,i,a).getClientRects();if(!s.length)return Jr;var l=s[(o?o<0:n>=0)?0:s.length-1];return Si.safari&&!o&&0==l.width&&(l=Array.prototype.find.call(s,(function(e){return e.width}))||l),o?Qr(l,o<0):l||null}var Mi=function(e){y(n,e);var t=j(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).widget=e,a.length=r,a.side=i,a.prevWidget=null,a}return v(n,[{key:"split",value:function(e){var t=n.create(this.widget,this.length-e,this.side);return this.length-=e,t}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(e,t,r,i,a,o){return!(r&&(!(r instanceof n&&this.widget.compare(r.widget))||e>0&&a<=0||t<this.length&&o<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}},{key:"become",value:function(e){return e.length==this.length&&e instanceof n&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(e){return this.widget.ignoreEvent(e)}},{key:"overrideDOMText",get:function(){if(0==this.length)return Lt.empty;for(var e=this;e.parent;)e=e.parent;var t=e.editorView,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):Lt.empty}},{key:"domAtPos",value:function(e){return 0==e?oi.before(this.dom):oi.after(this.dom,e==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(e,t){var n=this.dom.getClientRects(),r=null;if(!n.length)return Jr;for(var i=e>0?n.length-1:0;r=n[i],!(e>0?0==i:i==n.length-1||r.top<r.bottom);i+=e>0?-1:1);return this.length?r:Qr(r,this.side>0)}},{key:"isEditable",get:function(){return!1}},{key:"destroy",value:function(){Rt(b(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}],[{key:"create",value:function(e,t,r){return new(e.customView||n)(e,t,r)}}]),n}(li),_i=function(e){y(n,e);var t=j(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"domAtPos",value:function(e){var t=this.widget,n=t.topView,r=t.text;return n?Ni(e,0,n,r,(function(e,t){return e.domAtPos(t)}),(function(e){return new oi(r,Math.min(e,r.nodeValue.length))})):new oi(r,Math.min(e,r.nodeValue.length))}},{key:"sync",value:function(){this.setDOM(this.widget.toDOM())}},{key:"localPosFromDOM",value:function(e,t){var n=this.widget,r=n.topView,i=n.text;return r?Ai(e,t,r,i):Math.min(t,this.length)}},{key:"ignoreMutation",value:function(){return!1}},{key:"overrideDOMText",get:function(){return null}},{key:"coordsAt",value:function(e,t){var n=this.widget,r=n.topView,i=n.text;return r?Ni(e,t,r,i,(function(e,t,n){return e.coordsAt(t,n)}),(function(e,t){return Ti(i,e,t)})):Ti(i,e,t)}},{key:"destroy",value:function(){var e;Rt(b(n.prototype),"destroy",this).call(this),null===(e=this.widget.topView)||void 0===e||e.destroy()}},{key:"isEditable",get:function(){return!0}},{key:"canReuseDOM",value:function(){return!0}}]),n}(Mi);function Ni(e,t,n,r,i,a){if(n instanceof Ei){for(var o=n.dom.firstChild;o;o=o.nextSibling){var s=li.get(o);if(!s)return a(e,t);var l=Vr(o,r),u=s.length+(l?r.nodeValue.length:0);if(e<u||e==u&&s.getSide()<=0)return l?Ni(e,t,s,r,i,a):i(s,e,t);e-=u}return i(n,n.length,-1)}return n.dom==r?a(e,t):i(n,e,t)}function Ai(e,t,n,r){if(n instanceof Ei){var i,a=E(n.children);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=0,l=Vr(o.dom,r);if(Vr(o.dom,e))return s+(l?Ai(e,t,o,r):o.localPosFromDOM(e,t));s+=l?r.nodeValue.length:o.length}}catch(u){a.e(u)}finally{a.f()}}else if(n.dom==r)return Math.min(t,r.nodeValue.length);return n.localPosFromDOM(e,t)}var Oi=function(e){y(n,e);var t=j(n);function n(e){var r;return h(this,n),(r=t.call(this)).side=e,r}return v(n,[{key:"length",get:function(){return 0}},{key:"merge",value:function(){return!1}},{key:"become",value:function(e){return e instanceof n&&e.side==this.side}},{key:"split",value:function(){return new n(this.side)}},{key:"sync",value:function(){if(!this.dom){var e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}},{key:"getSide",value:function(){return this.side}},{key:"domAtPos",value:function(e){return oi.before(this.dom)}},{key:"localPosFromDOM",value:function(){return 0}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(e){var t=this.dom.getBoundingClientRect(),n=function(e,t){var n=e.parent,r=n?n.children.indexOf(e):-1;for(;n&&r>=0;)if(t<0?r>0:r<n.children.length){var i=n.children[r+t];if(i instanceof Ci){var a=i.coordsAt(t<0?i.length:0,t);if(a)return a}r+=t}else{if(!(n instanceof Ei&&n.parent)){var o=n.dom.lastChild;if(o&&"BR"==o.nodeName)return o.getClientRects()[0];break}r=n.parent.children.indexOf(n)+(t<0?0:1),n=n.parent}return}(this,this.side>0?-1:1);return n&&n.top<t.bottom&&n.bottom>t.top?{left:t.left,right:t.right,top:n.top,bottom:n.bottom}:t}},{key:"overrideDOMText",get:function(){return Lt.empty}}]),n}(li);function Di(e,t){for(var n=e.dom,r=e.children,i=0,a=0;i<r.length;i++){var o=r[i],s=a+o.length;if(!(s==a&&o.getSide()<=0)){if(t>a&&t<s&&o.dom.parentNode==n)return o.domAtPos(t-a);if(t<=a)break;a=s}}for(var l=i;l>0;l--){var u=r[l-1];if(u.dom.parentNode==n)return u.domAtPos(u.length)}for(var c=i;c<r.length;c++){var f=r[c];if(f.dom.parentNode==n)return f.domAtPos(0)}return new oi(n,0)}function Pi(e,t,n){var r,i=e.children;n>0&&t instanceof Ei&&i.length&&(r=i[i.length-1])instanceof Ei&&r.mark.eq(t.mark)?Pi(r,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function Ri(e,t,n){var r=null,i=-1,a=null,o=-1;!function e(t,n){for(var s=0,l=0;s<t.children.length&&l<=n;s++){var u=t.children[s],c=l+u.length;c>=n&&(u.children.length?e(u,n-l):!a&&(c>n||l==c&&u.getSide()>0)?(a=u,o=n-l):(l<n||l==c&&u.getSide()<0)&&(r=u,i=n-l)),l=c}}(e,t);var s=(n<0?r:a)||r||a;return s?s.coordsAt(Math.max(0,s==r?i:o),n):function(e){var t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();var n=qr(t);return n[n.length-1]||null}(e)}function Li(e,t){for(var n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}function Ii(e,t){if(e==t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i];if(-1==r.indexOf(o)||e[o]!==t[o])return!1}return!0}function zi(e,t,n){var r=null;if(t)for(var i in t)n&&i in n||e.removeAttribute(r=i);if(n)for(var a in n)t&&t[a]==n[a]||e.setAttribute(r=a,n[a]);return!!r}Ci.prototype.children=Mi.prototype.children=Oi.prototype.children=si;var Bi=function(){function e(){h(this,e)}return v(e,[{key:"eq",value:function(e){return!1}},{key:"updateDOM",value:function(e){return!1}},{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"estimatedHeight",get:function(){return-1}},{key:"ignoreEvent",value:function(e){return!0}},{key:"customView",get:function(){return null}},{key:"destroy",value:function(e){}}]),e}(),Fi=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(Fi||(Fi={})),Wi=function(e){y(n,e);var t=j(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).startSide=e,o.endSide=r,o.widget=i,o.spec=a,o}return v(n,[{key:"heightRelevant",get:function(){return!1}},{key:"hasHeight",value:function(){return!!this.widget&&this.widget.estimatedHeight>-1}}],[{key:"mark",value:function(e){return new Vi(e)}},{key:"widget",value:function(e){var t=e.side||0,n=!!e.block;return new qi(e,t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,t,n,e.widget||null,!1)}},{key:"replace",value:function(e){var t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{var i=Ui(e,r);t=(i.start?r?-3e8:-1:5e8)-1,n=1+(i.end?r?2e8:1:-6e8)}return new qi(e,t,n,r,e.widget||null,!0)}},{key:"line",value:function(e){return new Hi(e)}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return hr.of(e,t)}}]),n}(lr);Wi.none=hr.empty;var Vi=function(e){y(n,e);var t=j(n);function n(e){var r;h(this,n);var i=Ui(e),a=i.start,o=i.end;return(r=t.call(this,a?-1:5e8,o?1:-6e8,null,e)).tagName=e.tagName||"span",r.class=e.class||"",r.attrs=e.attributes||null,r}return v(n,[{key:"eq",value:function(e){return this==e||e instanceof n&&this.tagName==e.tagName&&this.class==e.class&&Ii(this.attrs,e.attrs)}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e>=t)throw new RangeError("Mark decorations may not be empty");return Rt(b(n.prototype),"range",this).call(this,e,t)}}]),n}(Wi);Vi.prototype.point=!1;var Hi=function(e){y(n,e);var t=j(n);function n(e){return h(this,n),t.call(this,-2e8,-2e8,null,e)}return v(n,[{key:"eq",value:function(e){return e instanceof n&&Ii(this.spec.attributes,e.spec.attributes)}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return Rt(b(n.prototype),"range",this).call(this,e,t)}}]),n}(Wi);Hi.prototype.mapMode=on.TrackBefore,Hi.prototype.point=!0;var qi=function(e){y(n,e);var t=j(n);function n(e,r,i,a,o,s){var l;return h(this,n),(l=t.call(this,r,i,o,e)).block=a,l.isReplace=s,l.mapMode=a?r<=0?on.TrackBefore:on.TrackAfter:on.TrackDel,l}return v(n,[{key:"type",get:function(){return this.startSide<this.endSide?Fi.WidgetRange:this.startSide<=0?Fi.WidgetBefore:Fi.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}},{key:"eq",value:function(e){return e instanceof n&&(t=this.widget,r=e.widget,t==r||!!(t&&r&&t.compare(r)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,r}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return Rt(b(n.prototype),"range",this).call(this,e,t)}}]),n}(Wi);function Ui(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.inclusiveStart,r=e.inclusiveEnd;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!==n&&void 0!==n?n:t,end:null!==r&&void 0!==r?r:t}}function $i(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}qi.prototype.point=!0;var Ki=function(e){y(n,e);var t=j(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).children=[],e.length=0,e.prevAttrs=void 0,e.attrs=null,e.breakAfter=0,e}return v(n,[{key:"merge",value:function(e,t,r,i,a,o){if(r){if(!(r instanceof n))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),hi(this,e,t,r?r.children:[],a,o),!0}},{key:"split",value:function(e){var t=new n;if(t.breakAfter=this.breakAfter,0==this.length)return t;var r=this.childPos(e),i=r.i,a=r.off;a&&(t.append(this.children[i].split(a),0),this.children[i].merge(a,this.children[i].length,null,!1,0,0),i++);for(var o=i;o<this.children.length;o++)t.append(this.children[o],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}},{key:"transferDOM",value:function(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(e){Ii(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}},{key:"append",value:function(e,t){Pi(this,e,t)}},{key:"addLineDeco",value:function(e){var t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=Li(t,this.attrs||{})),n&&(this.attrs=Li({class:n},this.attrs||{}))}},{key:"domAtPos",value:function(e){return Di(this,e)}},{key:"reuseDOM",value:function(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}},{key:"sync",value:function(e){var t;this.dom?4&this.dirty&&(ai(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(zi(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),Rt(b(n.prototype),"sync",this).call(this,e);for(var r=this.dom.lastChild;r&&li.get(r)instanceof Ei;)r=r.lastChild;if(!r||!this.length||"BR"!=r.nodeName&&0==(null===(t=li.get(r))||void 0===t?void 0:t.isEditable)&&(!Si.ios||!this.children.some((function(e){return e instanceof Ci})))){var i=document.createElement("BR");i.cmIgnore=!0,this.dom.appendChild(i)}}},{key:"measureTextSize",value:function(){if(0==this.children.length||this.length>20)return null;var e,t=0,n=E(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(!(r instanceof Ci)||/[^ -~]/.test(r.text))return null;var i=qr(r.dom);if(1!=i.length)return null;t+=i[0].width}}catch(a){n.e(a)}finally{n.f()}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}:null}},{key:"coordsAt",value:function(e,t){return Ri(this,e,t)}},{key:"become",value:function(e){return!1}},{key:"type",get:function(){return Fi.Text}}],[{key:"find",value:function(e,t){for(var r=0,i=0;r<e.children.length;r++){var a=e.children[r],o=i+a.length;if(o>=t){if(a instanceof n)return a;if(o>t)break}i=o+a.breakAfter}return null}}]),n}(li),Gi=function(e){y(n,e);var t=j(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).widget=e,a.length=r,a.type=i,a.breakAfter=0,a.prevWidget=null,a}return v(n,[{key:"merge",value:function(e,t,r,i,a,o){return!(r&&(!(r instanceof n&&this.widget.compare(r.widget))||e>0&&a<=0||t<this.length&&o<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}},{key:"domAtPos",value:function(e){return 0==e?oi.before(this.dom):oi.after(this.dom,e==this.length)}},{key:"split",value:function(e){var t=this.length-e;this.length=e;var r=new n(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}},{key:"children",get:function(){return si}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Lt.empty}},{key:"domBoundsAround",value:function(){return null}},{key:"become",value:function(e){return e instanceof n&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(e){return this.widget.ignoreEvent(e)}},{key:"destroy",value:function(){Rt(b(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}]),n}(li),Ji=function(){function e(t,n,r,i){h(this,e),this.doc=t,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=n}return v(e,[{key:"posCovered",value:function(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Gi&&e.type==Fi.WidgetBefore)}},{key:"getLine",value:function(){return this.curLine||(this.content.push(this.curLine=new Ki),this.atCursorPos=!0),this.curLine}},{key:"flushBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.bufferMarks;this.pendingBuffer&&(this.curLine.append(Qi(new Oi(-1),e),e.length),this.pendingBuffer=0)}},{key:"addBlockWidget",value:function(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}},{key:"finish",value:function(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}},{key:"buildText",value:function(e,t,n){for(;e>0;){if(this.textOff==this.text.length){var r=this.cursor.next(this.skip),i=r.value,a=r.lineBreak,o=r.done;if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=i,this.textOff=0}var s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Qi(new Ci(this.text.slice(this.textOff,this.textOff+s)),t),n),this.atCursorPos=!0,this.textOff+=s,e-=s,n=0}}},{key:"span",value:function(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}},{key:"point",value:function(e,t,n,r,i,a){if(this.disallowBlockEffectsFor[a]&&n instanceof qi){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}var o=t-e;if(n instanceof qi)if(n.block){var s=n.type;s!=Fi.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new Gi(n.widget||new Yi("div"),o,s))}else{var l=Mi.create(n.widget||new Yi("span"),o,o?0:n.startSide),u=this.atCursorPos&&!l.isEditable&&i<=r.length&&(e<t||n.startSide>0),c=!l.isEditable&&(e<t||i>r.length||n.startSide<=0),f=this.getLine();2!=this.pendingBuffer||u||(this.pendingBuffer=0),this.flushBuffer(r),u&&(f.append(Qi(new Oi(1),r),i),i=r.length+Math.max(0,i-r.length)),f.append(Qi(l,r),i),this.atCursorPos=c,this.pendingBuffer=c?e<t||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}}],[{key:"build",value:function(t,n,r,i,a){var o=new e(t,n,r,a);return o.openEnd=hr.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}]),e}();function Qi(e,t){var n,r=E(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=new Ei(i,[e],e.length)}}catch(a){r.e(a)}finally{r.f()}return e}var Yi=function(e){y(n,e);var t=j(n);function n(e){var r;return h(this,n),(r=t.call(this)).tag=e,r}return v(n,[{key:"eq",value:function(e){return e.tag==this.tag}},{key:"toDOM",value:function(){return document.createElement(this.tag)}},{key:"updateDOM",value:function(e){return e.nodeName.toLowerCase()==this.tag}}]),n}(Bi),Xi=bn.define(),Zi=bn.define(),ea=bn.define(),ta=bn.define(),na=bn.define(),ra=bn.define(),ia=bn.define({combine:function(e){return e.some((function(e){return e}))}}),aa=bn.define({combine:function(e){return e.some((function(e){return e}))}}),oa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;h(this,e),this.range=t,this.y=n,this.x=r,this.yMargin=i,this.xMargin=a}return v(e,[{key:"map",value:function(t){return t.empty?this:new e(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}}]),e}(),sa=Gn.define({map:function(e,t){return e.map(t)}});function la(e,t,n){var r=e.facet(ta);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}var ua=bn.define({combine:function(e){return!e.length||e[0]}}),ca=0,fa=bn.define(),ha=function(){function e(t,n,r,i){h(this,e),this.id=t,this.create=n,this.domEventHandlers=r,this.extension=i(this)}return v(e,null,[{key:"define",value:function(t,n){var r=n||{},i=r.eventHandlers,a=r.provide,o=r.decorations;return new e(ca++,t,i,(function(e){var t=[fa.of(e)];return o&&t.push(va.of((function(t){var n=t.plugin(e);return n?o(n):Wi.none}))),a&&t.push(a(e)),t}))}},{key:"fromClass",value:function(t,n){return e.define((function(e){return new t(e)}),n)}}]),e}(),da=function(){function e(t){h(this,e),this.spec=t,this.mustUpdate=null,this.value=null}return v(e,[{key:"update",value:function(e){if(this.value){if(this.mustUpdate){var t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(la(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(Kv){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){la(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}},{key:"destroy",value:function(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(n){la(e.state,n,"CodeMirror plugin crashed")}}},{key:"deactivate",value:function(){this.spec=this.value=null}}]),e}(),pa=bn.define(),ma=bn.define(),va=bn.define(),ga=bn.define(),ya=bn.define(),ba=bn.define(),xa=function(){function e(t,n,r,i){h(this,e),this.fromA=t,this.toA=n,this.fromB=r,this.toB=i}return v(e,[{key:"join",value:function(t){return new e(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}},{key:"addToSet",value:function(e){for(var t=e.length,n=this;t>0;t--){var r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}}],[{key:"extendWithRanges",value:function(t,n){if(0==n.length)return t;for(var r=[],i=0,a=0,o=0,s=0;;i++){for(var l=i==t.length?null:t[i],u=o-s,c=l?l.fromB:1e9;a<n.length&&n[a]<c;){var f=n[a],h=n[a+1],d=Math.max(s,f),p=Math.min(c,h);if(d<=p&&new e(d+u,p+u,d,p).addToSet(r),h>c)break;a+=2}if(!l)return r;new e(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,s=l.toB}}}]),e}(),wa=function(){function e(t,n,r){h(this,e),this.view=t,this.state=n,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=ln.empty(this.startState.doc.length);var i,a=E(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.changes=this.changes.compose(o.changes)}}catch(u){a.e(u)}finally{a.f()}var s=[];this.changes.iterChangedRanges((function(e,t,n,r){return s.push(new xa(e,t,n,r))})),this.changedRanges=s;var l=t.hasFocus;l!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=l,this.flags|=1)}return v(e,[{key:"viewportChanged",get:function(){return(4&this.flags)>0}},{key:"heightChanged",get:function(){return(2&this.flags)>0}},{key:"geometryChanged",get:function(){return this.docChanged||(10&this.flags)>0}},{key:"focusChanged",get:function(){return(1&this.flags)>0}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"selectionSet",get:function(){return this.transactions.some((function(e){return e.selection}))}},{key:"empty",get:function(){return 0==this.flags&&0==this.transactions.length}}],[{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}(),ka=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(ka||(ka={})),ja=ka.LTR,Sa=ka.RTL;function Ca(e){for(var t=[],n=0;n<e.length;n++)t.push(1<<+e[n]);return t}for(var Ea=Ca("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ta=Ca("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Ma=Object.create(null),_a=[],Na=0,Aa=["()","[]","{}"];Na<Aa.length;Na++){var Oa=Aa[Na],Da=Oa.charCodeAt(0),Pa=Oa.charCodeAt(1);Ma[Da]=Pa,Ma[Pa]=-Da}function Ra(e){return e<=247?Ea[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?Ta[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8203?256:64336<=e&&e<=65023?4:8204==e?256:1}var La=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,Ia=function(){function e(t,n,r){h(this,e),this.from=t,this.to=n,this.level=r}return v(e,[{key:"dir",get:function(){return this.level%2?Sa:ja}},{key:"side",value:function(e,t){return this.dir==t==e?this.to:this.from}}],[{key:"find",value:function(e,t,n,r){for(var i=-1,a=0;a<e.length;a++){var o=e[a];if(o.from<=t&&o.to>=t){if(o.level==n)return a;(i<0||(0!=r?r<0?o.from<t:o.to>t:e[i].level>o.level))&&(i=a)}}if(i<0)throw new RangeError("Index out of range");return i}}]),e}(),za=[];function Ba(e,t){var n=e.length,r=t==ja?1:2,i=t==ja?2:1;if(!e||1==r&&!La.test(e))return Fa(n);for(var a=0,o=r,s=r;a<n;a++){var l=Ra(e.charCodeAt(a));512==l?l=o:8==l&&4==s&&(l=16),za[a]=4==l?2:l,7&l&&(s=l),o=l}for(var u=0,c=r,f=r;u<n;u++){var h=za[u];if(128==h)u<n-1&&c==za[u+1]&&24&c?h=za[u]=c:za[u]=256;else if(64==h){for(var d=u+1;d<n&&64==za[d];)d++;for(var p=u&&8==c||d<n&&8==za[d]?1==f?1:8:256,m=u;m<d;m++)za[m]=p;u=d-1}else 8==h&&1==f&&(za[u]=1);c=h,7&h&&(f=h)}for(var v,g,y,b=0,x=0,w=0;b<n;b++)if(g=Ma[v=e.charCodeAt(b)])if(g<0){for(var k=x-3;k>=0;k-=3)if(_a[k+1]==-g){var j=_a[k+2],S=2&j?r:4&j?1&j?i:r:0;S&&(za[b]=za[_a[k]]=S),x=k;break}}else{if(189==_a.length)break;_a[x++]=b,_a[x++]=v,_a[x++]=w}else if(2==(y=za[b])||1==y){var C=y==r;w=C?0:1;for(var E=x-3;E>=0;E-=3){var T=_a[E+2];if(2&T)break;if(C)_a[E+2]|=2;else{if(4&T)break;_a[E+2]|=4}}}for(var M=0;M<n;M++)if(256==za[M]){for(var _=M+1;_<n&&256==za[_];)_++;for(var N=1==(M?za[M-1]:r),A=N==(1==(_<n?za[_]:r))?N?1:2:r,O=M;O<_;O++)za[O]=A;M=_-1}var D=[];if(1==r)for(var P=0;P<n;){for(var R=P,L=1!=za[P++];P<n&&L==(1!=za[P]);)P++;if(L)for(var I=P;I>R;){for(var z=I,B=2!=za[--I];I>R&&B==(2!=za[I-1]);)I--;D.push(new Ia(I,z,B?2:1))}else D.push(new Ia(R,P,0))}else for(var F=0;F<n;){for(var W=F,V=2==za[F++];F<n&&V==(2==za[F]);)F++;D.push(new Ia(W,F,V?1:2))}return D}function Fa(e){return[new Ia(0,e,0)]}var Wa="";function Va(e,t,n,r,i){var a,o=r.head-e.from,s=-1;if(0==o){if(!i||!e.length)return null;t[0].level!=n&&(o=t[0].side(!1,n),s=0)}else if(o==e.length){if(i)return null;var l=t[t.length-1];l.level!=n&&(o=l.side(!0,n),s=t.length-1)}s<0&&(s=Ia.find(t,o,null!==(a=r.bidiLevel)&&void 0!==a?a:-1,r.assoc));var u=t[s];o==u.side(i,n)&&(o=(u=t[s+=i?1:-1]).side(!i,n));var c=i==(u.dir==n),f=Qt(e.text,o,c);if(Wa=e.text.slice(Math.min(o,f),Math.max(o,f)),f!=u.side(i,n))return vn.cursor(f+e.from,c?-1:1,u.level);var h=s==(i?t.length-1:0)?null:t[s+(i?1:-1)];return h||u.level==n?h&&h.level<u.level?vn.cursor(h.side(!i,n)+e.from,i?1:-1,h.level):vn.cursor(f+e.from,i?-1:1,u.level):vn.cursor(i?e.to:e.from,i?-1:1,n)}var Ha="\uffff",qa=function(){function e(t,n){h(this,e),this.points=t,this.text="",this.lineSeparator=n.facet(or.lineSeparator)}return v(e,[{key:"append",value:function(e){this.text+=e}},{key:"lineBreak",value:function(){this.text+=Ha}},{key:"readRange",value:function(e,t){if(!e)return this;for(var n=e.parentNode,r=e;;){this.findPointBefore(n,r),this.readNode(r);var i=r.nextSibling;if(i==t)break;var a=li.get(r),o=li.get(i);(a&&o?a.breakAfter:(a?a.breakAfter:Ua(r))||Ua(i)&&("BR"!=r.nodeName||r.cmIgnore))&&this.lineBreak(),r=i}return this.findPointBefore(n,t),this}},{key:"readTextNode",value:function(e){var t,n=e.nodeValue,r=E(this.points);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length))}}catch(d){r.e(d)}finally{r.f()}for(var a=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){var s=-1,l=1,u=void 0;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,a),l=this.lineSeparator.length):(u=o.exec(n))&&(s=u.index,l=u[0].length),this.append(n.slice(a,s<0?n.length:s)),s<0)break;if(this.lineBreak(),l>1){var c,f=E(this.points);try{for(f.s();!(c=f.n()).done;){var h=c.value;h.node==e&&h.pos>this.text.length&&(h.pos-=l-1)}}catch(d){f.e(d)}finally{f.f()}}a=s+l}}},{key:"readNode",value:function(e){if(!e.cmIgnore){var t=li.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(var r=n.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}}},{key:"findPointBefore",value:function(e,t){var n,r=E(this.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}}catch(a){r.e(a)}finally{r.f()}}},{key:"findPointInside",value:function(e,t){var n,r=E(this.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;(3==e.nodeType?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}catch(a){r.e(a)}finally{r.f()}}}]),e}();function Ua(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}var $a=v((function e(t,n){h(this,e),this.node=t,this.offset=n,this.pos=-1})),Ka=function(e){y(n,e);var t=j(n);function n(e){var r;return h(this,n),(r=t.call(this)).view=e,r.compositionDeco=Wi.none,r.decorations=[],r.dynamicDecorationMap=[],r.minWidth=0,r.minWidthFrom=0,r.minWidthTo=0,r.impreciseAnchor=null,r.impreciseHead=null,r.forceSelection=!1,r.lastUpdate=Date.now(),r.setDOM(e.contentDOM),r.children=[new Ki],r.children[0].setParent(w(r)),r.updateDeco(),r.updateInner([new xa(0,0,0,e.state.doc.length)],0),r}return v(n,[{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}},{key:"update",value:function(e){var t=this,n=e.changedRanges;this.minWidth>0&&n.length&&(n.every((function(e){var n=e.fromA;return e.toA<t.minWidthFrom||n>t.minWidthTo}))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Wi.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){var n=Qa(e);if(!n)return Wi.none;var r=n.from,i=n.to,a=n.node,o=n.text,s=t.mapPos(r,1),l=Math.max(s,t.mapPos(i,-1)),u=e.state,c=3==a.nodeType?a.nodeValue:new qa([],u).readRange(a.firstChild,null).text;if(l-s<c.length)if(u.doc.sliceString(s,Math.min(u.doc.length,s+c.length),Ha)==c)l=s+c.length;else{if(u.doc.sliceString(Math.max(0,l-c.length),l,Ha)!=c)return Wi.none;s=l-c.length}else if(u.doc.sliceString(s,l,Ha)!=c)return Wi.none;var f=li.get(a);f instanceof _i?f=f.widget.topView:f&&(f.parent=null);return Wi.set(Wi.replace({widget:new Ya(a,o,f),inclusive:!0}).range(s,l))}(this.view,e.changes)),(Si.ie||Si.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);var r=function(e,t,n){var r=new eo;return hr.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return n=xa.extendWithRanges(n,r),(0!=this.dirty||0!=n.length)&&(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}},{key:"updateInner",value:function(e,t){var n=this;this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);var r=this.view.observer;r.ignore((function(){n.dom.style.height=n.view.viewState.contentHeight+"px",n.dom.style.flexBasis=n.minWidth?n.minWidth+"px":"";var e=Si.chrome||Si.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;n.sync(e),n.dirty=0,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(n.forceSelection=!0),n.dom.style.height=""}));var i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){var a,o=E(this.children);try{for(o.s();!(a=o.n()).done;){var s=a.value;s instanceof Gi&&s.widget instanceof Ja&&i.push(s.dom)}}catch(l){o.e(l)}finally{o.f()}}r.updateGaps(i)}},{key:"updateChildren",value:function(e,t){for(var n=this.childCursor(t),r=e.length-1;;r--){var i=r>=0?e[r]:null;if(!i)break;var a=i.fromA,o=i.toA,s=i.fromB,l=i.toB,u=Ji.build(this.view.state.doc,s,l,this.decorations,this.dynamicDecorationMap),c=u.content,f=u.breakAtStart,h=u.openStart,d=u.openEnd,p=n.findPos(o,1),m=p.i,v=p.off,g=n.findPos(a,-1);fi(this,g.i,g.off,m,v,c,f,h,d)}}},{key:"updateSelection",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange(),n||this.mayControlSelection()){var r=this.forceSelection;this.forceSelection=!1;var i=this.view.state.selection.main,a=this.domAtPos(i.anchor),o=i.empty?a:this.domAtPos(i.head);if(Si.gecko&&i.empty&&Ga(a)){var s=document.createTextNode("");this.view.observer.ignore((function(){return a.node.insertBefore(s,a.node.childNodes[a.offset]||null)})),a=o=new oi(s,0),r=!0}var l=this.view.observer.selectionRange;!r&&l.focusNode&&Ur(a.node,a.offset,l.anchorNode,l.anchorOffset)&&Ur(o.node,o.offset,l.focusNode,l.focusOffset)||(this.view.observer.ignore((function(){Si.android&&Si.chrome&&e.dom.contains(l.focusNode)&&to(l.focusNode,e.dom)&&(e.dom.blur(),e.dom.focus({preventScroll:!0}));var t=Wr(e.view.root);if(t)if(i.empty){if(Si.gecko){var n=Za(a.node,a.offset);if(n&&3!=n){var r=Xa(a.node,a.offset,1==n?1:-1);r&&(a=new oi(r,1==n?0:r.nodeValue.length))}}t.collapse(a.node,a.offset),null!=i.bidiLevel&&null!=l.cursorBidiLevel&&(l.cursorBidiLevel=i.bidiLevel)}else if(t.extend){t.collapse(a.node,a.offset);try{t.extend(o.node,o.offset)}catch(Kv){}}else{var s=document.createRange();if(i.anchor>i.head){var u=[o,a];a=u[0],o=u[1]}s.setEnd(o.node,o.offset),s.setStart(a.node,a.offset),t.removeAllRanges(),t.addRange(s)}else;})),this.view.observer.setSelectionRange(a,o)),this.impreciseAnchor=a.precise?null:new oi(l.anchorNode,l.anchorOffset),this.impreciseHead=o.precise?null:new oi(l.focusNode,l.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){if(!this.compositionDeco.size){var e=this.view,t=e.state.selection.main,n=Wr(e.root),r=e.observer.selectionRange,i=r.anchorNode,a=r.anchorOffset;if(n&&t.empty&&t.assoc&&n.modify){var o=Ki.find(this,t.head);if(o){var s=o.posAtStart;if(t.head!=s&&t.head!=s+o.length){var l=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(l&&u&&!(l.bottom>u.top)){var c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();var f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=t.from&&n.collapse(i,a)}}}}}}},{key:"mayControlSelection",value:function(){var e=this.view.root.activeElement;return e==this.dom||Hr(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}},{key:"nearest",value:function(e){for(var t=e;t;){var n=li.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}},{key:"posFromDOM",value:function(e,t){var n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}},{key:"domAtPos",value:function(e){for(var t=this.childCursor().findPos(e,-1),n=t.i,r=t.off;n<this.children.length-1;){var i=this.children[n];if(r<i.length||i instanceof Ki)break;n++,r=0}return this.children[n].domAtPos(r)}},{key:"coordsAt",value:function(e,t){for(var n=this.length,r=this.children.length-1;;r--){var i=this.children[r],a=n-i.breakAfter-i.length;if(e>a||e==a&&i.type!=Fi.WidgetBefore&&i.type!=Fi.WidgetAfter&&(!r||2==t||this.children[r-1].breakAfter||this.children[r-1].type==Fi.WidgetBefore&&t>-2))return i.coordsAt(e-a,t);n=a}}},{key:"measureVisibleLineHeights",value:function(e){for(var t=[],n=e.from,r=e.to,i=this.view.contentDOM.clientWidth,a=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,s=this.view.textDirection==ka.LTR,l=0,u=0;u<this.children.length;u++){var c=this.children[u],f=l+c.length;if(f>r)break;if(l>=n){var h=c.dom.getBoundingClientRect();if(t.push(h.height),a){var d=c.dom.lastChild,p=d?qr(d):[];if(p.length){var m=p[p.length-1],v=s?m.right-h.left:h.right-m.left;v>o&&(o=v,this.minWidth=i,this.minWidthFrom=l,this.minWidthTo=f)}}}l=f+c.breakAfter}return t}},{key:"textDirectionAt",value:function(e){var t=this.childPos(e,1).i;return"rtl"==getComputedStyle(this.children[t].dom).direction?ka.RTL:ka.LTR}},{key:"measureTextSize",value:function(){var e,t=this,n=E(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r instanceof Ki){var i=r.measureTextSize();if(i)return i}}}catch(l){n.e(l)}finally{n.f()}var a,o,s=document.createElement("div");return s.className="cm-line",s.style.width="99999px",s.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((function(){t.dom.appendChild(s);var e=qr(s.firstChild)[0];a=s.getBoundingClientRect().height,o=e?e.width/27:7,s.remove()})),{lineHeight:a,charWidth:o}}},{key:"childCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,t=this.children.length;return t&&(e-=this.children[--t].length),new ci(this.children,e,t)}},{key:"computeBlockGapDeco",value:function(){for(var e=[],t=this.view.viewState,n=0,r=0;;r++){var i=r==t.viewports.length?null:t.viewports[r],a=i?i.from-1:this.length;if(a>n){var o=t.lineBlockAt(a).bottom-t.lineBlockAt(n).top;e.push(Wi.replace({widget:new Ja(o),block:!0,inclusive:!0,isBlockGap:!0}).range(n,a))}if(!i)break;n=i.to+1}return Wi.set(e)}},{key:"updateDeco",value:function(){for(var e=this,t=this.view.state.facet(va).map((function(t,n){return(e.dynamicDecorationMap[n]="function"==typeof t)?t(e.view):t})),n=t.length;n<t.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[].concat(f(t),[this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco])}},{key:"scrollIntoView",value:function(e){var t,n=this,r=e.range,i=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1);if(i){!r.empty&&(t=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(i={left:Math.min(i.left,t.left),top:Math.min(i.top,t.top),right:Math.max(i.right,t.right),bottom:Math.max(i.bottom,t.bottom)});var a,o=0,s=0,l=0,u=0,c=E(this.view.state.facet(ya).map((function(e){return e(n.view)})));try{for(c.s();!(a=c.n()).done;){var f=a.value;if(f){var h=f.left,d=f.right,p=f.top,m=f.bottom;null!=h&&(o=Math.max(o,h)),null!=d&&(s=Math.max(s,d)),null!=p&&(l=Math.max(l,p)),null!=m&&(u=Math.max(u,m))}}}catch(g){c.e(g)}finally{c.f()}var v={left:i.left-o,top:i.top-l,right:i.right+s,bottom:i.bottom+u};!function(e,t,n,r,i,a,o,s){for(var l=e.ownerDocument,u=l.defaultView||window,c=e;c;)if(1==c.nodeType){var f=void 0,h=c==l.body;if(h)f=Yr(u);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}var d=c.getBoundingClientRect();f={left:d.left,right:d.left+c.clientWidth,top:d.top,bottom:d.top+c.clientHeight}}var p=0,m=0;if("nearest"==i)t.top<f.top?(m=-(f.top-t.top+o),n>0&&t.bottom>f.bottom+m&&(m=t.bottom-f.bottom+m+o)):t.bottom>f.bottom&&(m=t.bottom-f.bottom+o,n<0&&t.top-m<f.top&&(m=-(f.top+m-t.top+o)));else{var v=t.bottom-t.top,g=f.bottom-f.top;m=("center"==i&&v<=g?t.top+v/2-g/2:"start"==i||"center"==i&&n<0?t.top-o:t.bottom-g+o)-f.top}if("nearest"==r?t.left<f.left?(p=-(f.left-t.left+a),n>0&&t.right>f.right+p&&(p=t.right-f.right+p+a)):t.right>f.right&&(p=t.right-f.right+a,n<0&&t.left<f.left+p&&(p=-(f.left+p-t.left+a))):p=("center"==r?t.left+(t.right-t.left)/2-(f.right-f.left)/2:"start"==r==s?t.left-a:t.right-(f.right-f.left)+a)-f.left,p||m)if(h)u.scrollBy(p,m);else{var y=0,b=0;if(m){var x=c.scrollTop;c.scrollTop+=m,b=c.scrollTop-x}if(p){var w=c.scrollLeft;c.scrollLeft+=p,y=c.scrollLeft-w}t={left:t.left-y,top:t.top-b,right:t.right-y,bottom:t.bottom-b},y&&Math.abs(y-p)<1&&(r="nearest"),b&&Math.abs(b-m)<1&&(i="nearest")}if(h)break;c=c.assignedSlot||c.parentNode}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,v,r.head<r.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==ka.LTR)}}}]),n}(li);function Ga(e){return 1==e.node.nodeType&&e.node.firstChild&&(0==e.offset||"false"==e.node.childNodes[e.offset-1].contentEditable)&&(e.offset==e.node.childNodes.length||"false"==e.node.childNodes[e.offset].contentEditable)}var Ja=function(e){y(n,e);var t=j(n);function n(e){var r;return h(this,n),(r=t.call(this)).height=e,r}return v(n,[{key:"toDOM",value:function(){var e=document.createElement("div");return this.updateDOM(e),e}},{key:"eq",value:function(e){return e.height==this.height}},{key:"updateDOM",value:function(e){return e.style.height=this.height+"px",!0}},{key:"estimatedHeight",get:function(){return this.height}}]),n}(Bi);function Qa(e){var t=e.observer.selectionRange,n=t.focusNode&&Xa(t.focusNode,t.focusOffset,0);if(!n)return null;var r=e.docView.nearest(n);if(!r)return null;if(r instanceof Ki){for(var i=n;i.parentNode!=r.dom;)i=i.parentNode;for(var a=i.previousSibling;a&&!li.get(a);)a=a.previousSibling;var o=a?li.get(a).posAtEnd:r.posAtStart;return{from:o,to:o,node:i,text:n}}for(;;){var s=r.parent;if(!s)return null;if(s instanceof Ki)break;r=s}var l=r.posAtStart;return{from:l,to:l+r.length,node:r.dom,text:n}}var Ya=function(e){y(n,e);var t=j(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).top=e,a.text=r,a.topView=i,a}return v(n,[{key:"eq",value:function(e){return this.top==e.top&&this.text==e.text}},{key:"toDOM",value:function(){return this.top}},{key:"ignoreEvent",value:function(){return!1}},{key:"customView",get:function(){return _i}}]),n}(Bi);function Xa(e,t,n){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&n<=0)t=Gr(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&n>=0))return null;e=e.childNodes[t],t=0}}}function Za(e,t){return 1!=e.nodeType?0:(t&&"false"==e.childNodes[t-1].contentEditable?1:0)|(t<e.childNodes.length&&"false"==e.childNodes[t].contentEditable?2:0)}var eo=function(){function e(){h(this,e),this.changes=[]}return v(e,[{key:"compareRange",value:function(e,t){$i(e,t,this.changes)}},{key:"comparePoint",value:function(e,t){$i(e,t,this.changes)}}]),e}();function to(e,t){for(var n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}function no(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function ro(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function io(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function ao(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function oo(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function so(e,t,n){for(var r,i,a,o,s,l,u,c,f=!1,h=e.firstChild;h;h=h.nextSibling)for(var d=qr(h),p=0;p<d.length;p++){var m=d[p];i&&io(i,m)&&(m=ao(oo(m,i.bottom),i.top));var v=no(t,m),g=ro(n,m);if(0==v&&0==g)return 3==h.nodeType?lo(h,t,n):so(h,t,n);(!r||o>g||o==g&&a>v)&&(r=h,i=m,a=v,o=g,f=!v||(v>0?p<d.length-1:p>0)),0==v?n>m.bottom&&(!u||u.bottom<m.bottom)?(s=h,u=m):n<m.top&&(!c||c.top>m.top)&&(l=h,c=m):u&&io(u,m)?u=oo(u,m.bottom):c&&io(c,m)&&(c=ao(c,m.top))}if(u&&u.bottom>=n?(r=s,i=u):c&&c.top<=n&&(r=l,i=c),!r)return{node:e,offset:0};var y=Math.max(i.left,Math.min(i.right,t));return 3==r.nodeType?lo(r,y,n):f&&"false"!=r.contentEditable?so(r,y,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(i.left+i.right)/2?1:0)}}function lo(e,t,n){for(var r=e.nodeValue.length,i=-1,a=1e9,o=0,s=0;s<r;s++)for(var l=ni(e,s,s+1).getClientRects(),u=0;u<l.length;u++){var c=l[u];if(c.top!=c.bottom){o||(o=t-c.left);var f=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&f<a){var h=t>=(c.left+c.right)/2,d=h;if(Si.chrome||Si.gecko)ni(e,s).getBoundingClientRect().left==c.right&&(d=!h);if(f<=0)return{node:e,offset:s+(d?1:0)};i=s+(d?1:0),a=f}}}return{node:e,offset:i>-1?i:o>0?e.nodeValue.length:0}}function uo(e,t,n){var r,i,a=t.x,o=t.y,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,l=e.contentDOM.getBoundingClientRect(),u=l.top+e.viewState.paddingTop,c=e.viewState.docHeight,f=o-u;if(f<0)return 0;if(f>c)return e.state.doc.length;for(var h=e.defaultLineHeight/2,d=!1;(i=e.elementAtHeight(f)).type!=Fi.Text;)for(;!((f=s>0?i.bottom+h:i.top-h)>=0&&f<=c);){if(d)return n?null:0;d=!0,s=-s}o=u+f;var p=i.from;if(p<e.viewport.from)return 0==e.viewport.from?0:n?null:co(e,l,i,a,o);if(p>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:co(e,l,i,a,o);var m=e.dom.ownerDocument,v=e.root.elementFromPoint?e.root:m,g=v.elementFromPoint(a,o);g&&!e.contentDOM.contains(g)&&(g=null),g||(a=Math.max(l.left+1,Math.min(l.right-1,a)),(g=v.elementFromPoint(a,o))&&!e.contentDOM.contains(g)&&(g=null));var y,b=-1;if(g&&0!=(null===(r=e.docView.nearest(g))||void 0===r?void 0:r.isEditable))if(m.caretPositionFromPoint){var x=m.caretPositionFromPoint(a,o);x&&(y=x.offsetNode,b=x.offset)}else if(m.caretRangeFromPoint){var w=m.caretRangeFromPoint(a,o);w&&(y=w.startContainer,b=w.startOffset,(!e.contentDOM.contains(y)||Si.safari&&fo(y,b,a)||Si.chrome&&ho(y,b,a))&&(y=void 0))}if(!y||!e.docView.dom.contains(y)){var k=Ki.find(e.docView,p);if(!k)return f>i.top+i.height/2?i.to:i.from;var j=so(k.dom,a,o);y=j.node,b=j.offset}return e.docView.posFromDOM(y,b)}function co(e,t,n,r,i){var a=Math.round((r-t.left)*e.defaultCharacterWidth);e.lineWrapping&&n.height>1.5*e.defaultLineHeight&&(a+=Math.floor((i-n.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength);var o=e.state.sliceDoc(n.from,n.to);return n.from+Er(o,a,e.state.tabSize)}function fo(e,t,n){var r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(var i=e.nextSibling;i;i=i.nextSibling)if(1!=i.nodeType||"BR"!=i.nodeName)return!1;return ni(e,r-1,r).getBoundingClientRect().left>n}function ho(e,t,n){if(0!=t)return!1;for(var r=e;;){var i=r.parentNode;if(!i||1!=i.nodeType||i.firstChild!=r)return!1;if(i.classList.contains("cm-line"))break;r=i}return n-(1==e.nodeType?e.getBoundingClientRect():ni(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect()).left>5}function po(e,t,n,r){var i=e.state.doc.lineAt(t.head),a=r&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head):null;if(a){var o=e.dom.getBoundingClientRect(),s=e.textDirectionAt(i.from),l=e.posAtCoords({x:n==(s==ka.LTR)?o.right-1:o.left+1,y:(a.top+a.bottom)/2});if(null!=l)return vn.cursor(l,n?-1:1)}var u=Ki.find(e.docView,t.head),c=u?n?u.posAtEnd:u.posAtStart:n?i.to:i.from;return vn.cursor(c,n?-1:1)}function mo(e,t,n,r){for(var i=e.state.doc.lineAt(t.head),a=e.bidiSpans(i),o=e.textDirectionAt(i.from),s=t,l=null;;){var u=Va(i,a,o,s,n),c=Wa;if(!u){if(i.number==(n?e.state.doc.lines:1))return s;c="\n",i=e.state.doc.line(i.number+(n?1:-1)),a=e.bidiSpans(i),u=vn.cursor(n?i.from:i.to)}if(l){if(!l(c))return s}else{if(!r)return u;l=r(c)}s=u}}function vo(e,t,n){for(var r=e.state.facet(ga).map((function(t){return t(e)})),i=function(){var e,i=!1,a=E(r);try{for(a.s();!(e=a.n()).done;){e.value.between(n.from-1,n.from+1,(function(e,r,a){n.from>e&&n.from<r&&(n=t.head>n.from?vn.cursor(e,1):vn.cursor(r,-1),i=!0)}))}}catch(o){a.e(o)}finally{a.f()}if(!i)return{v:n}};;){var a=i();if("object"===typeof a)return a.v}}var go=function(){function e(t){var n=this;h(this,e),this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;var r=function(e,r){n.ignoreDuringComposition(r)||"keydown"==r.type&&n.keydown(t,r)||(n.mustFlushObserver(r)&&t.observer.forceFlush(),n.runCustomHandlers(r.type,t,r)?r.preventDefault():e(t,r))},i=function(){var e=So[a];t.contentDOM.addEventListener(a,(function(n){jo(t,n)&&r(e,n)}),Co[a]),n.registeredEvents.push(a)};for(var a in So)i();t.scrollDOM.addEventListener("mousedown",(function(e){e.target==t.scrollDOM&&r(So.mousedown,e)})),Si.chrome&&102==Si.chrome_version&&t.scrollDOM.addEventListener("wheel",(function(){n.chromeScrollHack<0?t.contentDOM.style.pointerEvents="none":window.clearTimeout(n.chromeScrollHack),n.chromeScrollHack=setTimeout((function(){n.chromeScrollHack=-1,t.contentDOM.style.pointerEvents=""}),100)}),{passive:!0}),this.notifiedFocused=t.hasFocus,Si.safari&&t.contentDOM.addEventListener("input",(function(){return null}))}return v(e,[{key:"setSelectionOrigin",value:function(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(e,t){var n,r,i=this;this.customHandlers=[];var a,o=E(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(r=null===(n=s.update(e).spec)||void 0===n?void 0:n.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:r});var l=function(t){i.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(i.registeredEvents.push(t),e.contentDOM.addEventListener(t,(function(n){jo(e,n)&&i.runCustomHandlers(t,e,n)&&n.preventDefault()})))};for(var u in r)l(u)}}}catch(c){o.e(c)}finally{o.f()}}},{key:"runCustomHandlers",value:function(e,t,n){var r,i=E(this.customHandlers);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.handlers[e];if(o)try{if(o.call(a.plugin,n,t)||n.defaultPrevented)return!0}catch(s){la(t.state,s)}}}catch(l){i.e(l)}finally{i.f()}return!1}},{key:"runScrollHandlers",value:function(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;var n,r=E(this.customHandlers);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.handlers.scroll;if(a)try{a.call(i.plugin,t,e)}catch(o){la(e.state,o)}}}catch(s){r.e(s)}finally{r.f()}}},{key:"keydown",value:function(e,t){var n,r=this;return this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3||(!Si.android||!Si.chrome||t.synthetic||13!=t.keyCode&&8!=t.keyCode?!(!Si.ios||t.synthetic||t.altKey||t.metaKey||!((n=yo.find((function(e){return e.keyCode==t.keyCode})))&&!t.ctrlKey||bo.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey))&&(this.pendingIOSKey=n||t,setTimeout((function(){return r.flushIOSKey(e)}),250),!0):(e.observer.delayAndroidKey(t.key,t.keyCode),!0))}},{key:"flushIOSKey",value:function(e){var t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,ri(e.contentDOM,t.key,t.keyCode))}},{key:"ignoreDuringComposition",value:function(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Si.safari&&!Si.ios&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}},{key:"mustFlushObserver",value:function(e){return"keydown"==e.type&&229!=e.keyCode}},{key:"startMouseSelection",value:function(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}},{key:"update",value:function(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]),e}(),yo=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],bo="dthko",xo=[16,17,18,20,91,92,224,225];function wo(e){return.7*e+8}var ko=function(){function e(t,n,r,i){h(this,e),this.view=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=function(e){for(var t=e.ownerDocument,n=e.parentNode;n&&n!=t.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(t.contentDOM);var a=t.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=t.state.facet(or.allowMultipleSelections)&&function(e,t){var n=e.state.facet(Xi);return n.length?n[0](t):Si.mac?t.metaKey:t.ctrlKey}(t,n),this.dragMove=function(e,t){var n=e.state.facet(Zi);return n.length?n[0](t):Si.mac?!t.altKey:!t.ctrlKey}(t,n),this.dragging=!(!function(e,t){var n=e.state.selection.main;if(n.empty)return!1;var r=Wr(e.root);if(!r||0==r.rangeCount)return!0;for(var i=r.getRangeAt(0).getClientRects(),a=0;a<i.length;a++){var o=i[a];if(o.left<=t.clientX&&o.right>=t.clientX&&o.top<=t.clientY&&o.bottom>=t.clientY)return!0}return!1}(t,n)||1!=Io(n))&&null,!1===this.dragging&&(n.preventDefault(),this.select(n))}return v(e,[{key:"move",value:function(e){var t;if(0==e.buttons)return this.destroy();if(!1===this.dragging){this.select(this.lastEvent=e);var n=0,r=0,i=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=i.left?n=-wo(i.left-e.clientX):e.clientX>=i.right&&(n=wo(e.clientX-i.right)),e.clientY<=i.top?r=-wo(i.top-e.clientY):e.clientY>=i.bottom&&(r=wo(e.clientY-i.bottom)),this.setScrollSpeed(n,r)}}},{key:"up",value:function(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}},{key:"destroy",value:function(){this.setScrollSpeed(0,0);var e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}},{key:"setScrollSpeed",value:function(e,t){var n=this;this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((function(){return n.scroll()}),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}},{key:"scroll",value:function(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}},{key:"select",value:function(e){var t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}},{key:"update",value:function(e){var t=this;e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((function(){return t.select(t.lastEvent)}),20)}}]),e}();function jo(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=li.get(r))&&n.ignoreEvent(t))return!1;return!0}var So=Object.create(null),Co=Object.create(null),Eo=Si.ie&&Si.ie_version<15||Si.ios&&Si.webkit_version<604;function To(e,t){var n,r=e.state,i=1,a=r.toText(t),o=a.lines==r.selection.ranges.length,s=null!=Bo&&r.selection.ranges.every((function(e){return e.empty}))&&Bo==a.toString();if(s){var l=-1;n=r.changeByRange((function(e){var n=r.doc.lineAt(e.from);if(n.from==l)return{range:e};l=n.from;var s=r.toText((o?a.line(i++).text:t)+r.lineBreak);return{changes:{from:n.from,insert:s},range:vn.cursor(e.from+s.length)}}))}else n=o?r.changeByRange((function(e){var t=a.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:vn.cursor(e.from+t.length)}})):r.replaceSelection(a);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Mo(e,t,n,r){if(1==r)return vn.cursor(t,n);if(2==r)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.charCategorizer(t),i=e.doc.lineAt(t),a=t-i.from;if(0==i.length)return vn.cursor(t);0==a?n=1:a==i.length&&(n=-1);var o=a,s=a;n<0?o=Qt(i.text,a,!1):s=Qt(i.text,a);for(var l=r(i.text.slice(o,s));o>0;){var u=Qt(i.text,o,!1);if(r(i.text.slice(u,o))!=l)break;o=u}for(;s<i.length;){var c=Qt(i.text,s);if(r(i.text.slice(s,c))!=l)break;s=c}return vn.range(o+i.from,s+i.from)}(e.state,t,n);var i=Ki.find(e.docView,t),a=e.state.doc.lineAt(i?i.posAtEnd:t),o=i?i.posAtStart:a.from,s=i?i.posAtEnd:a.to;return s<e.state.doc.length&&s==a.to&&s++,vn.range(o,s)}So.keydown=function(e,t){e.inputState.setSelectionOrigin("select"),27==t.keyCode?e.inputState.lastEscPress=Date.now():xo.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0)},So.touchstart=function(e,t){e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},So.touchmove=function(e){e.inputState.setSelectionOrigin("select.pointer")},Co.touchstart=Co.touchmove={passive:!0},So.mousedown=function(e,t){if(e.observer.flush(),!(e.inputState.lastTouchTime>Date.now()-2e3)){var n,r=null,i=E(e.state.facet(ea));try{for(i.s();!(n=i.n()).done;){if(r=(0,n.value)(e,t))break}}catch(o){i.e(o)}finally{i.f()}if(r||0!=t.button||(r=function(e,t){var n=Oo(e,t),r=Io(t),i=e.state.selection;return{update:function(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),i=i.map(e.changes))},get:function(t,a,o){var s=Oo(e,t),l=Mo(e,s.pos,s.bias,r);if(n.pos!=s.pos&&!a){var u=Mo(e,n.pos,n.bias,r),c=Math.min(u.from,l.from),f=Math.max(u.to,l.to);l=c<l.from?vn.range(c,f):vn.range(f,c)}return a?i.replaceRange(i.main.extend(l.from,l.to)):o&&i.ranges.length>1&&i.ranges.some((function(e){return e.eq(l)}))?function(e,t){for(var n=0;;n++)if(e.ranges[n].eq(t))return vn.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}(i,l):o?i.addRange(l):vn.create([l])}}}(e,t)),r){var a=e.root.activeElement!=e.contentDOM;a&&e.observer.ignore((function(){return ti(e.contentDOM)})),e.inputState.startMouseSelection(new ko(e,t,r,a))}}};var _o=function(e,t){return e>=t.top&&e<=t.bottom},No=function(e,t,n){return _o(t,n)&&e>=n.left&&e<=n.right};function Ao(e,t,n,r){var i=Ki.find(e.docView,t);if(!i)return 1;var a=t-i.posAtStart;if(0==a)return 1;if(a==i.length)return-1;var o=i.coordsAt(a,-1);if(o&&No(n,r,o))return-1;var s=i.coordsAt(a,1);return s&&No(n,r,s)?1:o&&_o(r,o)?-1:1}function Oo(e,t){var n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:Ao(e,n,t.clientX,t.clientY)}}var Do=Si.ie&&Si.ie_version<=11,Po=null,Ro=0,Lo=0;function Io(e){if(!Do)return e.detail;var t=Po,n=Lo;return Po=e,Lo=Date.now(),Ro=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Ro+1)%3:1}function zo(e,t,n,r){if(n){var i=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();var a=e.inputState.mouseSelection,o=r&&a&&a.dragging&&a.dragMove?{from:a.dragging.from,to:a.dragging.to}:null,s={from:i,insert:n},l=e.state.changes(o?[o,s]:s);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"})}}So.dragstart=function(e,t){var n=e.state.selection.main,r=e.inputState.mouseSelection;r&&(r.dragging=n),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove")},So.drop=function(e,t){if(t.dataTransfer){if(e.state.readOnly)return t.preventDefault();var n=t.dataTransfer.files;if(n&&n.length){t.preventDefault();for(var r=Array(n.length),i=0,a=function(){++i==n.length&&zo(e,t,r.filter((function(e){return null!=e})).join(e.state.lineBreak),!1)},o=function(e){var t=new FileReader;t.onerror=a,t.onload=function(){/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),a()},t.readAsText(n[e])},s=0;s<n.length;s++)o(s)}else zo(e,t,t.dataTransfer.getData("Text"),!0)}},So.paste=function(e,t){if(e.state.readOnly)return t.preventDefault();e.observer.flush();var n=Eo?null:t.clipboardData;n?(To(e,n.getData("text/plain")),t.preventDefault()):function(e){var t=e.dom.parentNode;if(t){var n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((function(){e.focus(),n.remove(),To(e,n.value)}),50)}}(e)};var Bo=null;function Fo(e){setTimeout((function(){e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)}So.copy=So.cut=function(e,t){var n=function(e){var t,n=[],r=[],i=!1,a=E(e.selection.ranges);try{for(a.s();!(t=a.n()).done;){var o=t.value;o.empty||(n.push(e.sliceDoc(o.from,o.to)),r.push(o))}}catch(h){a.e(h)}finally{a.f()}if(!n.length){var s,l=-1,u=E(e.selection.ranges);try{for(u.s();!(s=u.n()).done;){var c=s.value.from,f=e.doc.lineAt(c);f.number>l&&(n.push(f.text),r.push({from:f.from,to:Math.min(e.doc.length,f.to+1)})),l=f.number}}catch(h){u.e(h)}finally{u.f()}i=!0}return{text:n.join(e.lineBreak),ranges:r,linewise:i}}(e.state),r=n.text,i=n.ranges,a=n.linewise;if(r||a){Bo=a?r:null;var o=Eo?null:t.clipboardData;o?(t.preventDefault(),o.clearData(),o.setData("text/plain",r)):function(e,t){var n=e.dom.parentNode;if(n){var r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((function(){r.remove(),e.focus()}),50)}}(e,r),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})}},So.focus=function(e){e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),Fo(e)},So.blur=function(e){e.observer.clearSelectionRange(),Fo(e)},So.compositionstart=So.compositionupdate=function(e){null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)},So.compositionend=function(e){e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,Si.chrome&&Si.android&&e.observer.flushSoon(),setTimeout((function(){e.inputState.composing<0&&e.docView.compositionDeco.size&&e.update([])}),50)},So.contextmenu=function(e){e.inputState.lastContextMenu=Date.now()},So.beforeinput=function(e,t){var n,r;if(Si.chrome&&Si.android&&(r=yo.find((function(e){return e.inputType==t.inputType})))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){var i=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((function(){var t;((null===(t=window.visualViewport)||void 0===t?void 0:t.height)||0)>i+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};var Wo=["pre-wrap","normal","pre-line","break-spaces"],Vo=function(){function e(t){h(this,e),this.lineWrapping=t,this.doc=Lt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}return v(e,[{key:"heightForGap",value:function(e,t){var n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}},{key:"heightForLine",value:function(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(e){return this.doc=e,this}},{key:"mustRefreshForWrapping",value:function(e){return Wo.indexOf(e)>-1!=this.lineWrapping}},{key:"mustRefreshForHeights",value:function(e){for(var t=!1,n=0;n<e.length;n++){var r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}},{key:"refresh",value:function(e,t,n,r,i){var a=Wo.indexOf(e)>-1,o=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=n,this.lineLength=r,o){this.heightSamples={};for(var s=0;s<i.length;s++){var l=i[s];l<0?s++:this.heightSamples[Math.floor(10*l)]=!0}}return o}}]),e}(),Ho=function(){function e(t,n){h(this,e),this.from=t,this.heights=n,this.index=0}return v(e,[{key:"more",get:function(){return this.index<this.heights.length}}]),e}(),qo=function(){function e(t,n,r,i,a){h(this,e),this.from=t,this.length=n,this.top=r,this.height=i,this.type=a}return v(e,[{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}},{key:"join",value:function(t){var n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new e(this.from,this.length+t.length,this.top,this.height+t.height,n)}}]),e}(),Uo=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(Uo||(Uo={})),$o=.001,Ko=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;h(this,e),this.length=t,this.height=n,this.flags=r}return v(e,[{key:"outdated",get:function(){return(2&this.flags)>0},set:function(e){this.flags=(e?2:0)|-3&this.flags}},{key:"setHeight",value:function(e,t){this.height!=t&&(Math.abs(this.height-t)>$o&&(e.heightChanged=!0),this.height=t)}},{key:"replace",value:function(t,n,r){return e.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(this)}},{key:"decomposeRight",value:function(e,t){t.push(this)}},{key:"applyChanges",value:function(e,t,n,r){for(var i=this,a=r.length-1;a>=0;a--){var o=r[a],s=o.fromA,l=o.toA,u=o.fromB,c=o.toB,f=i.lineAt(s,Uo.ByPosNoHeight,t,0,0),h=f.to>=l?f:i.lineAt(l,Uo.ByPosNoHeight,t,0,0);for(c+=h.to-l,l=h.to;a>0&&f.from<=r[a-1].toA;)s=r[a-1].fromA,u=r[a-1].fromB,a--,s<f.from&&(f=i.lineAt(s,Uo.ByPosNoHeight,t,0,0));u+=f.from-s,s=f.from;var d=Zo.build(n,e,u,c);i=i.replace(s,l,d)}return i.updateHeight(n,0)}}],[{key:"empty",value:function(){return new Jo(0,0)}},{key:"of",value:function(t){if(1==t.length)return t[0];for(var n=0,r=t.length,i=0,a=0;;)if(n==r)if(i>2*a){var o=t[n-1];o.break?t.splice(--n,1,o.left,null,o.right):t.splice(--n,1,o.left,o.right),r+=1+o.break,i-=o.size}else{if(!(a>2*i))break;var s=t[r];s.break?t.splice(r,1,s.left,null,s.right):t.splice(r,1,s.left,s.right),r+=2+s.break,a-=s.size}else if(i<a){var l=t[n++];l&&(i+=l.size)}else{var u=t[--r];u&&(a+=u.size)}var c=0;return null==t[n-1]?(c=1,n--):null==t[n]&&(c=1,r++),new Yo(e.of(t.slice(0,n)),c,e.of(t.slice(r)))}}]),e}();Ko.prototype.size=1;var Go=function(e){y(n,e);var t=j(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r)).type=i,a}return v(n,[{key:"blockAt",value:function(e,t,n,r){return new qo(r,this.length,n,this.height,this.type)}},{key:"lineAt",value:function(e,t,n,r,i){return this.blockAt(0,n,r,i)}},{key:"forEachLine",value:function(e,t,n,r,i,a){e<=i+this.length&&t>=i&&a(this.blockAt(0,n,r,i))}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>3?arguments[3]:void 0;return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]),n}(Ko),Jo=function(e){y(n,e);var t=j(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,Fi.Text)).collapsed=0,i.widgetHeight=0,i}return v(n,[{key:"replace",value:function(e,t,r){var i=r[0];return 1==r.length&&(i instanceof n||i instanceof Qo&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof Qo?i=new n(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Ko.of(r)}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]),n}(Go),Qo=function(e){y(n,e);var t=j(n);function n(e){return h(this,n),t.call(this,e,0)}return v(n,[{key:"lines",value:function(e,t){var n=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:n,lastLine:r,lineHeight:this.height/(r-n+1)}}},{key:"blockAt",value:function(e,t,n,r){var i=this.lines(t,r),a=i.firstLine,o=i.lastLine,s=i.lineHeight,l=Math.max(0,Math.min(o-a,Math.floor((e-n)/s))),u=t.line(a+l),c=u.from,f=u.length;return new qo(c,f,n+s*l,s,Fi.Text)}},{key:"lineAt",value:function(e,t,n,r,i){if(t==Uo.ByHeight)return this.blockAt(e,n,r,i);if(t==Uo.ByPosNoHeight){var a=n.lineAt(e),o=a.from,s=a.to;return new qo(o,s-o,0,0,Fi.Text)}var l=this.lines(n,i),u=l.firstLine,c=l.lineHeight,f=n.lineAt(e),h=f.from,d=f.length,p=f.number;return new qo(h,d,r+c*(p-u),c,Fi.Text)}},{key:"forEachLine",value:function(e,t,n,r,i,a){for(var o=this.lines(n,i),s=o.firstLine,l=o.lineHeight,u=Math.max(e,i),c=Math.min(i+this.length,t);u<=c;){var f=n.lineAt(u);u==e&&(r+=l*(f.number-s)),a(new qo(f.from,f.length,r,l,Fi.Text)),r+=l,u=f.to+1}}},{key:"replace",value:function(e,t,r){var i=this.length-t;if(i>0){var a=r[r.length-1];a instanceof n?r[r.length-1]=new n(a.length+i):r.push(null,new n(i-1))}if(e>0){var o=r[0];o instanceof n?r[0]=new n(e+o.length):r.unshift(new n(e-1),null)}return Ko.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(new n(e-1),null)}},{key:"decomposeRight",value:function(e,t){t.push(null,new n(this.length-e-1))}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,a=t+this.length;if(i&&i.from<=t+this.length&&i.more){var o=[],s=Math.max(t,i.from),l=-1,u=e.heightChanged;for(i.from>t&&o.push(new n(i.from-t-1).updateHeight(e,t));s<=a&&i.more;){var c=e.doc.lineAt(s).length;o.length&&o.push(null);var f=i.heights[i.index++];-1==l?l=f:Math.abs(f-l)>=$o&&(l=-2);var h=new Jo(c,f);h.outdated=!1,o.push(h),s+=c+1}s<=a&&o.push(null,new n(a-s).updateHeight(e,s));var d=Ko.of(o);return e.heightChanged=u||l<0||Math.abs(d.height-this.height)>=$o||Math.abs(l-this.lines(e.doc,t).lineHeight)>=$o,d}return(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]),n}(Ko),Yo=function(e){y(n,e);var t=j(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e.length+r+i.length,e.height+i.height,r|(e.outdated||i.outdated?2:0))).left=e,a.right=i,a.size=e.size+i.size,a}return v(n,[{key:"break",get:function(){return 1&this.flags}},{key:"blockAt",value:function(e,t,n,r){var i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,i,r+this.left.length+this.break)}},{key:"lineAt",value:function(e,t,n,r,i){var a=r+this.left.height,o=i+this.left.length+this.break,s=t==Uo.ByHeight?e<a:e<o,l=s?this.left.lineAt(e,t,n,r,i):this.right.lineAt(e,t,n,a,o);if(this.break||(s?l.to<o:l.from>o))return l;var u=t==Uo.ByPosNoHeight?Uo.ByPosNoHeight:Uo.ByPos;return s?l.join(this.right.lineAt(o,u,n,a,o)):this.left.lineAt(o,u,n,r,i).join(l)}},{key:"forEachLine",value:function(e,t,n,r,i,a){var o=r+this.left.height,s=i+this.left.length+this.break;if(this.break)e<s&&this.left.forEachLine(e,t,n,r,i,a),t>=s&&this.right.forEachLine(e,t,n,o,s,a);else{var l=this.lineAt(s,Uo.ByPos,n,r,i);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,i,a),l.to>=e&&l.from<=t&&a(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,o,s,a)}}},{key:"replace",value:function(e,t,n){var r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));var i=[];e>0&&this.decomposeLeft(e,i);var a,o=i.length,s=E(n);try{for(s.s();!(a=s.n()).done;){var l=a.value;i.push(l)}}catch(c){s.e(c)}finally{s.f()}if(e>0&&Xo(i,o-1),t<this.length){var u=i.length;this.decomposeRight(t,i),Xo(i,u)}return Ko.of(i)}},{key:"decomposeLeft",value:function(e,t){var n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&e>=++n&&t.push(null),e>n&&this.right.decomposeLeft(e-n,t)}},{key:"decomposeRight",value:function(e,t){var n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}},{key:"balanced",value:function(e,t){return e.size>2*t.size||t.size>2*e.size?Ko.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=this.left,a=this.right,o=t+i.length+this.break,s=null;return r&&r.from<=t+i.length&&r.more?s=i=i.updateHeight(e,t,n,r):i.updateHeight(e,t,n),r&&r.from<=o+a.length&&r.more?s=a=a.updateHeight(e,o,n,r):a.updateHeight(e,o,n),s?this.balanced(i,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}},{key:"toString",value:function(){return this.left+(this.break?" ":"-")+this.right}}]),n}(Ko);function Xo(e,t){var n,r;null==e[t]&&(n=e[t-1])instanceof Qo&&(r=e[t+1])instanceof Qo&&e.splice(t-1,3,new Qo(n.length+1+r.length))}var Zo=function(){function e(t,n){h(this,e),this.pos=t,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}return v(e,[{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"span",value:function(e,t){if(this.lineStart>-1){var n=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Jo?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Jo(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}},{key:"point",value:function(e,t,n){if(e<t||n.heightRelevant){var r=n.widget?n.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);var i=t-e;n.block?this.addBlock(new Go(i,r,n.type)):(i||r>=5)&&this.addLineDeco(r,i)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(this.lineStart>-1)){var e=this.oracle.doc.lineAt(this.pos),t=e.from,n=e.to;this.lineStart=t,this.lineEnd=n,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Jo(this.pos-t,-1)),this.writtenTo=this.pos}}},{key:"blankContent",value:function(e,t){var n=new Qo(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}},{key:"ensureLine",value:function(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Jo)return e;var t=new Jo(0,-1);return this.nodes.push(t),t}},{key:"addBlock",value:function(e){this.enterLine(),e.type!=Fi.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Fi.WidgetBefore&&(this.covering=e)}},{key:"addLineDeco",value:function(e,t){var n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}},{key:"finish",value:function(e){var t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Jo||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Jo(0,-1));var n,r=e,i=E(this.nodes);try{for(i.s();!(n=i.n()).done;){var a=n.value;a instanceof Jo&&a.updateHeight(this.oracle,r),r+=a?a.length:1}}catch(o){i.e(o)}finally{i.f()}return this.nodes}}],[{key:"build",value:function(t,n,r,i){var a=new e(r,t);return hr.spans(n,r,i,a,0),a.finish(r)}}]),e}();function es(e,t,n){var r=new ts;return hr.compare(e,t,n,r,0),r.changes}var ts=function(){function e(){h(this,e),this.changes=[]}return v(e,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&$i(e,t,this.changes,5)}}]),e}();function ns(e,t){for(var n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,a=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom),u=e.parentNode;u&&u!=r.body;)if(1==u.nodeType){var c=u,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&"visible"!=f.overflow){var h=c.getBoundingClientRect();a=Math.max(a,h.left),o=Math.min(o,h.right),s=Math.max(s,h.top),l=u==e.parentNode?h.bottom:Math.min(l,h.bottom)}u="absolute"==f.position||"fixed"==f.position?c.offsetParent:c.parentNode}else{if(11!=u.nodeType)break;u=u.host}return{left:a-n.left,right:Math.max(a,o)-n.left,top:s-(n.top+t),bottom:Math.max(s,l)-(n.top+t)}}function rs(e,t){var n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}var is=function(){function e(t,n,r){h(this,e),this.from=t,this.to=n,this.size=r}return v(e,[{key:"draw",value:function(e){return Wi.replace({widget:new as(this.size,e)}).range(this.from,this.to)}}],[{key:"same",value:function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}}]),e}(),as=function(e){y(n,e);var t=j(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).size=e,i.vertical=r,i}return v(n,[{key:"eq",value:function(e){return e.size==this.size&&e.vertical==this.vertical}},{key:"toDOM",value:function(){var e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}},{key:"estimatedHeight",get:function(){return this.vertical?this.size:-1}}]),n}(Bi),os=function(){function e(t){h(this,e),this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=fs,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ka.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;var n=t.facet(ma).some((function(e){return"function"!=typeof e&&"cm-lineWrapping"==e.class}));this.heightOracle=new Vo(n),this.stateDeco=t.facet(va).filter((function(e){return"function"!=typeof e})),this.heightMap=Ko.empty().applyChanges(this.stateDeco,Lt.empty,this.heightOracle.setDoc(t.doc),[new xa(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Wi.set(this.lineGaps.map((function(e){return e.draw(!1)}))),this.computeVisibleRanges()}return v(e,[{key:"updateForViewport",value:function(){for(var e=this,t=[this.viewport],n=this.state.selection.main,r=function(){var r=i?n.head:n.anchor;if(!t.some((function(e){var t=e.from,n=e.to;return r>=t&&r<=n}))){var a=e.lineBlockAt(r),o=a.from,s=a.to;t.push(new ss(o,s))}},i=0;i<=1;i++)r();this.viewports=t.sort((function(e,t){return e.from-t.from})),this.scaler=this.heightMap.height<=7e6?fs:new hs(this.heightOracle.doc,this.heightMap,this.viewports)}},{key:"updateViewportLines",value:function(){var e=this;this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(function(t){e.viewportLines.push(1==e.scaler.scale?t:ds(t,e.scaler))}))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state=e.state;var n=this.stateDeco;this.stateDeco=this.state.facet(va).filter((function(e){return"function"!=typeof e}));var r=e.changedRanges,i=xa.extendWithRanges(r,es(n,this.stateDeco,e?e.changes:ln.empty(this.state.doc.length))),a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=a&&(e.flags|=2);var o=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<o.from||t.range.head>o.to)||!this.viewportIsAppropriate(o))&&(o=this.getViewport(0,t));var s=!e.changes.empty||2&e.flags||o.from!=this.viewport.from||o.to!=this.viewport.to;this.viewport=o,this.updateForViewport(),s&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(aa)&&(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(e){var t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?ka.RTL:ka.LTR;var a=this.heightOracle.mustRefreshForWrapping(i),o=a||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;var s=0,l=0,u=parseInt(n.paddingTop)||0,c=parseInt(n.paddingBottom)||0;this.paddingTop==u&&this.paddingBottom==c||(this.paddingTop=u,this.paddingBottom=c,s|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(o=!0),this.editorWidth=e.scrollDOM.clientWidth,s|=8);var f=(this.printing?rs:ns)(t,this.paddingTop),h=f.top-this.pixelViewport.top,d=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;var p=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(p!=this.inView&&(this.inView=p,p&&(o=!0)),!this.inView&&!this.scrollTarget)return 0;var m=t.clientWidth;if(this.contentDOMWidth==m&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=m,this.editorHeight=e.scrollDOM.clientHeight,s|=8),o){var v=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(v)&&(a=!0),a||r.lineWrapping&&Math.abs(m-this.contentDOMWidth)>r.charWidth){var g=e.docView.measureTextSize(),y=g.lineHeight,b=g.charWidth;(a=y>0&&r.refresh(i,y,b,m/b,v))&&(e.docView.minWidth=0,s|=8)}h>0&&d>0?l=Math.max(h,d):h<0&&d<0&&(l=Math.min(h,d)),r.heightChanged=!1;var x,w=E(this.viewports);try{for(w.s();!(x=w.n()).done;){var k=x.value,j=k.from==this.viewport.from?v:e.docView.measureVisibleLineHeights(k);this.heightMap=(a?Ko.empty().applyChanges(this.stateDeco,Lt.empty,this.heightOracle,[new xa(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,a,new Ho(k.from,j))}}catch(C){w.e(C)}finally{w.f()}r.heightChanged&&(s|=2)}var S=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return S&&(this.viewport=this.getViewport(l,this.scrollTarget)),this.updateForViewport(),(2&s||S)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),s|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),s}},{key:"visibleTop",get:function(){return this.scaler.fromDOM(this.pixelViewport.top)}},{key:"visibleBottom",get:function(){return this.scaler.fromDOM(this.pixelViewport.bottom)}},{key:"getViewport",value:function(e,t){var n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,i=this.state.doc,a=this.visibleTop,o=this.visibleBottom,s=new ss(r.lineAt(a-1e3*n,Uo.ByHeight,i,0,0).from,r.lineAt(o+1e3*(1-n),Uo.ByHeight,i,0,0).to);if(t){var l=t.range.head;if(l<s.from||l>s.to){var u,c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=r.lineAt(l,Uo.ByPos,i,0,0);u="center"==t.y?(f.top+f.bottom)/2-c/2:"start"==t.y||"nearest"==t.y&&l<s.from?f.top:f.bottom-c,s=new ss(r.lineAt(u-500,Uo.ByHeight,i,0,0).from,r.lineAt(u+c+500,Uo.ByHeight,i,0,0).to)}}return s}},{key:"mapViewport",value:function(e,t){var n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new ss(this.heightMap.lineAt(n,Uo.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,Uo.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(e){var t=e.from,n=e.to,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.inView)return!0;var i=this.heightMap.lineAt(t,Uo.ByPos,this.state.doc,0,0),a=i.top,o=this.heightMap.lineAt(n,Uo.ByPos,this.state.doc,0,0),s=o.bottom,l=this.visibleTop,u=this.visibleBottom;return(0==t||a<=l-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=u+Math.max(10,Math.min(r,250)))&&a>l-2e3&&s<u+2e3}},{key:"mapLineGaps",value:function(e,t){if(!e.length||t.empty)return e;var n,r=[],i=E(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.touchesRange(a.from,a.to)||r.push(new is(t.mapPos(a.from),t.mapPos(a.to),a.size))}}catch(o){i.e(o)}finally{i.f()}return r}},{key:"ensureLineGaps",value:function(e,t){var n=this,r=this.heightOracle.lineWrapping,i=r?1e4:2e3,a=i>>1,o=i<<1;if(this.defaultTextDirection!=ka.LTR&&!r)return[];var s,l=[],u=function i(o,s,u,c){if(!(s-o<a)){var f=n.state.selection.main,h=[f.from];f.empty||h.push(f.to);for(var d=0,p=h;d<p.length;d++){var m=p[d];if(m>o&&m<s)return i(o,m-10,u,c),void i(m+10,s,u,c)}var v=function(e,t){var n,r=E(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t(i))return i}}catch(a){r.e(a)}finally{r.f()}return}(e,(function(e){return e.from>=u.from&&e.to<=u.to&&Math.abs(e.from-o)<a&&Math.abs(e.to-s)<a&&!h.some((function(t){return e.from<t&&e.to>t}))}));if(!v){if(s<u.to&&t&&r&&t.visibleRanges.some((function(e){return e.from<=s&&e.to>=s}))){var g=t.moveToLineBoundary(vn.cursor(s),!1,!0).head;g>o&&(s=g)}v=new is(o,s,n.gapSize(u,o,s,c))}l.push(v)}},c=E(this.viewportLines);try{for(c.s();!(s=c.n()).done;){var f=s.value;if(!(f.length<o)){var h=ls(f.from,f.to,this.stateDeco);if(!(h.total<o)){var d=this.scrollTarget?this.scrollTarget.range.head:null,p=void 0,m=void 0;if(r){var v=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,g=void 0,y=void 0;if(null!=d){var b=cs(h,d),x=((this.visibleBottom-this.visibleTop)/2+v)/f.height;g=b-x,y=b+x}else g=(this.visibleTop-f.top-v)/f.height,y=(this.visibleBottom-f.top+v)/f.height;p=us(h,g),m=us(h,y)}else{var w=h.total*this.heightOracle.charWidth,k=i*this.heightOracle.charWidth,j=void 0,S=void 0;if(null!=d){var C=cs(h,d),T=((this.pixelViewport.right-this.pixelViewport.left)/2+k)/w;j=C-T,S=C+T}else j=(this.pixelViewport.left-k)/w,S=(this.pixelViewport.right+k)/w;p=us(h,j),m=us(h,S)}p>f.from&&u(f.from,p,f,h),m<f.to&&u(m,f.to,f,h)}}}}catch(M){c.e(M)}finally{c.f()}return l}},{key:"gapSize",value:function(e,t,n,r){var i=cs(r,n)-cs(r,t);return this.heightOracle.lineWrapping?e.height*i:r.total*this.heightOracle.charWidth*i}},{key:"updateLineGaps",value:function(e){var t=this;is.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Wi.set(e.map((function(e){return e.draw(t.heightOracle.lineWrapping)}))))}},{key:"computeVisibleRanges",value:function(){var e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));var t=[];hr.spans(e,this.viewport.from,this.viewport.to,{span:function(e,n){t.push({from:e,to:n})},point:function(){}},20);var n=t.length!=this.visibleRanges.length||this.visibleRanges.some((function(e,n){return e.from!=t[n].from||e.to!=t[n].to}));return this.visibleRanges=t,n?4:0}},{key:"lineBlockAt",value:function(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((function(t){return t.from<=e&&t.to>=e}))||ds(this.heightMap.lineAt(e,Uo.ByPos,this.state.doc,0,0),this.scaler)}},{key:"lineBlockAtHeight",value:function(e){return ds(this.heightMap.lineAt(this.scaler.fromDOM(e),Uo.ByHeight,this.state.doc,0,0),this.scaler)}},{key:"elementAtHeight",value:function(e){return ds(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}},{key:"docHeight",get:function(){return this.scaler.toDOM(this.heightMap.height)}},{key:"contentHeight",get:function(){return this.docHeight+this.paddingTop+this.paddingBottom}}]),e}(),ss=v((function e(t,n){h(this,e),this.from=t,this.to=n}));function ls(e,t,n){var r=[],i=e,a=0;return hr.spans(n,e,t,{span:function(){},point:function(e,t){e>i&&(r.push({from:i,to:e}),a+=e-i),i=t}},20),i<t&&(r.push({from:i,to:t}),a+=t-i),{total:a,ranges:r}}function us(e,t){var n=e.total,r=e.ranges;if(t<=0)return r[0].from;if(t>=1)return r[r.length-1].to;for(var i=Math.floor(n*t),a=0;;a++){var o=r[a],s=o.from,l=o.to-s;if(i<=l)return s+i;i-=l}}function cs(e,t){var n,r=0,i=E(e.ranges);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.from,s=a.to;if(t<=s){r+=t-o;break}r+=s-o}}catch(l){i.e(l)}finally{i.f()}return r/e.total}var fs={toDOM:function(e){return e},fromDOM:function(e){return e},scale:1},hs=function(){function e(t,n,r){h(this,e);var i=0,a=0,o=0;this.viewports=r.map((function(e){var r=e.from,a=e.to,o=n.lineAt(r,Uo.ByPos,t,0,0).top,s=n.lineAt(a,Uo.ByPos,t,0,0).bottom;return i+=s-o,{from:r,to:a,top:o,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(n.height-i);var s,l=E(this.viewports);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.domTop=o+(u.top-a)*this.scale,o=u.domBottom=u.domTop+(u.bottom-u.top),a=u.bottom}}catch(c){l.e(c)}finally{l.f()}}return v(e,[{key:"toDOM",value:function(e){for(var t=0,n=0,r=0;;t++){var i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return r+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,r=i.domBottom}}},{key:"fromDOM",value:function(e){for(var t=0,n=0,r=0;;t++){var i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-r)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,r=i.domBottom}}}]),e}();function ds(e,t){if(1==t.scale)return e;var n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new qo(e.from,e.length,n,r-n,Array.isArray(e.type)?e.type.map((function(e){return ds(e,t)})):e.type)}var ps=bn.define({combine:function(e){return e.join(" ")}}),ms=bn.define({combine:function(e){return e.indexOf(!0)>-1}}),vs=Nr.newName(),gs=Nr.newName(),ys=Nr.newName(),bs={"&light":"."+gs,"&dark":"."+ys};function xs(e,t,n){return new Nr(t,{finish:function(t){return/&/.test(t)?t.replace(/&\w*/,(function(t){if("&"==t)return e;if(!n||!n[t])throw new RangeError("Unsupported selector: ".concat(t));return n[t]})):e+" "+t}})}var ws=xs("."+vs,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},bs),ks=v((function e(t,n,r,i){h(this,e),this.typeOver=i,this.bounds=null,this.text="";var a=t.docView,o=a.impreciseHead,s=a.impreciseAnchor;if(t.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=t.docView.domBoundsAround(n,r,0))){var l=o||s?[]:function(e){var t=[];if(e.root.activeElement!=e.contentDOM)return t;var n=e.observer.selectionRange,r=n.anchorNode,i=n.anchorOffset,a=n.focusNode,o=n.focusOffset;r&&(t.push(new $a(r,i)),a==r&&o==i||t.push(new $a(a,o)));return t}(t),u=new qa(l,t.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=function(e,t){if(0==e.length)return null;var n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?vn.single(n+t,r+t):null}(l,this.bounds.from)}else{var c=t.observer.selectionRange,f=o&&o.node==c.focusNode&&o.offset==c.focusOffset||!Vr(t.contentDOM,c.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(c.focusNode,c.focusOffset),d=s&&s.node==c.anchorNode&&s.offset==c.anchorOffset||!Vr(t.contentDOM,c.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(c.anchorNode,c.anchorOffset);this.newSel=vn.single(d,f)}}));function js(e,t){var n,r=t.newSel,i=e.state.selection.main;if(t.bounds){var a=t.bounds,o=a.from,s=a.to,l=i.from,u=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||Si.android&&t.text.length<s-o)&&(l=i.to,u="end");var c=function(e,t,n,r){var i=Math.min(e.length,t.length),a=0;for(;a<i&&e.charCodeAt(a)==t.charCodeAt(a);)a++;if(a==i&&e.length==t.length)return null;var o=e.length,s=t.length;for(;o>0&&s>0&&e.charCodeAt(o-1)==t.charCodeAt(s-1);)o--,s--;if("end"==r){n-=o+Math.max(0,a-Math.min(o,s))-a}if(o<a&&e.length<t.length){s=(a-=n<=a&&n>=o?a-n:0)+(s-o),o=a}else if(s<a){o=(a-=n<=a&&n>=s?a-n:0)+(o-s),s=a}return{from:a,toA:o,toB:s}}(e.state.doc.sliceString(o,s,Ha),t.text,l-o,u);c&&(Si.chrome&&13==e.inputState.lastKeyCode&&c.toB==c.from+2&&t.text.slice(c.from,c.toB)==Ha+Ha&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:Lt.of(t.text.slice(c.from,c.toB).split(Ha))})}else!r||e.hasFocus&&e.state.facet(ua)&&!r.main.eq(i)||(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:(Si.mac||Si.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())?(r&&2==n.insert.length&&(r=vn.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Lt.of([" "])}):Si.chrome&&n&&n.from==n.to&&n.from==i.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(r&&(r=vn.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Lt.of([" "])}),n){var f=e.state;if(Si.ios&&e.inputState.flushIOSKey(e))return!0;if(Si.android&&(n.from==i.from&&n.to==i.to&&1==n.insert.length&&2==n.insert.lines&&ri(e.contentDOM,"Enter",13)||n.from==i.from-1&&n.to==i.to&&0==n.insert.length&&ri(e.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&0==n.insert.length&&ri(e.contentDOM,"Delete",46)))return!0;var h,d=n.insert.toString();if(e.state.facet(ra).some((function(t){return t(e,n.from,n.to,d)})))return!0;if(e.inputState.composing>=0&&e.inputState.composing++,n.from>=i.from&&n.to<=i.to&&n.to-n.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==n.from+n.insert.length)&&e.inputState.composing<0){var p=i.from<n.from?f.sliceDoc(i.from,n.from):"",m=i.to>n.to?f.sliceDoc(n.to,i.to):"";h=f.replaceSelection(e.state.toText(p+n.insert.sliceString(0,void 0,e.state.lineBreak)+m))}else{var v=f.changes(n),g=r&&!f.selection.main.eq(r.main)&&r.main.to<=v.newLength?r.main:void 0;if(f.selection.ranges.length>1&&e.inputState.composing>=0&&n.to<=i.to&&n.to>=i.to-10){var y=e.state.sliceDoc(n.from,n.to),b=Qa(e)||e.state.doc.lineAt(i.head),x=i.to-n.to,w=i.to-i.from;h=f.changeByRange((function(t){if(t.from==i.from&&t.to==i.to)return{changes:v,range:g||t.map(v)};var r=t.to-x,a=r-y.length;if(t.to-t.from!=w||e.state.sliceDoc(a,r)!=y||b&&t.to>=b.from&&t.from<=b.to)return{range:t};var o=f.changes({from:a,to:r,insert:n.insert}),s=t.to-i.to;return{changes:o,range:g?vn.range(Math.max(0,g.anchor+s),Math.max(0,g.head+s)):t.map(o)}}))}else h={changes:v,selection:g&&f.selection.replaceRange(g)}}var k="input.type";return e.composing&&(k+=".compose",e.inputState.compositionFirstChange&&(k+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(h,{scrollIntoView:!0,userEvent:k}),!0}if(r&&!r.main.eq(i)){var j=!1,S="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(j=!0),S=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:j,userEvent:S}),!0}return!1}var Ss={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Cs=Si.ie&&Si.ie_version<=11,Es=function(){function e(t){var n=this;h(this,e),this.view=t,this.active=!1,this.selectionRange=new Zr,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((function(e){var r,i=E(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.queue.push(a)}}catch(o){i.e(o)}finally{i.f()}(Si.ie&&Si.ie_version<=11||Si.ios&&t.composing)&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),Cs&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((function(){var e;(null===(e=n.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&n.onResize()})),this.resizeScroll.observe(t.scrollDOM),this.resizeContent=new ResizeObserver((function(){return n.view.requestMeasure()})),this.resizeContent.observe(t.contentDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((function(e){n.parentCheck<0&&(n.parentCheck=setTimeout(n.listenForScroll.bind(n),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=n.intersecting&&(n.intersecting=!n.intersecting,n.intersecting!=n.view.inView&&n.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((function(e){e.length>0&&e[e.length-1].intersectionRatio>0&&n.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}return v(e,[{key:"onScrollChanged",value:function(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}},{key:"onScroll",value:function(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}},{key:"onResize",value:function(){var e=this;this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((function(){e.resizeTimeout=-1,e.view.requestMeasure()}),50))}},{key:"onPrint",value:function(){var e=this;this.view.viewState.printing=!0,this.view.measure(),setTimeout((function(){e.view.viewState.printing=!1,e.view.requestMeasure()}),500)}},{key:"updateGaps",value:function(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((function(t,n){return t!=e[n]})))){this.gapIntersection.disconnect();var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.gapIntersection.observe(r)}}catch(i){n.e(i)}finally{n.f()}this.gaps=e}}},{key:"onSelectionChange",value:function(e){var t=this.selectionChanged;if(this.readSelectionRange()&&!this.delayedAndroidKey){var n=this.view,r=this.selectionRange;if(n.state.facet(ua)?n.root.activeElement==this.dom:Hr(n.dom,r)){var i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(e)?t||(this.selectionChanged=!1):(Si.ie&&Si.ie_version<=11||Si.android&&Si.chrome)&&!n.state.selection.main.empty&&r.focusNode&&Ur(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}}}},{key:"readSelectionRange",value:function(){var e=this.view,t=Si.safari&&11==e.root.nodeType&&function(e){for(var t=e.activeElement;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e){var t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;var r=t.startContainer,i=t.startOffset,a=t.endContainer,o=t.endOffset,s=e.docView.domAtPos(e.state.selection.main.anchor);if(Ur(s.node,s.offset,a,o)){var l=[a,o,r,i];r=l[0],i=l[1],a=l[2],o=l[3]}return{anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:o}}(this.view)||Wr(e.root);if(!t||this.selectionRange.eq(t))return!1;var n=Hr(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){var n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(;;)if(r){if(1!=n.nodeType)return!1;var i=n.childNodes[r-1];"false"==i.contentEditable?r--:r=Gr(n=i)}else{if(n==e)return!0;r=$r(n),n=n.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}},{key:"setSelectionRange",value:function(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}},{key:"clearSelectionRange",value:function(){this.selectionRange.set(null,0,null,0)}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var e=0,t=null,n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){var r,i=E(this.scrollTargets);try{for(i.s();!(r=i.n()).done;){r.value.removeEventListener("scroll",this.onScroll)}}catch(s){i.e(s)}finally{i.f()}var a,o=E(this.scrollTargets=t);try{for(o.s();!(a=o.n()).done;){a.value.addEventListener("scroll",this.onScroll)}}catch(s){o.e(s)}finally{o.f()}}}},{key:"ignore",value:function(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,Ss),Cs&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),Cs&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clear",value:function(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}},{key:"delayAndroidKey",value:function(e,t){var n,r=this;if(!this.delayedAndroidKey){this.flushingAndroidKey=this.view.win.requestAnimationFrame((function(){var e=r.delayedAndroidKey;e&&(r.clearDelayedAndroidKey(),!r.flush()&&e.force&&ri(r.dom,e.key,e.keyCode))}))}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}},{key:"clearDelayedAndroidKey",value:function(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}},{key:"flushSoon",value:function(){var e=this;this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((function(){e.delayedFlush=-1,e.flush()})))}},{key:"forceFlush",value:function(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}},{key:"processRecords",value:function(){var e,t=this.queue,n=E(this.observer.takeRecords());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(f){n.e(f)}finally{n.f()}t.length&&(this.queue=[]);var i,a=-1,o=-1,s=!1,l=E(t);try{for(l.s();!(i=l.n()).done;){var u=i.value,c=this.readMutation(u);c&&(c.typeOver&&(s=!0),-1==a?(a=c.from,o=c.to):(a=Math.min(c.from,a),o=Math.max(c.to,o)))}}catch(f){l.e(f)}finally{l.f()}return{from:a,to:o,typeOver:s}}},{key:"readChange",value:function(){var e=this.processRecords(),t=e.from,n=e.to,r=e.typeOver,i=this.selectionChanged&&Hr(this.dom,this.selectionRange);return t<0&&!i?null:(t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new ks(this.view,t,n,r))}},{key:"flush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();var t=this.readChange();if(!t)return!1;var n=this.view.state,r=js(this.view,t);return this.view.state==n&&this.view.update([]),r}},{key:"readMutation",value:function(e){var t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){var n=Ts(t,e.previousSibling||e.target.previousSibling,-1),r=Ts(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}},{key:"setWindow",value:function(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}},{key:"addWindowListeners",value:function(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}},{key:"removeWindowListeners",value:function(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"destroy",value:function(){var e,t,n,r;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect(),null===(r=this.resizeContent)||void 0===r||r.disconnect();var i,a=E(this.scrollTargets);try{for(a.s();!(i=a.n()).done;){i.value.removeEventListener("scroll",this.onScroll)}}catch(o){a.e(o)}finally{a.f()}this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}]),e}();function Ts(e,t,n){for(;t;){var r=li.get(t);if(r&&r.parent==e)return r;var i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}var Ms=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=n.dispatch||function(e){return t.update([e])},this.dispatch=this.dispatch.bind(this),this._root=n.root||ii(n.parent)||document,this.viewState=new os(n.state||or.create(n)),this.plugins=this.state.facet(fa).map((function(e){return new da(e)}));var r,i=E(this.plugins);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.update(this)}}catch(o){i.e(o)}finally{i.f()}this.observer=new Es(this),this.inputState=new go(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Ka(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),n.parent&&n.parent.appendChild(this.dom)}return v(e,[{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"composing",get:function(){return this.inputState.composing>0}},{key:"compositionStarted",get:function(){return this.inputState.composing>=0}},{key:"root",get:function(){return this._root}},{key:"win",get:function(){return this.dom.ownerDocument.defaultView||window}},{key:"dispatch",value:function(){var e;this._dispatch(1==arguments.length&&(arguments.length<=0?void 0:arguments[0])instanceof Jn?arguments.length<=0?void 0:arguments[0]:(e=this.state).update.apply(e,arguments))}},{key:"update",value:function(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");var t,n,r=!1,i=!1,a=this.state,o=E(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=s.state}}catch(x){o.e(x)}finally{o.f()}if(this.destroyed)this.viewState.state=a;else{var l=this.observer.delayedAndroidKey,u=null;if(l?(this.observer.clearDelayedAndroidKey(),((u=this.observer.readChange())&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(u=null)):this.observer.clear(),a.facet(or.phrases)!=this.state.facet(or.phrases))return this.setState(a);t=wa.create(this,a,e);var c=this.viewState.scrollTarget;try{this.updateState=2;var f,h=E(e);try{for(h.s();!(f=h.n()).done;){var d=f.value;if(c&&(c=c.map(d.changes)),d.scrollIntoView){var p=d.state.selection.main;c=new oa(p.empty?p:vn.cursor(p.head,p.head>p.anchor?-1:1))}var m,v=E(d.effects);try{for(v.s();!(m=v.n()).done;){var g=m.value;g.is(sa)&&(c=g.value)}}catch(x){v.e(x)}finally{v.f()}}}catch(x){h.e(x)}finally{h.f()}this.viewState.update(t,c),this.bidiCache=As.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),r=this.docView.update(t),this.state.facet(ba)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some((function(e){return e.isUserEvent("select.pointer")})))}finally{this.updateState=0}if(t.startState.facet(ps)!=t.state.facet(ps)&&(this.viewState.mustMeasureContent=!0),(r||i||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty){var y,b=E(this.state.facet(na));try{for(b.s();!(y=b.n()).done;){(0,y.value)(t)}}catch(x){b.e(x)}finally{b.f()}}u&&!js(this,u)&&l.force&&ri(this.contentDOM,l.key,l.keyCode)}}},{key:"setState",value:function(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)this.viewState.state=e;else{this.updateState=2;var t=this.hasFocus;try{var n,r=E(this.plugins);try{for(r.s();!(n=r.n()).done;){n.value.destroy(this)}}catch(o){r.e(o)}finally{r.f()}this.viewState=new os(e),this.plugins=e.facet(fa).map((function(e){return new da(e)})),this.pluginMap.clear();var i,a=E(this.plugins);try{for(a.s();!(i=a.n()).done;){i.value.update(this)}}catch(o){a.e(o)}finally{a.f()}this.docView=new Ka(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}}},{key:"updatePlugins",value:function(e){var t=e.startState.facet(fa),n=e.state.facet(fa);if(t!=n){var r,i=[],a=E(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t.indexOf(o);if(s<0)i.push(new da(o));else{var l=this.plugins[s];l.mustUpdate=e,i.push(l)}}}catch(m){a.e(m)}finally{a.f()}var u,c=E(this.plugins);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.mustUpdate!=e&&f.destroy(this)}}catch(m){c.e(m)}finally{c.f()}this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else{var h,d=E(this.plugins);try{for(d.s();!(h=d.n()).done;){h.value.mustUpdate=e}}catch(m){d.e(m)}finally{d.f()}}for(var p=0;p<this.plugins.length;p++)this.plugins[p].update(this)}},{key:"measure",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.destroyed){this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.forceFlush();var n=null,r=this.scrollDOM,i=r.scrollHeight,a=r.scrollTop,o=r.clientHeight,s=a>i-o-4?i:a;try{for(var l=0;;l++){this.updateState=1;var u=this.viewport,c=this.viewState.lineBlockAtHeight(s),f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}var h=[];if(!(4&f)){var d=[h,this.measureRequests];this.measureRequests=d[0],h=d[1]}var p=h.map((function(t){try{return t.read(e)}catch(n){return la(e.state,n),Ns}})),m=wa.create(this,this.state,[]),v=!1,g=!1;m.flags|=f,n?n.flags|=f:n=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),v=this.docView.update(m));for(var y=0;y<h.length;y++)if(p[y]!=Ns)try{var b=h[y];b.write&&b.write(p[y],this)}catch(S){la(this.state,S)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,g=!0;else{var x=this.viewState.lineBlockAt(c.from).top-c.top;(x>1||x<-1)&&(this.scrollDOM.scrollTop+=x,g=!0)}if(v&&this.docView.updateSelection(!0),this.viewport.from==u.from&&this.viewport.to==u.to&&!g&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty){var w,k=E(this.state.facet(na));try{for(k.s();!(w=k.n()).done;){var j=w.value;j(n)}}catch(C){k.e(C)}finally{k.f()}}}}},{key:"themeClasses",get:function(){return vs+" "+(this.state.facet(ms)?ys:gs)+" "+this.state.facet(ps)}},{key:"updateAttrs",value:function(){var e=this,t=Os(this,pa,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(ua)?"true":"false",class:"cm-content",style:"".concat(Si.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),Os(this,ma,n);var r=this.observer.ignore((function(){var r=zi(e.contentDOM,e.contentAttrs,n),i=zi(e.dom,e.editorAttrs,t);return r||i}));return this.editorAttrs=t,this.contentAttrs=n,r}},{key:"showAnnouncements",value:function(t){var n,r=!0,i=E(t);try{for(i.s();!(n=i.n()).done;){var a,o=E(n.value.effects);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s.is(e.announce))r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=s.value}}catch(l){o.e(l)}finally{o.f()}}}catch(l){i.e(l)}finally{i.f()}}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(ba),Nr.mount(this.root,this.styleModules.concat(ws).reverse())}},{key:"readMeasured",value:function(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}},{key:"requestMeasure",value:function(e){var t=this;if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((function(){return t.measure()}))),e){if(null!=e.key)for(var n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key)return void(this.measureRequests[n]=e);this.measureRequests.push(e)}}},{key:"plugin",value:function(e){var t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((function(t){return t.spec==e}))||null),t&&t.update(this).value}},{key:"documentTop",get:function(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}},{key:"documentPadding",get:function(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}},{key:"elementAtHeight",value:function(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}},{key:"lineBlockAtHeight",value:function(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}},{key:"viewportLineBlocks",get:function(){return this.viewState.viewportLines}},{key:"lineBlockAt",value:function(e){return this.viewState.lineBlockAt(e)}},{key:"contentHeight",get:function(){return this.viewState.contentHeight}},{key:"moveByChar",value:function(e,t,n){return vo(this,e,mo(this,e,t,n))}},{key:"moveByGroup",value:function(e,t){var n=this;return vo(this,e,mo(this,e,t,(function(t){return function(e,t,n){var r=e.state.charCategorizer(t),i=r(n);return function(e){var t=r(e);return i==rr.Space&&(i=t),i==t}}(n,e.head,t)})))}},{key:"moveToLineBoundary",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return po(this,e,t,n)}},{key:"moveVertically",value:function(e,t,n){return vo(this,e,function(e,t,n,r){var i=t.head,a=n?1:-1;if(i==(n?e.state.doc.length:0))return vn.cursor(i,t.assoc);var o,s=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),u=e.coordsAtPos(i),c=e.documentTop;if(u)null==s&&(s=u.left-l.left),o=a<0?u.top:u.bottom;else{var f=e.viewState.lineBlockAt(i);null==s&&(s=Math.min(l.right-l.left,e.defaultCharacterWidth*(i-f.from))),o=(a<0?f.top:f.bottom)+c}for(var h=l.left+s,d=null!==r&&void 0!==r?r:e.defaultLineHeight>>1,p=0;;p+=10){var m=o+(d+p)*a,v=uo(e,{x:h,y:m},!1,a);if(m<l.top||m>l.bottom||(a<0?v<i:v>i))return vn.cursor(v,t.assoc,void 0,s)}}(this,e,t,n))}},{key:"domAtPos",value:function(e){return this.docView.domAtPos(e)}},{key:"posAtDOM",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.posFromDOM(e,t)}},{key:"posAtCoords",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.readMeasured(),uo(this,e,t)}},{key:"coordsAtPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();var n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;var r=this.state.doc.lineAt(e),i=this.bidiSpans(r),a=i[Ia.find(i,e-r.from,-1,t)];return Qr(n,a.dir==ka.LTR==t>0)}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.defaultTextDirection}},{key:"textDirectionAt",value:function(e){return!this.state.facet(ia)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"bidiSpans",value:function(e){if(e.length>_s)return Fa(e.length);var t,n=this.textDirectionAt(e.from),r=E(this.bidiCache);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.from==e.from&&i.dir==n)return i.order}}catch(o){r.e(o)}finally{r.f()}var a=Ba(e.text,n);return this.bidiCache.push(new As(e.from,e.to,n,a)),a}},{key:"hasFocus",get:function(){var e;return(this.dom.ownerDocument.hasFocus()||Si.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}},{key:"focus",value:function(){var e=this;this.observer.ignore((function(){ti(e.contentDOM),e.docView.updateSelection()}))}},{key:"setRoot",value:function(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}},{key:"destroy",value:function(){var e,t=E(this.plugins);try{for(t.s();!(e=t.n()).done;){e.value.destroy(this)}}catch(n){t.e(n)}finally{t.f()}this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}}],[{key:"scrollIntoView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return sa.of(new oa("number"==typeof e?vn.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}},{key:"domEventHandlers",value:function(e){return ha.define((function(){return{}}),{eventHandlers:e})}},{key:"theme",value:function(e,t){var n=Nr.newName(),r=[ps.of(n),ba.of(xs(".".concat(n),e))];return t&&t.dark&&r.push(ms.of(!0)),r}},{key:"baseTheme",value:function(e){return An.lowest(ba.of(xs("."+vs,e,bs)))}},{key:"findFromDOM",value:function(e){var t,n=e.querySelector(".cm-content"),r=n&&li.get(n)||li.get(e);return(null===(t=null===r||void 0===r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}]),e}();Ms.styleModule=ba,Ms.inputHandler=ra,Ms.perLineTextDirection=ia,Ms.exceptionSink=ta,Ms.updateListener=na,Ms.editable=ua,Ms.mouseSelectionStyle=ea,Ms.dragMovesSelection=Zi,Ms.clickAddsSelectionRange=Xi,Ms.decorations=va,Ms.atomicRanges=ga,Ms.scrollMargins=ya,Ms.darkTheme=ms,Ms.contentAttributes=ma,Ms.editorAttributes=pa,Ms.lineWrapping=Ms.contentAttributes.of({class:"cm-lineWrapping"}),Ms.announce=Gn.define();var _s=4096,Ns={},As=function(){function e(t,n,r,i){h(this,e),this.from=t,this.to=n,this.dir=r,this.order=i}return v(e,null,[{key:"update",value:function(t,n){if(n.empty)return t;for(var r=[],i=t.length?t[t.length-1].dir:ka.LTR,a=Math.max(0,t.length-10);a<t.length;a++){var o=t[a];o.dir!=i||n.touchesRange(o.from,o.to)||r.push(new e(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.order))}return r}}]),e}();function Os(e,t,n){for(var r=e.state.facet(t),i=r.length-1;i>=0;i--){var a=r[i],o="function"==typeof a?a(e):a;o&&Li(o,n)}return n}var Ds=Si.mac?"mac":Si.windows?"win":Si.linux?"linux":"key";function Ps(e,t){var n,r,i,a,o=e.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(var l=0;l<o.length-1;++l){var u=o[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))n=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else if(/^s(hift)?$/i.test(u))i=!0;else{if(!/^mod$/i.test(u))throw new Error("Unrecognized modifier name: "+u);"mac"==t?a=!0:r=!0}}return n&&(s="Alt-"+s),r&&(s="Ctrl-"+s),a&&(s="Meta-"+s),i&&(s="Shift-"+s),s}function Rs(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}var Ls=An.default(Ms.domEventHandlers({keydown:function(e,t){return Vs(Bs(t.state),e,t,"editor")}})),Is=bn.define({enables:Ls}),zs=new WeakMap;function Bs(e){var t=e.facet(Is),n=zs.get(t);return n||zs.set(t,n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ds,r=Object.create(null),i=Object.create(null),a=function(e,t){var n=i[e];if(null==n)i[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},o=function(e,t,i,o){for(var s,l,u=r[e]||(r[e]=Object.create(null)),c=t.split(/ (?!$)/).map((function(e){return Ps(e,n)})),f=function(){var t=c.slice(0,h).join(" ");a(t,!0),u[t]||(u[t]={preventDefault:!0,run:[function(n){var r=Fs={view:n,prefix:t,scope:e};return setTimeout((function(){Fs==r&&(Fs=null)}),Ws),!0}]})},h=1;h<c.length;h++)f();var d=c.join(" ");a(d,!1);var p=u[d]||(u[d]={preventDefault:!1,run:(null===(l=null===(s=u._any)||void 0===s?void 0:s.run)||void 0===l?void 0:l.slice())||[]});i&&p.run.push(i),o&&(p.preventDefault=!0)},s=E(e);try{for(s.s();!(t=s.n()).done;){var l=t.value,u=l.scope?l.scope.split(" "):["editor"];if(l.any){var c,f=E(u);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=r[h]||(r[h]=Object.create(null));for(var p in d._any||(d._any={preventDefault:!1,run:[]}),d)d[p].run.push(l.any)}}catch(b){f.e(b)}finally{f.f()}}var m=l[n]||l.key;if(m){var v,g=E(u);try{for(g.s();!(v=g.n()).done;){var y=v.value;o(y,m,l.run,l.preventDefault),l.shift&&o(y,"Shift-"+m,l.shift,l.preventDefault)}}catch(b){g.e(b)}finally{g.f()}}}}catch(b){s.e(b)}finally{s.f()}return r}(t.reduce((function(e,t){return e.concat(t)}),[]))),n}var Fs=null,Ws=4e3;function Vs(e,t,n,r){var i=function(e){var t=!(zr&&(e.ctrlKey||e.altKey||e.metaKey)||Ir&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?Pr:Dr)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),a=rn(tn(i,0))==i.length&&" "!=i,o="",s=!1;Fs&&Fs.view==n&&Fs.scope==r&&(o=Fs.prefix+" ",(s=xo.indexOf(t.keyCode)<0)&&(Fs=null));var l,u,c=new Set,f=function(e){if(e){var r,i=E(e.run);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(!c.has(a)&&(c.add(a),a(n,t)))return!0}}catch(o){i.e(o)}finally{i.f()}e.preventDefault&&(s=!0)}return!1},h=e[r];if(h){if(f(h[o+Rs(i,t,!a)]))return!0;if(a&&(t.altKey||t.metaKey||t.ctrlKey)&&(l=Dr[t.keyCode])&&l!=i){if(f(h[o+Rs(l,t,!0)]))return!0;if(t.shiftKey&&(u=Pr[t.keyCode])!=i&&u!=l&&f(h[o+Rs(u,t,!1)]))return!0}else if(a&&t.shiftKey&&f(h[o+Rs(i,t,!0)]))return!0;if(f(h._any))return!0}return s}var Hs=function(){function e(t,n,r,i,a){h(this,e),this.className=t,this.left=n,this.top=r,this.width=i,this.height=a}return v(e,[{key:"draw",value:function(){var e=document.createElement("div");return e.className=this.className,this.adjust(e),e}},{key:"update",value:function(e,t){return t.className==this.className&&(this.adjust(e),!0)}},{key:"adjust",value:function(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}},{key:"eq",value:function(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}],[{key:"forRange",value:function(t,n,r){if(r.empty){var i=t.coordsAtPos(r.head,r.assoc||1);if(!i)return[];var a=qs(t);return[new e(n,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}return Ks(t,n,r)}}]),e}();function qs(e){var t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==ka.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function Us(e,t,n){var r=vn.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(r,!0,!0).from),type:Fi.Text}}function $s(e,t){var n=e.lineBlockAt(t);if(Array.isArray(n.type)){var r,i=E(n.type);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.to>t||a.to==t&&(a.to==n.to||a.type==Fi.Text))return a}}catch(o){i.e(o)}finally{i.f()}}return n}function Ks(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];var r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),a=e.textDirection==ka.LTR,o=e.contentDOM,s=o.getBoundingClientRect(),l=qs(e),u=window.getComputedStyle(o.firstChild),c=s.left+parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)),f=s.right-parseInt(u.paddingRight),h=$s(e,r),d=$s(e,i),p=h.type==Fi.Text?h:null,m=d.type==Fi.Text?d:null;if(e.lineWrapping&&(p&&(p=Us(e,r,p)),m&&(m=Us(e,i,m))),p&&m&&p.from==m.from)return x(w(n.from,n.to,p));var v=p?w(n.from,null,p):k(h,!1),g=m?w(null,n.to,m):k(d,!0),y=[];return(p||h).to<(m||d).from-1?y.push(b(c,v.bottom,f,g.top)):v.bottom<g.top&&e.elementAtHeight((v.bottom+g.top)/2).type==Fi.Text&&(v.bottom=g.top=(v.bottom+g.top)/2),x(v).concat(y).concat(x(g));function b(e,n,r,i){return new Hs(t,e-l.left,n-l.top-.01,r-e,i-n+.01)}function x(e){for(var t=e.top,n=e.bottom,r=e.horizontal,i=[],a=0;a<r.length;a+=2)i.push(b(r[a],t,r[a+1],n));return i}function w(t,n,r){var i=1e9,o=-1e9,s=[];function l(t,n,l,u,h){var d=e.coordsAtPos(t,t==r.to?-2:2),p=e.coordsAtPos(l,l==r.from?2:-2);i=Math.min(d.top,p.top,i),o=Math.max(d.bottom,p.bottom,o),h==ka.LTR?s.push(a&&n?c:d.left,a&&u?f:p.right):s.push(!a&&u?c:p.left,!a&&n?f:d.right)}var u,h=null!==t&&void 0!==t?t:r.from,d=null!==n&&void 0!==n?n:r.to,p=E(e.visibleRanges);try{for(p.s();!(u=p.n()).done;){var m=u.value;if(m.to>h&&m.from<d)for(var v=Math.max(m.from,h),g=Math.min(m.to,d);;){var y,b=e.state.doc.lineAt(v),x=E(e.bidiSpans(b));try{for(x.s();!(y=x.n()).done;){var w=y.value,k=w.from+b.from,j=w.to+b.from;if(k>=g)break;j>v&&l(Math.max(k,v),null==t&&k<=h,Math.min(j,g),null==n&&j>=d,w.dir)}}catch(S){x.e(S)}finally{x.f()}if((v=b.to+1)>=g)break}}}catch(S){p.e(S)}finally{p.f()}return 0==s.length&&l(h,null==t,d,null==n,e.textDirection),{top:i,bottom:o,horizontal:s}}function k(e,t){var n=s.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}var Gs=function(){function e(t,n){h(this,e),this.view=t,this.layer=n,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,t)}return v(e,[{key:"update",value:function(e){e.startState.facet(Js)!=e.state.facet(Js)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}},{key:"setOrder",value:function(e){for(var t=0,n=e.facet(Js);t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}},{key:"measure",value:function(){return this.layer.markers(this.view)}},{key:"draw",value:function(e){var t=this;if(e.length!=this.drawn.length||e.some((function(e,n){return r=e,i=t.drawn[n],!(r.constructor==i.constructor&&r.eq(i));var r,i}))){var n,r=this.dom.firstChild,i=0,a=E(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.update&&r&&o.constructor&&this.drawn[i].constructor&&o.update(r,this.drawn[i])?(r=r.nextSibling,i++):this.dom.insertBefore(o.draw(),r)}}catch(l){a.e(l)}finally{a.f()}for(;r;){var s=r.nextSibling;r.remove(),r=s}this.drawn=e}}},{key:"destroy",value:function(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}]),e}(),Js=bn.define();function Qs(e){return[ha.define((function(t){return new Gs(t,e)})),Js.of(e)]}var Ys=!Si.ios,Xs=bn.define({combine:function(e){return sr(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:function(e,t){return Math.min(e,t)},drawRangeCursor:function(e,t){return e||t}})}});function Zs(e){return e.startState.facet(Xs)!=e.startState.facet(Xs)}var el=Qs({above:!0,markers:function(e){var t,n=e.state,r=n.facet(Xs),i=[],a=E(n.selection.ranges);try{for(a.s();!(t=a.n()).done;){var o=t.value,s=o==n.selection.main;if(o.empty?!s||Ys:r.drawRangeCursor){var l,u=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=o.empty?o:vn.cursor(o.head,o.head>o.anchor?-1:1),f=E(Hs.forRange(e,u,c));try{for(f.s();!(l=f.n()).done;){var h=l.value;i.push(h)}}catch(d){f.e(d)}finally{f.f()}}}}catch(d){a.e(d)}finally{a.f()}return i},update:function(e,t){e.transactions.some((function(e){return e.scrollIntoView}))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");var n=Zs(e);return n&&tl(e.state,t),e.docChanged||e.selectionSet||n},mount:function(e,t){tl(t.state,e)},class:"cm-cursorLayer"});function tl(e,t){t.style.animationDuration=e.facet(Xs).cursorBlinkRate+"ms"}var nl=Qs({above:!1,markers:function(e){return e.state.selection.ranges.map((function(t){return t.empty?[]:Hs.forRange(e,"cm-selectionBackground",t)})).reduce((function(e,t){return e.concat(t)}))},update:function(e,t){return e.docChanged||e.selectionSet||e.viewportChanged||Zs(e)},class:"cm-selectionLayer"}),rl={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Ys&&(rl[".cm-line"].caretColor="transparent !important");var il=An.highest(Ms.theme(rl)),al=Gn.define({map:function(e,t){return null==e?null:t.mapPos(e)}}),ol=Cn.define({create:function(){return null},update:function(e,t){return null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce((function(e,t){return t.is(al)?t.value:e}),e)}}),sl=ha.fromClass(function(){function e(t){h(this,e),this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}return v(e,[{key:"update",value:function(e){var t,n=e.state.field(ol);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(ol)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}},{key:"readPos",value:function(){var e=this.view.state.field(ol),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;var n=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+this.view.scrollDOM.scrollLeft,top:t.top-n.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}},{key:"drawCursor",value:function(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}},{key:"destroy",value:function(){this.cursor&&this.cursor.remove()}},{key:"setDropPos",value:function(e){this.view.state.field(ol)!=e&&this.view.dispatch({effects:al.of(e)})}}]),e}(),{eventHandlers:{dragover:function(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave:function(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend:function(){this.setDropPos(null)},drop:function(){this.setDropPos(null)}}});function ll(e,t,n,r,i){t.lastIndex=0;for(var a,o=e.iterRange(n,r),s=n;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=t.exec(o.value);)i(s+a.index,a)}var ul=function(){function e(t){h(this,e);var n=t.regexp,r=t.decoration,i=t.decorate,a=t.boundary,o=t.maxLength,s=void 0===o?1e3:o;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=function(e,t,n,r){return i(r,n,n+e[0].length,e,t)};else if("function"==typeof r)this.addMatch=function(e,t,n,i){var a=r(e,t,n);a&&i(n,n+e[0].length,a)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=function(e,t,n,i){return i(n,n+e[0].length,r)}}this.boundary=a,this.maxLength=s}return v(e,[{key:"createDeco",value:function(e){var t,n=this,r=new pr,i=r.add.bind(r),a=E(function(e,t){var n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;var r,i=[],a=E(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.from,l=o.to;s=Math.max(e.state.doc.lineAt(s).from,s-t),l=Math.min(e.state.doc.lineAt(l).to,l+t),i.length&&i[i.length-1].to>=s?i[i.length-1].to=l:i.push({from:s,to:l})}}catch(u){a.e(u)}finally{a.f()}return i}(e,this.maxLength));try{for(a.s();!(t=a.n()).done;){var o=t.value,s=o.from,l=o.to;ll(e.state.doc,this.regexp,s,l,(function(t,r){return n.addMatch(r,e,t,i)}))}}catch(u){a.e(u)}finally{a.f()}return r.finish()}},{key:"updateDeco",value:function(e,t){var n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((function(t,i,a,o){o>e.view.viewport.from&&a<e.view.viewport.to&&(n=Math.min(a,n),r=Math.max(o,r))})),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}},{key:"updateRange",value:function(e,t,n,r){var i,a=this,o=E(e.visibleRanges);try{var s=function(){var o=i.value,s=Math.max(o.from,n),l=Math.min(o.to,r);if(l>s){var u=e.state.doc.lineAt(s),c=u.to<l?e.state.doc.lineAt(l):u,f=Math.max(o.from,u.from),h=Math.min(o.to,c.to);if(a.boundary){for(;s>u.from;s--)if(a.boundary.test(u.text[s-1-u.from])){f=s;break}for(;l<c.to;l++)if(a.boundary.test(c.text[l-c.from])){h=l;break}}var d,p=[],m=function(e,t,n){return p.push(n.range(e,t))};if(u==c)for(a.regexp.lastIndex=f-u.from;(d=a.regexp.exec(u.text))&&d.index<h-u.from;)a.addMatch(d,e,d.index+u.from,m);else ll(e.state.doc,a.regexp,f,h,(function(t,n){return a.addMatch(n,e,t,m)}));t=t.update({filterFrom:f,filterTo:h,filter:function(e,t){return e<f||t>h},add:p})}};for(o.s();!(i=o.n()).done;)s()}catch(l){o.e(l)}finally{o.f()}return t}}]),e}(),cl=null!=/x/.unicode?"gu":"g",fl=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",cl),hl={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},dl=null;var pl=bn.define({combine:function(e){var t=sr(e,{render:null,specialChars:fl,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==dl&&"undefined"!=typeof document&&document.body){var t=document.body.style;dl=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return dl||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,cl)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,cl)),t}});var ml=null;function vl(){return ml||(ml=ha.fromClass(function(){function e(t){h(this,e),this.view=t,this.decorations=Wi.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(pl)),this.decorations=this.decorator.createDeco(t)}return v(e,[{key:"makeDecorator",value:function(e){var t=this;return new ul({regexp:e.specialChars,decoration:function(n,r,i){var a=r.state.doc,o=tn(n[0],0);if(9==o){var s=a.lineAt(i),l=r.state.tabSize,u=Cr(s.text,l,i-s.from);return Wi.replace({widget:new yl((l-u%l)*t.view.defaultCharacterWidth)})}return t.decorationCache[o]||(t.decorationCache[o]=Wi.replace({widget:new gl(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}},{key:"update",value:function(e){var t=e.state.facet(pl);e.startState.facet(pl)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}}]),e}(),{decorations:function(e){return e.decorations}}))}var gl=function(e){y(n,e);var t=j(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).options=e,i.code=r,i}return v(n,[{key:"eq",value:function(e){return e.code==this.code}},{key:"toDOM",value:function(e){var t=function(e){return e>=32?"\u2022":10==e?"\u2424":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(hl[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;var i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Bi),yl=function(e){y(n,e);var t=j(n);function n(e){var r;return h(this,n),(r=t.call(this)).width=e,r}return v(n,[{key:"eq",value:function(e){return e.width==this.width}},{key:"toDOM",value:function(){var e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Bi);var bl=Wi.line({class:"cm-activeLine"}),xl=ha.fromClass(function(){function e(t){h(this,e),this.decorations=this.getDeco(t)}return v(e,[{key:"update",value:function(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t,n=-1,r=[],i=E(e.state.selection.ranges);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=e.lineBlockAt(a.head);o.from>n&&(r.push(bl.range(o.from)),n=o.from)}}catch(s){i.e(s)}finally{i.f()}return Wi.set(r)}}]),e}(),{decorations:function(e){return e.decorations}}),wl=function(e){y(n,e);var t=j(n);function n(e){var r;return h(this,n),(r=t.call(this)).content=e,r}return v(n,[{key:"toDOM",value:function(){var e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild("string"==typeof this.content?document.createTextNode(this.content):this.content),"string"==typeof this.content?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Bi);var kl=2e3;function jl(e,t){var n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,a=i>kl?-1:i==r.length?function(e,t){var n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):Cr(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:a,off:i}}function Sl(e,t){var n=jl(e,t),r=e.state.selection;return n?{update:function(e){if(e.docChanged){var t=e.changes.mapPos(e.startState.doc.line(n.line).from),i=e.state.doc.lineAt(t);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(e.changes)}},get:function(t,i,a){var o=jl(e,t);if(!o)return r;var s=function(e,t,n){var r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),a=[];if(t.off>kl||n.off>kl||t.col<0||n.col<0)for(var o=Math.min(t.off,n.off),s=Math.max(t.off,n.off),l=r;l<=i;l++){var u=e.doc.line(l);u.length<=s&&a.push(vn.range(u.from+o,u.to+s))}else for(var c=Math.min(t.col,n.col),f=Math.max(t.col,n.col),h=r;h<=i;h++){var d=e.doc.line(h),p=Er(d.text,c,e.tabSize,!0);if(p<0)a.push(vn.cursor(d.to));else{var m=Er(d.text,f,e.tabSize);a.push(vn.range(d.from+p,d.from+m))}}return a}(e.state,n,o);return s.length?a?vn.create(s.concat(r.ranges)):vn.create(s):r}}:null}var Cl={Alt:[18,function(e){return e.altKey}],Control:[17,function(e){return e.ctrlKey}],Shift:[16,function(e){return e.shiftKey}],Meta:[91,function(e){return e.metaKey}]},El={style:"cursor: crosshair"};var Tl="-10000px",Ml=function(){function e(t,n,r){h(this,e),this.facet=n,this.createTooltipView=r,this.input=t.state.facet(n),this.tooltips=this.input.filter((function(e){return e})),this.tooltipViews=this.tooltips.map(r)}return v(e,[{key:"update",value:function(e){var t,n=e.state.facet(this.facet),r=n.filter((function(e){return e}));if(n===this.input){var i,a=E(this.tooltipViews);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.update&&o.update(e)}}catch(g){a.e(g)}finally{a.f()}return!1}for(var s=[],l=0;l<r.length;l++){var u=r[l],c=-1;if(u){for(var f=0;f<this.tooltips.length;f++){var h=this.tooltips[f];h&&h.create==u.create&&(c=f)}if(c<0)s[l]=this.createTooltipView(u);else{var d=s[l]=this.tooltipViews[c];d.update&&d.update(e)}}}var p,m=E(this.tooltipViews);try{for(m.s();!(p=m.n()).done;){var v=p.value;s.indexOf(v)<0&&(v.dom.remove(),null===(t=v.destroy)||void 0===t||t.call(v))}}catch(g){m.e(g)}finally{m.f()}return this.input=n,this.tooltips=r,this.tooltipViews=s,!0}}]),e}();function _l(e){var t=e.win;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}var Nl=bn.define({combine:function(e){var t,n,r;return{position:Si.ios?"absolute":(null===(t=e.find((function(e){return e.position})))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((function(e){return e.parent})))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find((function(e){return e.tooltipSpace})))||void 0===r?void 0:r.tooltipSpace)||_l}}}),Al=ha.fromClass(function(){function e(t){var n=this;h(this,e),this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;var r=t.state.facet(Nl);this.position=r.position,this.parent=r.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Ml(t,Pl,(function(e){return n.createTooltip(e)})),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((function(e){Date.now()>n.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&n.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}return v(e,[{key:"createContainer",value:function(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}},{key:"observeIntersection",value:function(){if(this.intersectionObserver){this.intersectionObserver.disconnect();var e,t=E(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.intersectionObserver.observe(n.dom)}}catch(r){t.e(r)}finally{t.f()}}}},{key:"measureSoon",value:function(){var e=this;this.measureTimeout<0&&(this.measureTimeout=setTimeout((function(){e.measureTimeout=-1,e.maybeMeasure()}),50))}},{key:"update",value:function(e){e.transactions.length&&(this.lastTransaction=Date.now());var t=this.manager.update(e);t&&this.observeIntersection();var n=t||e.geometryChanged,r=e.state.facet(Nl);if(r.position!=this.position){this.position=r.position;var i,a=E(this.manager.tooltipViews);try{for(a.s();!(i=a.n()).done;){i.value.dom.style.position=this.position}}catch(u){a.e(u)}finally{a.f()}n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();var o,s=E(this.manager.tooltipViews);try{for(s.s();!(o=s.n()).done;){var l=o.value;this.container.appendChild(l.dom)}}catch(u){s.e(u)}finally{s.f()}n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}},{key:"createTooltip",value:function(e){var t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){var n=document.createElement("div");n.className="cm-tooltip-arrow",t.dom.appendChild(n)}return t.dom.style.position=this.position,t.dom.style.top=Tl,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}},{key:"destroy",value:function(){var e,t;this.view.win.removeEventListener("resize",this.measureSoon);var n,r=E(this.manager.tooltipViews);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dom.remove(),null===(e=i.destroy)||void 0===e||e.call(i)}}catch(a){r.e(a)}finally{r.f()}null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}},{key:"readMeasure",value:function(){var e=this,t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((function(t,n){var r=e.manager.tooltipViews[n];return r.getCoords?r.getCoords(t.pos):e.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((function(e){return e.dom.getBoundingClientRect()})),space:this.view.state.facet(Nl).tooltipSpace(this.view)}}},{key:"writeMeasure",value:function(e){for(var t=e.editor,n=e.space,r=[],i=0;i<this.manager.tooltips.length;i++){var a=this.manager.tooltips[i],o=this.manager.tooltipViews[i],s=o.dom,l=e.pos[i],u=e.size[i];if(!l||l.bottom<=Math.max(t.top,n.top)||l.top>=Math.min(t.bottom,n.bottom)||l.right<Math.max(t.left,n.left)-.1||l.left>Math.min(t.right,n.right)+.1)s.style.top=Tl;else{var c=a.arrow?o.dom.querySelector(".cm-tooltip-arrow"):null,f=c?7:0,h=u.right-u.left,d=u.bottom-u.top,p=o.offset||Dl,m=this.view.textDirection==ka.LTR,v=u.width>n.right-n.left?m?n.left:n.right-u.width:m?Math.min(l.left-(c?14:0)+p.x,n.right-h):Math.max(n.left,l.left-h+(c?14:0)-p.x),g=!!a.above;!a.strictSide&&(g?l.top-(u.bottom-u.top)-p.y<n.top:l.bottom+(u.bottom-u.top)+p.y>n.bottom)&&g==n.bottom-l.bottom>l.top-n.top&&(g=!g);var y=(g?l.top-n.top:n.bottom-l.bottom)-f;if(y<d&&!1!==o.resize){if(y<this.view.defaultLineHeight){s.style.top=Tl;continue}s.style.height=(d=y)+"px"}else s.style.height&&(s.style.height="");var b=g?l.top-d-f-p.y:l.bottom+f+p.y,x=v+h;if(!0!==o.overlap){var w,k=E(r);try{for(k.s();!(w=k.n()).done;){var j=w.value;j.left<x&&j.right>v&&j.top<b+d&&j.bottom>b&&(b=g?j.top-d-2-f:j.bottom+f+2)}}catch(S){k.e(S)}finally{k.f()}}"absolute"==this.position?(s.style.top=b-e.parent.top+"px",s.style.left=v-e.parent.left+"px"):(s.style.top=b+"px",s.style.left=v+"px"),c&&(c.style.left="".concat(l.left+(m?p.x:-p.x)-(v+14-7),"px")),!0!==o.overlap&&r.push({left:v,top:b,right:x,bottom:b+d}),s.classList.toggle("cm-tooltip-above",g),s.classList.toggle("cm-tooltip-below",!g),o.positioned&&o.positioned(e.space)}}}},{key:"maybeMeasure",value:function(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView))){var e,t=E(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){e.value.dom.style.top=Tl}}catch(n){t.e(n)}finally{t.f()}}}}]),e}(),{eventHandlers:{scroll:function(){this.maybeMeasure()}}}),Ol=Ms.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Dl={x:0,y:0},Pl=bn.define({enables:[Al,Ol]}),Rl=bn.define(),Ll=function(){function e(t){var n=this;h(this,e),this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Ml(t,Rl,(function(e){return n.createHostedView(e)}))}return v(e,[{key:"createHostedView",value:function(e){var t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}},{key:"mount",value:function(e){var t,n=E(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.mount&&r.mount(e)}}catch(i){n.e(i)}finally{n.f()}this.mounted=!0}},{key:"positioned",value:function(e){var t,n=E(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.positioned&&r.positioned(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"update",value:function(e){this.manager.update(e)}}],[{key:"create",value:function(t){return new e(t)}}]),e}(),Il=Pl.compute([Rl],(function(e){var t=e.facet(Rl).filter((function(e){return e}));return 0===t.length?null:{pos:Math.min.apply(Math,f(t.map((function(e){return e.pos})))),end:Math.max.apply(Math,f(t.filter((function(e){return null!=e.end})).map((function(e){return e.end})))),create:Ll.create,above:t[0].above,arrow:t.some((function(e){return e.arrow}))}})),zl=function(){function e(t,n,r,i,a){h(this,e),this.view=t,this.source=n,this.field=r,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}return v(e,[{key:"update",value:function(){var e=this;this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((function(){return e.startHover()}),20))}},{key:"active",get:function(){return this.view.state.field(this.field)}},{key:"checkHover",value:function(){if(this.hoverTimeout=-1,!this.active){var e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}}},{key:"startHover",value:function(){var e=this;clearTimeout(this.restartTimeout);var t=this.lastMove,n=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(t):null;if(null!=n){var r=this.view.coordsAtPos(n);if(!(null==r||t.y<r.top||t.y>r.bottom||t.x<r.left-this.view.defaultCharacterWidth||t.x>r.right+this.view.defaultCharacterWidth)){var i=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find((function(e){return e.from<=n&&e.to>=n})),a=i&&i.dir==ka.RTL?-1:1,o=this.source(this.view,n,t.x<r.left?-a:a);if(null===o||void 0===o?void 0:o.then){var s=this.pending={pos:n};o.then((function(t){e.pending==s&&(e.pending=null,t&&e.view.dispatch({effects:e.setHover.of(t)}))}),(function(t){return la(e.view.state,t,"hover tooltip")}))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}}}},{key:"mousemove",value:function(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));var n=this.active;if(n&&!Bl(this.lastMove.target)||this.pending){var r=(n||this.pending).pos,i=null!==(t=null===n||void 0===n?void 0:n.end)&&void 0!==t?t:r;(r==i?this.view.posAtCoords(this.lastMove)==r:function(e,t,n,r,i,a){var o=document.createRange(),s=e.domAtPos(t),l=e.domAtPos(n);o.setEnd(l.node,l.offset),o.setStart(s.node,s.offset);var u=o.getClientRects();o.detach();for(var c=0;c<u.length;c++){var f=u[c];if(Math.max(f.top-i,i-f.bottom,f.left-r,r-f.right)<=a)return!0}return!1}(this.view,r,i,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}},{key:"mouseleave",value:function(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Bl(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}},{key:"destroy",value:function(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}]),e}();function Bl(e){for(var t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}function Fl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Gn.define(),r=Cn.define({create:function(){return null},update:function(e,r){if(e&&(t.hideOnChange&&(r.docChanged||r.selection)||t.hideOn&&t.hideOn(r,e)))return null;if(e&&r.docChanged){var i=r.changes.mapPos(e.pos,-1,on.TrackDel);if(null==i)return null;var a=Object.assign(Object.create(null),e);a.pos=i,null!=e.end&&(a.end=r.changes.mapPos(e.end)),e=a}var o,s=E(r.effects);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.is(n)&&(e=l.value),l.is(Vl)&&(e=null)}}catch(u){s.e(u)}finally{s.f()}return e},provide:function(e){return Rl.from(e)}});return[r,ha.define((function(i){return new zl(i,e,r,n,t.hoverTime||300)})),Il]}function Wl(e,t){var n=e.plugin(Al);if(!n)return null;var r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}var Vl=Gn.define();var Hl=bn.define({combine:function(e){var t,n,r,i=E(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;t=t||a.topContainer,n=n||a.bottomContainer}}catch(o){i.e(o)}finally{i.f()}return{topContainer:t,bottomContainer:n}}});function ql(e,t){var n=e.plugin(Ul),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}var Ul=ha.fromClass(function(){function e(t){h(this,e),this.input=t.state.facet(Gl),this.specs=this.input.filter((function(e){return e})),this.panels=this.specs.map((function(e){return e(t)}));var n=t.state.facet(Hl);this.top=new $l(t,!0,n.topContainer),this.bottom=new $l(t,!1,n.bottomContainer),this.top.sync(this.panels.filter((function(e){return e.top}))),this.bottom.sync(this.panels.filter((function(e){return!e.top})));var r,i=E(this.panels);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.dom.classList.add("cm-panel"),a.mount&&a.mount()}}catch(o){i.e(o)}finally{i.f()}}return v(e,[{key:"update",value:function(e){var t=e.state.facet(Hl);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new $l(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new $l(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();var n=e.state.facet(Gl);if(n!=this.input){var r,i=n.filter((function(e){return e})),a=[],o=[],s=[],l=[],u=E(i);try{for(u.s();!(r=u.n()).done;){var c=r.value,f=this.specs.indexOf(c),h=void 0;f<0?(h=c(e.view),l.push(h)):(h=this.panels[f]).update&&h.update(e),a.push(h),(h.top?o:s).push(h)}}catch(b){u.e(b)}finally{u.f()}this.specs=i,this.panels=a,this.top.sync(o),this.bottom.sync(s);for(var d=0,p=l;d<p.length;d++){var m=p[d];m.dom.classList.add("cm-panel"),m.mount&&m.mount()}}else{var v,g=E(this.panels);try{for(g.s();!(v=g.n()).done;){var y=v.value;y.update&&y.update(e)}}catch(b){g.e(b)}finally{g.f()}}}},{key:"destroy",value:function(){this.top.sync([]),this.bottom.sync([])}}]),e}(),{provide:function(e){return Ms.scrollMargins.of((function(t){var n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))}}),$l=function(){function e(t,n,r){h(this,e),this.view=t,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}return v(e,[{key:"sync",value:function(e){var t,n=E(this.panels);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.destroy&&e.indexOf(r)<0&&r.destroy()}}catch(i){n.e(i)}finally{n.f()}this.panels=e,this.syncDOM()}},{key:"syncDOM",value:function(){if(0!=this.panels.length){if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";var e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}var t,n=this.dom.firstChild,r=E(this.panels);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.dom.parentNode==this.dom){for(;n!=i.dom;)n=Kl(n);n=n.nextSibling}else this.dom.insertBefore(i.dom,n)}}catch(a){r.e(a)}finally{r.f()}for(;n;)n=Kl(n)}else this.dom&&(this.dom.remove(),this.dom=void 0)}},{key:"scrollMargin",value:function(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}},{key:"syncClasses",value:function(){if(this.container&&this.classes!=this.view.themeClasses){var e,t=E(this.classes.split(" "));try{for(t.s();!(e=t.n()).done;){var n=e.value;n&&this.container.classList.remove(n)}}catch(o){t.e(o)}finally{t.f()}var r,i=E((this.classes=this.view.themeClasses).split(" "));try{for(i.s();!(r=i.n()).done;){var a=r.value;a&&this.container.classList.add(a)}}catch(o){i.e(o)}finally{i.f()}}}}]),e}();function Kl(e){var t=e.nextSibling;return e.remove(),t}var Gl=bn.define({enables:Ul}),Jl=function(e){y(n,e);var t=j(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"eq",value:function(e){return!1}},{key:"destroy",value:function(e){}}]),n}(lr);Jl.prototype.elementClass="",Jl.prototype.toDOM=void 0,Jl.prototype.mapMode=on.TrackBefore,Jl.prototype.startSide=Jl.prototype.endSide=-1,Jl.prototype.point=!0;var Ql=bn.define(),Yl={class:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return hr.empty},lineMarker:function(){return null},lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Xl=bn.define();function Zl(e){return[tu(),Xl.of(Object.assign(Object.assign({},Yl),e))]}var eu=bn.define({combine:function(e){return e.some((function(e){return e}))}});function tu(e){var t=[nu];return e&&!1===e.fixed&&t.push(eu.of(!0)),t}var nu=ha.fromClass(function(){function e(t){h(this,e),this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(Xl).map((function(e){return new ou(t,e)}));var n,r=E(this.gutters);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.dom.appendChild(i.dom)}}catch(a){r.e(a)}finally{r.f()}this.fixed=!t.state.facet(eu),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}return v(e,[{key:"update",value:function(e){if(this.updateGutters(e)){var t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(eu)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}},{key:"syncGutters",value:function(e){var t=this,n=this.dom.nextSibling;e&&this.dom.remove();var r,i=hr.iter(this.view.state.facet(Ql),this.view.viewport.from),a=[],o=this.gutters.map((function(e){return new au(e,t.view.viewport,-t.view.documentPadding.top)})),s=E(this.view.viewportLineBlocks);try{for(s.s();!(r=s.n()).done;){var l=r.value,u=void 0;if(Array.isArray(l.type)){var c,f=E(l.type);try{for(f.s();!(c=f.n()).done;){var h=c.value;if(h.type==Fi.Text){u=h;break}}}catch(g){f.e(g)}finally{f.f()}}else u=l.type==Fi.Text?l:void 0;if(u){a.length&&(a=[]),iu(i,a,l.from);var d,p=E(o);try{for(p.s();!(d=p.n()).done;){d.value.line(this.view,u,a)}}catch(g){p.e(g)}finally{p.f()}}}}catch(g){s.e(g)}finally{s.f()}var m,v=E(o);try{for(v.s();!(m=v.n()).done;){m.value.finish()}}catch(g){v.e(g)}finally{v.f()}e&&this.view.scrollDOM.insertBefore(this.dom,n)}},{key:"updateGutters",value:function(e){var t=e.startState.facet(Xl),n=e.state.facet(Xl),r=e.docChanged||e.heightChanged||e.viewportChanged||!hr.eq(e.startState.facet(Ql),e.state.facet(Ql),e.view.viewport.from,e.view.viewport.to);if(t==n){var i,a=E(this.gutters);try{for(a.s();!(i=a.n()).done;){i.value.update(e)&&(r=!0)}}catch(g){a.e(g)}finally{a.f()}}else{r=!0;var o,s=[],l=E(n);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=t.indexOf(u);c<0?s.push(new ou(this.view,u)):(this.gutters[c].update(e),s.push(this.gutters[c]))}}catch(g){l.e(g)}finally{l.f()}var f,h=E(this.gutters);try{for(h.s();!(f=h.n()).done;){var d=f.value;d.dom.remove(),s.indexOf(d)<0&&d.destroy()}}catch(g){h.e(g)}finally{h.f()}for(var p=0,m=s;p<m.length;p++){var v=m[p];this.dom.appendChild(v.dom)}this.gutters=s}return r}},{key:"destroy",value:function(){var e,t=E(this.gutters);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this.dom.remove()}}]),e}(),{provide:function(e){return Ms.scrollMargins.of((function(t){var n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==ka.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}:null}))}});function ru(e){return Array.isArray(e)?e:[e]}function iu(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}var au=function(){function e(t,n,r){h(this,e),this.gutter=t,this.height=r,this.localMarkers=[],this.i=0,this.cursor=hr.iter(t.markers,n.from)}return v(e,[{key:"line",value:function(e,t,n){this.localMarkers.length&&(this.localMarkers=[]),iu(this.cursor,this.localMarkers,t.from);var r=n.length?this.localMarkers.concat(n):this.localMarkers,i=this.gutter.config.lineMarker(e,t,r);i&&r.unshift(i);var a=this.gutter;if(0!=r.length||a.config.renderEmptyElements){var o=t.top-this.height;if(this.i==a.elements.length){var s=new su(e,t.height,o,r);a.elements.push(s),a.dom.appendChild(s.dom)}else a.elements[this.i].update(e,t.height,o,r);this.height=t.bottom,this.i++}}},{key:"finish",value:function(){for(var e=this.gutter;e.elements.length>this.i;){var t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}]),e}(),ou=function(){function e(t,n){var r=this;h(this,e),this.view=t,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");var i=function(e){r.dom.addEventListener(e,(function(r){var i=t.lineBlockAtHeight(r.clientY-t.documentTop);n.domEventHandlers[e](t,i,r)&&r.preventDefault()}))};for(var a in n.domEventHandlers)i(a);this.markers=ru(n.markers(t)),n.initialSpacer&&(this.spacer=new su(t,0,0,[n.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}return v(e,[{key:"update",value:function(e){var t=this.markers;if(this.markers=ru(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){var n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}var r=e.view.viewport;return!hr.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}},{key:"destroy",value:function(){var e,t=E(this.elements);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}}}]),e}(),su=function(){function e(t,n,r,i){h(this,e),this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,n,r,i)}return v(e,[{key:"update",value:function(e,t,n,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}},{key:"setMarkers",value:function(e,t){for(var n="cm-gutterElement",r=this.dom.firstChild,i=0,a=0;;){var o=a,s=i<t.length?t[i++]:null,l=!1;if(s){var u=s.elementClass;u&&(n+=" "+u);for(var c=a;c<this.markers.length;c++)if(this.markers[c].compare(s)){o=c,l=!0;break}}else o=this.markers.length;for(;a<o;){var f=this.markers[a++];if(f.toDOM){f.destroy(r);var h=r.nextSibling;r.remove(),r=h}}if(!s)break;s.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(s.toDOM(e),r)),l&&a++}this.dom.className=n,this.markers=t}},{key:"destroy",value:function(){this.setMarkers(null,[])}}]),e}();var lu=bn.define(),uu=bn.define({combine:function(e){return sr(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(e,t){var n=Object.assign({},e),r=function(){var e=n[i],r=t[i];n[i]=e?function(t,n,i){return e(t,n,i)||r(t,n,i)}:r};for(var i in t)r();return n}})}}),cu=function(e){y(n,e);var t=j(n);function n(e){var r;return h(this,n),(r=t.call(this)).number=e,r}return v(n,[{key:"eq",value:function(e){return this.number==e.number}},{key:"toDOM",value:function(){return document.createTextNode(this.number)}}]),n}(Jl);function fu(e,t){return e.state.facet(uu).formatNumber(t,e.state)}var hu=Xl.compute([uu],(function(e){return{class:"cm-lineNumbers",renderEmptyElements:!1,markers:function(e){return e.state.facet(lu)},lineMarker:function(e,t,n){return n.some((function(e){return e.toDOM}))?null:new cu(fu(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:function(e){return e.startState.facet(uu)!=e.state.facet(uu)},initialSpacer:function(e){return new cu(fu(e,du(e.state.doc.lines)))},updateSpacer:function(e,t){var n=fu(t.view,du(t.view.state.doc.lines));return n==e.number?e:new cu(n)},domEventHandlers:e.facet(uu).domEventHandlers}}));function du(e){for(var t=9;t<e;)t=10*t+9;return t}var pu=new(function(e){y(n,e);var t=j(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).elementClass="cm-activeLineGutter",e}return v(n)}(Jl)),mu=Ql.compute(["selection"],(function(e){var t,n=[],r=-1,i=E(e.selection.ranges);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=e.doc.lineAt(a.head).from;o>r&&(r=o,n.push(pu.range(o)))}}catch(s){i.e(s)}finally{i.f()}return hr.of(n)}));function vu(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gu=0,yu=v((function e(t,n){h(this,e),this.from=t,this.to=n})),bu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this.id=gu++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return v(e,[{key:"add",value:function(e){var t=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=wu.match(e)),function(n){var r=e(n);return void 0===r?null:[t,r]}}}]),e}();bu.closedBy=new bu({deserialize:function(e){return e.split(" ")}}),bu.openedBy=new bu({deserialize:function(e){return e.split(" ")}}),bu.group=new bu({deserialize:function(e){return e.split(" ")}}),bu.contextHash=new bu({perNode:!0}),bu.lookAhead=new bu({perNode:!0}),bu.mounted=new bu({perNode:!0});var xu=Object.create(null),wu=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;h(this,e),this.name=t,this.props=n,this.id=r,this.flags=i}return v(e,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if("string"==typeof e){if(this.name==e)return!0;var t=this.prop(bu.group);return!!t&&t.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(t){var n=t.props&&t.props.length?Object.create(null):xu,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new e(t.name||"",n,t.id,r);if(t.props){var a,o=E(t.props);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}}catch(l){o.e(l)}finally{o.f()}}return i}},{key:"match",value:function(e){var t=Object.create(null);for(var n in e){var r,i=E(n.split(" "));try{for(i.s();!(r=i.n()).done;){var a=r.value;t[a]=e[n]}}catch(o){i.e(o)}finally{i.f()}}return function(e){for(var n=e.prop(bu.group),r=-1;r<(n?n.length:0);r++){var i=t[r<0?e.name:n[r]];if(i)return i}}}}]),e}();wu.none=new wu("",Object.create(null),0,8);var ku,ju=new WeakMap,Su=new WeakMap;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(ku||(ku={}));var Cu=function(){function e(t,n,r,i,a){if(h(this,e),this.type=t,this.children=n,this.positions=r,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);var o,s=E(a);try{for(s.s();!(o=s.n()).done;){var l=u(o.value,2),c=l[0],f=l[1];this.props["number"==typeof c?c:c.id]=f}}catch(d){s.e(d)}finally{s.f()}}}return v(e,[{key:"toString",value:function(){var e=this.prop(bu.mounted);if(e&&!e.overlay)return e.tree.toString();var t,n="",r=E(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value.toString();i&&(n&&(n+=","),n+=i)}}catch(a){r.e(a)}finally{r.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}},{key:"cursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Lu(this.topNode,e)}},{key:"cursorAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ju.get(this)||this.topNode,r=new Lu(n);return r.moveTo(e,t),ju.set(this,r._tree),r}},{key:"topNode",get:function(){return new Au(this,0,0,null)}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Nu(ju.get(this)||this.topNode,e,t,!1);return ju.set(this,n),n}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Nu(Su.get(this)||this.topNode,e,t,!0);return Su.set(this,n),n}},{key:"iterate",value:function(e){for(var t=e.enter,n=e.leave,r=e.from,i=void 0===r?0:r,a=e.to,o=void 0===a?this.length:a,s=this.cursor((e.mode||0)|ku.IncludeAnonymous);;){var l=!1;if(s.from<=o&&s.to>=i&&(s.type.isAnonymous||!1!==t(s))){if(s.firstChild())continue;l=!0}for(;l&&n&&!s.type.isAnonymous&&n(s),!s.nextSibling();){if(!s.parent())return;l=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var t in this.props)e.push([+t,this.props[t]]);return e}},{key:"balance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:Fu(wu.none,this.children,this.positions,0,this.children.length,0,this.length,(function(n,r,i){return new e(t.type,n,r,i,t.propValues)}),n.makeTree||function(t,n,r){return new e(wu.none,t,n,r)})}}],[{key:"build",value:function(e){return function(e){var t,n=e.buffer,r=e.nodeSet,i=e.maxBufferLength,a=void 0===i?1024:i,o=e.reused,s=void 0===o?[]:o,l=e.minRepeatType,u=void 0===l?r.types.length:l,c=Array.isArray(n)?new Eu(n,n.length):n,f=r.types,h=0,d=0;function p(e,t,n,i,o){for(var l=c.id,x=c.start,w=c.end,k=c.size,j=d;k<0;){if(c.next(),-1==k){var S=s[l];return n.push(S),void i.push(x-e)}if(-3==k)return void(h=l);if(-4==k)return void(d=l);throw new RangeError("Unrecognized record size: ".concat(k))}var C,E,T=f[l],M=x-e;if(w-x<=a&&(E=y(c.pos-t,o))){for(var _=new Uint16Array(E.size-E.skip),N=c.pos-E.size,A=_.length;c.pos>N;)A=b(E.start,_,A);C=new Tu(_,w-E.start,r),M=E.start-e}else{var O=c.pos-k;c.next();for(var D=[],P=[],R=l>=u?l:-1,L=0,I=w;c.pos>O;)R>=0&&c.id==R&&c.size>=0?(c.end<=I-a&&(v(D,P,x,L,c.end,I,R,j),L=D.length,I=c.end),c.next()):p(x,O,D,P,R);if(R>=0&&L>0&&L<D.length&&v(D,P,x,L,x,I,R,j),D.reverse(),P.reverse(),R>-1&&L>0){var z=m(T);C=Fu(T,D,P,0,D.length,0,w-x,z,z)}else C=g(T,D,P,w-x,j-w)}n.push(C),i.push(M)}function m(e){return function(t,n,r){var i,a,o=0,s=t.length-1;if(s>=0&&(i=t[s])instanceof Cu){if(!s&&i.type==e&&i.length==r)return i;(a=i.prop(bu.lookAhead))&&(o=n[s]+i.length+a)}return g(e,t,n,r,o)}}function v(e,t,n,i,a,o,s,l){for(var u=[],c=[];e.length>i;)u.push(e.pop()),c.push(t.pop()+n-a);e.push(g(r.types[s],u,c,o-a,l-o)),t.push(a-n)}function g(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0;if(h){var o=[bu.contextHash,h];a=a?[o].concat(a):[o]}if(i>25){var s=[bu.lookAhead,i];a=a?[s].concat(a):[s]}return new Cu(e,t,n,r,a)}function y(e,t){var n=c.fork(),r=0,i=0,o=0,s=n.end-a,l={size:0,start:0,skip:0};e:for(var f=n.pos-e;n.pos>f;){var h=n.size;if(n.id==t&&h>=0)l.size=r,l.start=i,l.skip=o,o+=4,r+=4,n.next();else{var d=n.pos-h;if(h<0||d<f||n.start<s)break;var p=n.id>=u?4:0,m=n.start;for(n.next();n.pos>d;){if(n.size<0){if(-3!=n.size)break e;p+=4}else n.id>=u&&(p+=4);n.next()}i=m,r+=h,o+=p}}return(t<0||r==e)&&(l.size=r,l.start=i,l.skip=o),l.size>4?l:void 0}function b(e,t,n){var r=c.id,i=c.start,a=c.end,o=c.size;if(c.next(),o>=0&&r<u){var s=n;if(o>4)for(var l=c.pos-(o-4);c.pos>l;)n=b(e,t,n);t[--n]=s,t[--n]=a-e,t[--n]=i-e,t[--n]=r}else-3==o?h=r:-4==o&&(d=r);return n}var x=[],w=[];for(;c.pos>0;)p(e.start||0,e.bufferStart||0,x,w,-1);var k=null!==(t=e.length)&&void 0!==t?t:x.length?w[0]+x[0].length:0;return new Cu(f[e.topID],x.reverse(),w.reverse(),k)}(e)}}]),e}();Cu.empty=new Cu(wu.none,[],[],0);var Eu=function(){function e(t,n){h(this,e),this.buffer=t,this.index=n}return v(e,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new e(this.buffer,this.index)}}]),e}(),Tu=function(){function e(t,n,r){h(this,e),this.buffer=t,this.length=n,this.set=r}return v(e,[{key:"type",get:function(){return wu.none}},{key:"toString",value:function(){for(var e=[],t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}},{key:"childString",value:function(e){var t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;for(var a=[];e<n;)a.push(this.childString(e)),e=this.buffer[e+3];return i+"("+a.join(",")+")"}},{key:"findChild",value:function(e,t,n,r,i){for(var a=this.buffer,o=-1,s=e;s!=t&&!(Mu(i,r,a[s+1],a[s+2])&&(o=s,n>0));s=a[s+3]);return o}},{key:"slice",value:function(t,n,r){for(var i=this.buffer,a=new Uint16Array(n-t),o=0,s=t,l=0;s<n;){a[l++]=i[s++],a[l++]=i[s++]-r;var u=a[l++]=i[s++]-r;a[l++]=i[s++]-t,o=Math.max(o,u)}return new e(a,o,this.set)}}]),e}();function Mu(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function _u(e,t){for(var n=e.childBefore(t);n;){var r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(e=n,n=r.prevSibling):n=r}return e}function Nu(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){var a=!r&&e instanceof Au&&e.index<0?null:e.parent;if(!a)return e;e=a}var o=r?0:ku.IgnoreOverlays;if(r)for(var s=e,l=s.parent;l;l=(s=l).parent)s instanceof Au&&s.index<0&&(null===(i=l.enter(t,n,o))||void 0===i?void 0:i.from)!=s.from&&(e=l);for(;;){var u=e.enter(t,n,o);if(!u)return e;e=u}}var Au=function(){function e(t,n,r,i){h(this,e),this._tree=t,this.from=n,this.index=r,this._parent=i}return v(e,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(t,n,r,i){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this;;){for(var s=o._tree,l=s.children,u=s.positions,c=n>0?l.length:-1;t!=c;t+=n){var f=l[t],h=u[t]+o.from;if(Mu(i,r,h,h+f.length))if(f instanceof Tu){if(a&ku.ExcludeBuffers)continue;var d=f.findChild(0,f.buffer.length,n,r-h,i);if(d>-1)return new Ru(new Pu(o,f,t,h),null,d)}else if(a&ku.IncludeAnonymous||!f.type.isAnonymous||Iu(f)){var p=void 0;if(!(a&ku.IgnoreMounts)&&f.props&&(p=f.prop(bu.mounted))&&!p.overlay)return new e(p.tree,h,t,o);var m=new e(f,h,t,o);return a&ku.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(n<0?f.children.length-1:0,n,r,i)}}if(a&ku.IncludeAnonymous||!o.type.isAnonymous)return null;if(t=o.index>=0?o.index+n:n<0?-1:o._parent._tree.children.length,!(o=o._parent))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(e){return this.nextChild(0,1,e,2)}},{key:"childBefore",value:function(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}},{key:"enter",value:function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&ku.IgnoreOverlays)&&(r=this._tree.prop(bu.mounted))&&r.overlay){var a,o=t-this.from,s=E(r.overlay);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l.from,c=l.to;if((n>0?u<=o:u<o)&&(n<0?c>=o:c>o))return new e(r.tree,r.overlay[0].from+this.from,-1,this)}}catch(f){s.e(f)}finally{s.f()}}return this.nextChild(0,1,t,n,i)}},{key:"nextSignificantParent",value:function(){for(var e=this;e.type.isAnonymous&&e._parent;)e=e._parent;return e}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"cursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Lu(this,e)}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Nu(this,e,t,!1)}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Nu(this,e,t,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return _u(this,e)}},{key:"getChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Ou(this,e,t,n);return r.length?r[0]:null}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Ou(this,e,t,n)}},{key:"toString",value:function(){return this._tree.toString()}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return Du(this,e)}}]),e}();function Ou(e,t,n,r){var i=e.cursor(),a=[];if(!i.firstChild())return a;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return a;for(;;){if(null!=r&&i.type.is(r))return a;if(i.type.is(t)&&a.push(i.node),!i.nextSibling())return null==r?a:[]}}function Du(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1,r=e.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}var Pu=v((function e(t,n,r,i){h(this,e),this.parent=t,this.buffer=n,this.index=r,this.start=i})),Ru=function(){function e(t,n,r){h(this,e),this.context=t,this._parent=n,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}return v(e,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(t,n,r){var i=this.context.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.context.start,r);return a<0?null:new e(this.context,this,a)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(e){return this.child(1,e,2)}},{key:"childBefore",value:function(e){return this.child(-1,e,-2)}},{key:"enter",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r&ku.ExcludeBuffers)return null;var i=this.context.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,t-this.context.start,n);return a<0?null:new e(this.context,this,a)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}},{key:"nextSibling",get:function(){var t=this.context.buffer,n=t.buffer[this.index+3];return n<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new e(this.context,this._parent,n):this.externalSibling(1)}},{key:"prevSibling",get:function(){var t=this.context.buffer,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new e(this.context,this._parent,t.findChild(n,this.index,-1,0,4))}},{key:"cursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Lu(this,e)}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var e=[],t=[],n=this.context.buffer,r=this.index+4,i=n.buffer[this.index+3];if(i>r){var a=n.buffer[this.index+1];e.push(n.slice(r,i,a)),t.push(0)}return new Cu(this.type,e,t,this.to-this.from)}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Nu(this,e,t,!1)}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Nu(this,e,t,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return _u(this,e)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}},{key:"getChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Ou(this,e,t,n);return r.length?r[0]:null}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Ou(this,e,t,n)}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return Du(this,e)}}]),e}(),Lu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(h(this,e),this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Au)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(var r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}return v(e,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,t){this.index=e;var n=this.buffer,r=n.start,i=n.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof Au?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));var r=this.buffer.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&ku.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(this.mode&ku.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=this.mode&ku.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var t=this.buffer.buffer,n=this.stack.length-1;if(e<0){var r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{var i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var t,n,r=this.buffer;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(var i=0;i<this.index;i++)if(r.buffer.buffer[i+3]<this.index)return!1;t=r.index,n=r.parent}else{var a=this._tree;t=a.index,n=a._parent}for(;n;t=(o=n).index,n=o._parent,o){var o;if(t>-1)for(var s=t+e,l=e<0?-1:n._tree.children.length;s!=l;s+=e){var u=n._tree.children[s];if(this.mode&ku.IncludeAnonymous||u instanceof Tu||!u.type.isAnonymous||Iu(u))return!1}}return!0}},{key:"move",value:function(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(var r=this.index,i=this.stack.length;i>=0;){for(var a=e;a;a=a._parent)if(a.index==r){if(r==this.index)return a;t=a,n=i+1;break e}r=this.stack[--i]}for(var o=n;o<this.stack.length;o++)t=new Ru(this.buffer,t,this.stack[o]);return this.bufferNode=new Ru(this.buffer,t,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,t){for(var n=0;;){var r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}},{key:"matchContext",value:function(e){if(!this.buffer)return Du(this.node,e);for(var t=this.buffer.buffer,n=t.set.types,r=e.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return Du(this.node,e,r);var a=n[t.buffer[this.stack[i]]];if(!a.isAnonymous){if(e[r]&&e[r]!=a.name)return!1;r--}}return!0}}]),e}();function Iu(e){return e.children.some((function(e){return e instanceof Tu||!e.type.isAnonymous||Iu(e)}))}var zu=new WeakMap;function Bu(e,t){if(!e.isAnonymous||t instanceof Tu||t.type!=e)return 1;var n=zu.get(t);if(null==n){n=1;var r,i=E(t.children);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.type!=e||!(a instanceof Cu)){n=1;break}n+=Bu(e,a)}}catch(o){i.e(o)}finally{i.f()}zu.set(t,n)}return n}function Fu(e,t,n,r,i,a,o,s,l){for(var u=0,c=r;c<i;c++)u+=Bu(e,t[c]);var f=Math.ceil(1.5*u/8),h=[],d=[];return function t(n,r,i,o,s){for(var u=i;u<o;){var c=u,p=r[u],m=Bu(e,n[u]);for(u++;u<o;u++){var v=Bu(e,n[u]);if(m+v>=f)break;m+=v}if(u==c+1){if(m>f){var g=n[c];t(g.children,g.positions,0,g.children.length,r[c]+s);continue}h.push(n[c])}else{var y=r[u-1]+n[u-1].length-p;h.push(Fu(e,n,r,c,u,p,y,null,l))}d.push(p+s-a)}}(t,n,r,i,0),(s||l)(h,d,o)}var Wu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];h(this,e),this.from=t,this.to=n,this.tree=r,this.offset=i,this.open=(a?1:0)|(o?2:0)}return v(e,[{key:"openStart",get:function(){return(1&this.open)>0}},{key:"openEnd",get:function(){return(2&this.open)>0}}],[{key:"addTree",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[new e(0,t.length,t,0,!1,i)],o=E(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.to>t.length&&a.push(s)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"applyChanges",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!n.length)return t;for(var i=[],a=1,o=t.length?t[0]:null,s=0,l=0,u=0;;s++){var c=s<n.length?n[s]:null,f=c?c.fromA:1e9;if(f-l>=r)for(;o&&o.from<f;){var h=o;if(l>=h.from||f<=h.to||u){var d=Math.max(h.from,l)-u,p=Math.min(h.to,f)-u;h=d>=p?null:new e(d,p,h.tree,h.offset+u,s>0,!!c)}if(h&&i.push(h),o.to>f)break;o=a<t.length?t[a++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}]),e}(),Vu=function(){function e(){h(this,e)}return v(e,[{key:"startParse",value:function(e,t,n){return"string"==typeof e&&(e=new Hu(e)),n=n?n.length?n.map((function(e){return new yu(e.from,e.to)})):[new yu(0,0)]:[new yu(0,e.length)],this.createParse(e,t||[],n)}},{key:"parse",value:function(e,t,n){for(var r=this.startParse(e,t,n);;){var i=r.advance();if(i)return i}}}]),e}(),Hu=function(){function e(t){h(this,e),this.string=t}return v(e,[{key:"length",get:function(){return this.string.length}},{key:"chunk",value:function(e){return this.string.slice(e)}},{key:"lineChunks",get:function(){return!1}},{key:"read",value:function(e,t){return this.string.slice(e,t)}}]),e}();new bu({perNode:!0});var qu=0,Uu=function(){function e(t,n,r){h(this,e),this.set=t,this.base=n,this.modified=r,this.id=qu++}return v(e,null,[{key:"define",value:function(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");var n=new e([],null,[]);if(n.set.push(n),t){var r,i=E(t.set);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.set.push(a)}}catch(o){i.e(o)}finally{i.f()}}return n}},{key:"defineModifier",value:function(){var e=new Ku;return function(t){return t.modified.indexOf(e)>-1?t:Ku.get(t.base||t,t.modified.concat(e).sort((function(e,t){return e.id-t.id})))}}}]),e}(),$u=0,Ku=function(){function e(){h(this,e),this.instances=[],this.id=$u++}return v(e,null,[{key:"get",value:function(t,n){if(!n.length)return t;var r=n[0].instances.find((function(e){return e.base==t&&(r=n,i=e.modified,r.length==i.length&&r.every((function(e,t){return e==i[t]})));var r,i}));if(r)return r;var i,a=[],o=new Uu(a,t,n),s=E(n);try{for(s.s();!(i=s.n()).done;){i.value.instances.push(o)}}catch(m){s.e(m)}finally{s.f()}var l,u=function(e){for(var t=[[]],n=0;n<e.length;n++)for(var r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort((function(e,t){return t.length-e.length}))}(n),c=E(t.set);try{for(c.s();!(l=c.n()).done;){var f=l.value;if(!f.modified.length){var h,d=E(u);try{for(d.s();!(h=d.n()).done;){var p=h.value;a.push(e.get(f,p))}}catch(m){d.e(m)}finally{d.f()}}}}catch(m){c.e(m)}finally{c.f()}return o}}]),e}();function Gu(e){var t=Object.create(null);for(var n in e){var r=e[n];Array.isArray(r)||(r=[r]);var i,a=E(n.split(" "));try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o){for(var s=[],l=2,u=o,c=0;;){if("..."==u&&c>0&&c+3==o.length){l=1;break}var f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!f)throw new RangeError("Invalid path: "+o);if(s.push("*"==f[0]?"":'"'==f[0][0]?JSON.parse(f[0]):f[0]),(c+=f[0].length)==o.length)break;var h=o[c++];if(c==o.length&&"!"==h){l=0;break}if("/"!=h)throw new RangeError("Invalid path: "+o);u=o.slice(c)}var d=s.length-1,p=s[d];if(!p)throw new RangeError("Invalid path: "+o);var m=new Qu(r,l,d>0?s.slice(0,d):null);t[p]=m.sort(t[p])}}}catch(v){a.e(v)}finally{a.f()}}return Ju.add(t)}var Ju=new bu,Qu=function(){function e(t,n,r,i){h(this,e),this.tags=t,this.mode=n,this.context=r,this.next=i}return v(e,[{key:"opaque",get:function(){return 0==this.mode}},{key:"inherit",get:function(){return 1==this.mode}},{key:"sort",value:function(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}},{key:"depth",get:function(){return this.context?this.context.length:0}}]),e}();function Yu(e,t){var n,r=Object.create(null),i=E(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(Array.isArray(a.tag)){var o,s=E(a.tag);try{for(s.s();!(o=s.n()).done;){var l=o.value;r[l.id]=a.class}}catch(d){s.e(d)}finally{s.f()}}else r[a.tag.id]=a.class}}catch(d){i.e(d)}finally{i.f()}var u=t||{},c=u.scope,f=u.all,h=void 0===f?null:f;return{style:function(e){var t,n=h,i=E(e);try{for(i.s();!(t=i.n()).done;){var a,o=E(t.value.set);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=r[s.id];if(l){n=n?n+" "+l:l;break}}}catch(d){o.e(d)}finally{o.f()}}}catch(d){i.e(d)}finally{i.f()}return n},scope:c}}function Xu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length,a=new Zu(r,Array.isArray(t)?t:[t],n);a.highlightRange(e.cursor(),r,i,"",a.highlighters),a.flush(i)}Qu.empty=new Qu([],2,null);var Zu=function(){function e(t,n,r){h(this,e),this.at=t,this.highlighters=n,this.span=r,this.class=""}return v(e,[{key:"startSpan",value:function(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}},{key:"flush",value:function(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}},{key:"highlightRange",value:function(e,t,n,r,i){var a=e.type,o=e.from,s=e.to;if(!(o>=n||s<=t)){a.isTop&&(i=this.highlighters.filter((function(e){return!e.scope||e.scope(a)})));var l=r,u=function(e){var t=e.type.prop(Ju);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||Qu.empty,c=function(e,t){var n,r=null,i=E(e);try{for(i.s();!(n=i.n()).done;){var a=n.value.style(t);a&&(r=r?r+" "+a:a)}}catch(o){i.e(o)}finally{i.f()}return r}(i,u.tags);if(c&&(l&&(l+=" "),l+=c,1==u.mode&&(r+=(r?" ":"")+c)),this.startSpan(e.from,l),!u.opaque){var f=e.tree&&e.tree.prop(bu.mounted);if(f&&f.overlay){for(var h=e.node.enter(f.overlay[0].from+o,1),d=this.highlighters.filter((function(e){return!e.scope||e.scope(f.tree.type)})),p=e.firstChild(),m=0,v=o;;m++){var g=m<f.overlay.length?f.overlay[m]:null,y=g?g.from+o:s,b=Math.max(t,v),x=Math.min(n,y);if(b<x&&p)for(;e.from<x&&(this.highlightRange(e,b,x,r,i),this.startSpan(Math.min(x,e.to),l),!(e.to>=y)&&e.nextSibling()););if(!g||y>n)break;(v=g.to+o)>t&&(this.highlightRange(h.cursor(),Math.max(t,g.from+o),Math.min(n,v),r,d),this.startSpan(v,l))}p&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,i),this.startSpan(Math.min(n,e.to),l)}}while(e.nextSibling());e.parent()}}}}}]),e}();var ec,tc=Uu.define,nc=tc(),rc=tc(),ic=tc(rc),ac=tc(rc),oc=tc(),sc=tc(oc),lc=tc(oc),uc=tc(),cc=tc(uc),fc=tc(),hc=tc(),dc=tc(),pc=tc(dc),mc=tc(),vc={comment:nc,lineComment:tc(nc),blockComment:tc(nc),docComment:tc(nc),name:rc,variableName:tc(rc),typeName:ic,tagName:tc(ic),propertyName:ac,attributeName:tc(ac),className:tc(rc),labelName:tc(rc),namespace:tc(rc),macroName:tc(rc),literal:oc,string:sc,docString:tc(sc),character:tc(sc),attributeValue:tc(sc),number:lc,integer:tc(lc),float:tc(lc),bool:tc(oc),regexp:tc(oc),escape:tc(oc),color:tc(oc),url:tc(oc),keyword:fc,self:tc(fc),null:tc(fc),atom:tc(fc),unit:tc(fc),modifier:tc(fc),operatorKeyword:tc(fc),controlKeyword:tc(fc),definitionKeyword:tc(fc),moduleKeyword:tc(fc),operator:hc,derefOperator:tc(hc),arithmeticOperator:tc(hc),logicOperator:tc(hc),bitwiseOperator:tc(hc),compareOperator:tc(hc),updateOperator:tc(hc),definitionOperator:tc(hc),typeOperator:tc(hc),controlOperator:tc(hc),punctuation:dc,separator:tc(dc),bracket:pc,angleBracket:tc(pc),squareBracket:tc(pc),paren:tc(pc),brace:tc(pc),content:uc,heading:cc,heading1:tc(cc),heading2:tc(cc),heading3:tc(cc),heading4:tc(cc),heading5:tc(cc),heading6:tc(cc),contentSeparator:tc(uc),list:tc(uc),quote:tc(uc),emphasis:tc(uc),strong:tc(uc),link:tc(uc),monospace:tc(uc),strikethrough:tc(uc),inserted:tc(),deleted:tc(),changed:tc(),invalid:tc(),meta:mc,documentMeta:tc(mc),annotation:tc(mc),processingInstruction:tc(mc),definition:Uu.defineModifier(),constant:Uu.defineModifier(),function:Uu.defineModifier(),standard:Uu.defineModifier(),local:Uu.defineModifier(),special:Uu.defineModifier()},gc=(Yu([{tag:vc.link,class:"tok-link"},{tag:vc.heading,class:"tok-heading"},{tag:vc.emphasis,class:"tok-emphasis"},{tag:vc.strong,class:"tok-strong"},{tag:vc.keyword,class:"tok-keyword"},{tag:vc.atom,class:"tok-atom"},{tag:vc.bool,class:"tok-bool"},{tag:vc.url,class:"tok-url"},{tag:vc.labelName,class:"tok-labelName"},{tag:vc.inserted,class:"tok-inserted"},{tag:vc.deleted,class:"tok-deleted"},{tag:vc.literal,class:"tok-literal"},{tag:vc.string,class:"tok-string"},{tag:vc.number,class:"tok-number"},{tag:[vc.regexp,vc.escape,vc.special(vc.string)],class:"tok-string2"},{tag:vc.variableName,class:"tok-variableName"},{tag:vc.local(vc.variableName),class:"tok-variableName tok-local"},{tag:vc.definition(vc.variableName),class:"tok-variableName tok-definition"},{tag:vc.special(vc.variableName),class:"tok-variableName2"},{tag:vc.definition(vc.propertyName),class:"tok-propertyName tok-definition"},{tag:vc.typeName,class:"tok-typeName"},{tag:vc.namespace,class:"tok-namespace"},{tag:vc.className,class:"tok-className"},{tag:vc.macroName,class:"tok-macroName"},{tag:vc.propertyName,class:"tok-propertyName"},{tag:vc.operator,class:"tok-operator"},{tag:vc.comment,class:"tok-comment"},{tag:vc.meta,class:"tok-meta"},{tag:vc.invalid,class:"tok-invalid"},{tag:vc.punctuation,class:"tok-punctuation"}]),new bu);var yc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";h(this,e),this.data=t,this.name=i,or.prototype.hasOwnProperty("tree")||Object.defineProperty(or.prototype,"tree",{get:function(){return xc(this)}}),this.parser=n,this.extension=[_c.of(this),or.languageData.of((function(e,t,n){return e.facet(bc(e,t,n))}))].concat(r)}return v(e,[{key:"isActiveAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return bc(e,t,n)==this.data}},{key:"findRegions",value:function(e){var t=this,n=e.facet(_c);if((null===n||void 0===n?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];var r=[];return function e(n,i){if(n.prop(gc)!=t.data){var a=n.prop(bu.mounted);if(a){if(a.tree.prop(gc)==t.data){if(a.overlay){var o,s=E(a.overlay);try{for(s.s();!(o=s.n()).done;){var l=o.value;r.push({from:l.from+i,to:l.to+i})}}catch(h){s.e(h)}finally{s.f()}}else r.push({from:i,to:i+n.length});return}if(a.overlay){var u=r.length;if(e(a.tree,a.overlay[0].from+i),r.length>u)return}}for(var c=0;c<n.children.length;c++){var f=n.children[c];f instanceof Cu&&e(f,n.positions[c]+i)}}else r.push({from:i,to:i+n.length})}(xc(e),0),r}},{key:"allowsNesting",get:function(){return!0}}]),e}();function bc(e,t,n){var r=e.facet(_c);if(!r)return null;var i=r.data;if(r.allowsNesting)for(var a=xc(e).topNode;a;a=a.enter(t,n,ku.ExcludeBuffers))i=a.type.prop(gc)||i;return i}yc.setState=Gn.define();function xc(e){var t=e.field(yc.state,!1);return t?t.tree:Cu.empty}var wc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length;h(this,e),this.doc=t,this.length=n,this.cursorPos=0,this.string="",this.cursor=t.iter()}return v(e,[{key:"syncTo",value:function(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}},{key:"chunk",value:function(e){return this.syncTo(e),this.string}},{key:"lineChunks",get:function(){return!0}},{key:"read",value:function(e,t){var n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}]),e}(),kc=null,jc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;h(this,e),this.parser=t,this.state=n,this.fragments=r,this.tree=i,this.treeLen=a,this.viewport=o,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}return v(e,[{key:"startParse",value:function(){return this.parser.startParse(new wc(this.state.doc),this.fragments)}},{key:"work",value:function(e,t){var n=this;return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=Cu.empty&&this.isDone(null!==t&&void 0!==t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((function(){var r;if("number"==typeof e){var i=Date.now()+e;e=function(){return Date.now()>i}}for(n.parse||(n.parse=n.startParse()),null!=t&&(null==n.parse.stoppedAt||n.parse.stoppedAt>t)&&t<n.state.doc.length&&n.parse.stopAt(t);;){var a=n.parse.advance();if(a){if(n.fragments=n.withoutTempSkipped(Wu.addTree(a,n.fragments,null!=n.parse.stoppedAt)),n.treeLen=null!==(r=n.parse.stoppedAt)&&void 0!==r?r:n.state.doc.length,n.tree=a,n.parse=null,!(n.treeLen<(null!==t&&void 0!==t?t:n.state.doc.length)))return!0;n.parse=n.startParse()}if(e())return!1}}))}},{key:"takeTree",value:function(){var e,t,n=this;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((function(){for(;!(t=n.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Wu.addTree(this.tree,this.fragments,!0)),this.parse=null)}},{key:"withContext",value:function(e){var t=kc;kc=this;try{return e()}finally{kc=t}}},{key:"withoutTempSkipped",value:function(e){for(var t;t=this.tempSkipped.pop();)e=Sc(e,t.from,t.to);return e}},{key:"changes",value:function(t,n){var r=this.fragments,i=this.tree,a=this.treeLen,o=this.viewport,s=this.skipped;if(this.takeTree(),!t.empty){var l=[];if(t.iterChangedRanges((function(e,t,n,r){return l.push({fromA:e,toA:t,fromB:n,toB:r})})),r=Wu.applyChanges(r,l),i=Cu.empty,a=0,o={from:t.mapPos(o.from,-1),to:t.mapPos(o.to,1)},this.skipped.length){s=[];var u,c=E(this.skipped);try{for(c.s();!(u=c.n()).done;){var f=u.value,h=t.mapPos(f.from,1),d=t.mapPos(f.to,-1);h<d&&s.push({from:h,to:d})}}catch(p){c.e(p)}finally{c.f()}}}return new e(this.parser,n,r,i,a,o,s,this.scheduleOn)}},{key:"updateViewport",value:function(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;for(var t=this.skipped.length,n=0;n<this.skipped.length;n++){var r=this.skipped[n],i=r.from,a=r.to;i<e.to&&a>e.from&&(this.fragments=Sc(this.fragments,i,a),this.skipped.splice(n--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}},{key:"reset",value:function(){this.parse&&(this.takeTree(),this.parse=null)}},{key:"skipUntilInView",value:function(e,t){this.skipped.push({from:e,to:t})}},{key:"isDone",value:function(e){e=Math.min(e,this.state.doc.length);var t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}}],[{key:"create",value:function(t,n,r){return new e(t,n,[],Cu.empty,0,r,[],null)}},{key:"getSkippingParser",value:function(e){return new(function(t){y(r,t);var n=j(r);function r(){return h(this,r),n.apply(this,arguments)}return v(r,[{key:"createParse",value:function(t,n,r){var i=r[0].from,a=r[r.length-1].to,o={parsedPos:i,advance:function(){var t=kc;if(t){var n,o=E(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;t.tempSkipped.push(s)}}catch(l){o.e(l)}finally{o.f()}e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=a,new Cu(wu.none,[],[],a-i)},stoppedAt:null,stopAt:function(){}};return o}}]),r}(Vu))}},{key:"get",value:function(){return kc}}]),e}();function Sc(e,t,n){return Wu.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}var Cc=function(){function e(t){h(this,e),this.context=t,this.tree=t.tree}return v(e,[{key:"apply",value:function(t){if(!t.docChanged&&this.tree==this.context.tree)return this;var n=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new e(n)}}],[{key:"init",value:function(t){var n=Math.min(3e3,t.doc.length),r=jc.create(t.facet(_c).parser,t,{from:0,to:n});return r.work(20,n)||r.takeTree(),new e(r)}}]),e}();yc.state=Cn.define({create:Cc.init,update:function(e,t){var n,r=E(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is(yc.setState))return i.value}}catch(a){r.e(a)}finally{r.f()}return t.startState.facet(_c)!=t.state.facet(_c)?Cc.init(t.state):e.apply(t)}});var Ec=function(e){var t=setTimeout((function(){return e()}),500);return function(){return clearTimeout(t)}};"undefined"!=typeof requestIdleCallback&&(Ec=function(e){var t=-1,n=setTimeout((function(){t=requestIdleCallback(e,{timeout:400})}),100);return function(){return t<0?clearTimeout(n):cancelIdleCallback(t)}});var Tc="undefined"!=typeof navigator&&(null===(ec=navigator.scheduling)||void 0===ec?void 0:ec.isInputPending)?function(){return navigator.scheduling.isInputPending()}:null,Mc=ha.fromClass(function(){function e(t){h(this,e),this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}return v(e,[{key:"update",value:function(e){var t=this.view.state.field(yc.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}},{key:"scheduleWork",value:function(){if(!this.working){var e=this.view.state,t=e.field(yc.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=Ec(this.work))}}},{key:"work",value:function(e){this.working=null;var t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),!(this.chunkBudget<=0)){var n=this.view,r=n.state,i=n.viewport.to,a=r.field(yc.state);if(a.tree!=a.context.tree||!a.context.isDone(i+1e5)){var o=Date.now()+Math.min(this.chunkBudget,100,e&&!Tc?Math.max(25,e.timeRemaining()-5):1e9),s=a.context.treeLen<i&&r.doc.length>i+1e3,l=a.context.work((function(){return Tc&&Tc()||Date.now()>o}),i+(s?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:yc.setState.of(new Cc(a.context))})),this.chunkBudget>0&&(!l||s)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}}}},{key:"checkAsyncSchedule",value:function(e){var t=this;e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((function(){return t.scheduleWork()})).catch((function(e){return la(t.view.state,e)})).then((function(){return t.workScheduled--})),e.scheduleOn=null)}},{key:"destroy",value:function(){this.working&&this.working()}},{key:"isWorking",value:function(){return!!(this.working||this.workScheduled>0)}}]),e}(),{eventHandlers:{focus:function(){this.scheduleWork()}}}),_c=bn.define({combine:function(e){return e.length?e[0]:null},enables:function(e){return[yc.state,Mc,Ms.contentAttributes.compute([e],(function(t){var n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]}}),Nc=bn.define(),Ac=bn.define({combine:function(e){if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function Oc(e){var t=e.facet(Ac);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function Dc(e,t){var n="",r=e.tabSize;if(9==e.facet(Ac).charCodeAt(0))for(;t>=r;)n+="\t",t-=r;for(var i=0;i<t;i++)n+=" ";return n}function Pc(e,t){e instanceof or&&(e=new Rc(e));var n,r=E(e.state.facet(Nc));try{for(r.s();!(n=r.n()).done;){var i=(0,n.value)(e,t);if(void 0!==i)return i}}catch(o){r.e(o)}finally{r.f()}var a=xc(e.state);return a?function(e,t,n){return zc(t.resolveInner(n).enterUnfinishedNodesBefore(n),n,e)}(e,a,t):null}var Rc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this.state=t,this.options=n,this.unit=Oc(t)}return v(e,[{key:"lineAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.state.doc.lineAt(e),r=this.options,i=r.simulateBreak,a=r.simulateDoubleBreak;return null!=i&&i>=n.from&&i<=n.to?a&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}},{key:"textAfterPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";var n=this.lineAt(e,t),r=n.text,i=n.from;return r.slice(e-i,Math.min(r.length,e+100-i))}},{key:"column",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.lineAt(e,t),r=n.text,i=n.from,a=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(a+=o-this.countColumn(r,r.search(/\S|$/))),a}},{key:"countColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return Cr(e,this.state.tabSize,t)}},{key:"lineIndent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.lineAt(e,t),r=n.text,i=n.from,a=this.options.overrideIndentation;if(a){var o=a(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}},{key:"simulatedBreak",get:function(){return this.options.simulateBreak||null}}]),e}(),Lc=new bu;function Ic(e){var t=e.type.prop(Lc);if(t)return t;var n,r=e.firstChild;if(r&&(n=r.type.prop(bu.closedBy))){var i=e.lastChild,a=i&&n.indexOf(i.name)>-1;return function(e){return Vc(e,!0,1,void 0,a&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?i.from:void 0)}}return null==e.parent?Bc:null}function zc(e,t,n){for(;e;e=e.parent){var r=Ic(e);if(r)return r(Fc.create(n,t,e))}return null}function Bc(){return 0}var Fc=function(e){y(n,e);var t=j(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e.state,e.options)).base=e,a.pos=r,a.node=i,a}return v(n,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){for(var e=this.state.doc.lineAt(this.node.from);;){for(var t=this.node.resolve(e.from);t.parent&&t.parent.from==t.from;)t=t.parent;if(Wc(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}},{key:"continue",value:function(){var e=this.node.parent;return e?zc(e,this.pos,this.base):0}}],[{key:"create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Rc);function Wc(e,t){for(var n=t;n;n=n.parent)if(e==n)return!0;return!1}function Vc(e,t,n,r,i){var a=e.textAfter,o=a.match(/^\s*/)[0].length,s=r&&a.slice(o,o+r.length)==r||i==e.pos+o,l=t?function(e){var t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;for(var i=e.options.simulateBreak,a=e.state.doc.lineAt(n.from),o=null==i||i<=a.from?a.to:Math.min(a.to,i),s=n.to;;){var l=t.childAfter(s);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<o?n:null;s=l.to}}(e):null;return l?s?e.column(l.from):e.column(l.to):e.baseIndent+(s?0:e.unit*n)}var Hc=bn.define(),qc=new bu;function Uc(e){var t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function $c(e,t,n){var r,i=E(e.facet(Hc));try{for(i.s();!(r=i.n()).done;){var a=(0,r.value)(e,t,n);if(a)return a}}catch(o){i.e(o)}finally{i.f()}return function(e,t,n){var r=xc(e);if(r.length<n)return null;for(var i=null,a=r.resolveInner(n,1);a;a=a.parent)if(!(a.to<=n||a.from>n)){if(i&&a.from<t)break;var o=a.type.prop(qc);if(o&&(a.to<r.length-50||r.length==e.doc.length||!Uc(a))){var s=o(a,e);s&&s.from<=n&&s.from>=t&&s.to>n&&(i=s)}}return i}(e,t,n)}function Kc(e,t){var n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}var Gc=Gn.define({map:Kc}),Jc=Gn.define({map:Kc});function Qc(e){var t,n=[],r=E(e.state.selection.ranges);try{var i=function(){var r=t.value.head;if(n.some((function(e){return e.from<=r&&e.to>=r})))return"continue";n.push(e.lineBlockAt(r))};for(r.s();!(t=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}return n}var Yc=Cn.define({create:function(){return Wi.none},update:function(e,t){e=e.map(t.changes);var n,r=E(t.effects);try{var i=function(){var t=n.value;t.is(Gc)&&!function(e,t,n){var r=!1;return e.between(t,t,(function(e,i){e==t&&i==n&&(r=!0)})),r}(e,t.value.from,t.value.to)?e=e.update({add:[of.range(t.value.from,t.value.to)]}):t.is(Jc)&&(e=e.update({filter:function(e,n){return t.value.from!=e||t.value.to!=n},filterFrom:t.value.from,filterTo:t.value.to}))};for(r.s();!(n=r.n()).done;)i()}catch(s){r.e(s)}finally{r.f()}if(t.selection){var a=!1,o=t.selection.main.head;e.between(o,o,(function(e,t){e<o&&t>o&&(a=!0)})),a&&(e=e.update({filterFrom:o,filterTo:o,filter:function(e,t){return t<=o||e>=o}}))}return e},provide:function(e){return Ms.decorations.from(e)},toJSON:function(e,t){var n=[];return e.between(0,t.doc.length,(function(e,t){n.push(e,t)})),n},fromJSON:function(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");t.push(of.range(r,i))}return Wi.set(t,!0)}});function Xc(e,t,n){var r,i=null;return null===(r=e.field(Yc,!1))||void 0===r||r.between(t,n,(function(e,t){(!i||i.from>e)&&(i={from:e,to:t})})),i}function Zc(e,t){return e.field(Yc,!1)?t:t.concat(Gn.appendConfig.of(af()))}function ef(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return Ms.announce.of("".concat(e.state.phrase(n?"Folded lines":"Unfolded lines")," ").concat(r," ").concat(e.state.phrase("to")," ").concat(i,"."))}var tf=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:function(e){var t,n=E(Qc(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=$c(e.state,r.from,r.to);if(i)return e.dispatch({effects:Zc(e.state,[Gc.of(i),ef(e,i)])}),!0}}catch(a){n.e(a)}finally{n.f()}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:function(e){if(!e.state.field(Yc,!1))return!1;var t,n=[],r=E(Qc(e));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=Xc(e.state,i.from,i.to);a&&n.push(Jc.of(a),ef(e,a,!1))}}catch(o){r.e(o)}finally{r.f()}return n.length&&e.dispatch({effects:n}),n.length>0}},{key:"Ctrl-Alt-[",run:function(e){for(var t=e.state,n=[],r=0;r<t.doc.length;){var i=e.lineBlockAt(r),a=$c(t,i.from,i.to);a&&n.push(Gc.of(a)),r=(a?e.lineBlockAt(a.to):i).to+1}return n.length&&e.dispatch({effects:Zc(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:function(e){var t=e.state.field(Yc,!1);if(!t||!t.size)return!1;var n=[];return t.between(0,e.state.doc.length,(function(e,t){n.push(Jc.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],nf={placeholderDOM:null,placeholderText:"\u2026"},rf=bn.define({combine:function(e){return sr(e,nf)}});function af(e){var t=[Yc,uf];return e&&t.push(rf.of(e)),t}var of=Wi.replace({widget:new(function(e){y(n,e);var t=j(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"toDOM",value:function(e){var t=e.state,n=t.facet(rf),r=function(t){var n=e.lineBlockAt(e.posAtDOM(t.target)),r=Xc(e.state,n.from,n.to);r&&e.dispatch({effects:Jc.of(r)}),t.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(e,r);var i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",t.phrase("folded code")),i.title=t.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}]),n}(Bi))}),sf={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:function(){return!1}},lf=function(e){y(n,e);var t=j(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).config=e,i.open=r,i}return v(n,[{key:"eq",value:function(e){return this.config==e.config&&this.open==e.open}},{key:"toDOM",value:function(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);var t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}]),n}(Jl);var uf=Ms.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),cf=function(){function e(t,n){var r;function i(e){var t=Nr.newName();return(r||(r=Object.create(null)))["."+t]=e,t}h(this,e),this.specs=t;var a="string"==typeof n.all?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof yc?function(e){return e.prop(gc)==o.data}:o?function(e){return e==o}:void 0,this.style=Yu(t.map((function(e){return{tag:e.tag,class:e.class||i(Object.assign({},e,{tag:null}))}})),{all:a}).style,this.module=r?new Nr(r):null,this.themeType=n.themeType}return v(e,null,[{key:"define",value:function(t,n){return new e(t,n||{})}}]),e}(),ff=bn.define(),hf=bn.define({combine:function(e){return e.length?[e[0]]:null}});function df(e){var t=e.facet(ff);return t.length?t:e.facet(hf)}function pf(e,t){var n,r=[vf];return e instanceof cf&&(e.module&&r.push(Ms.styleModule.of(e.module)),n=e.themeType),(null===t||void 0===t?void 0:t.fallback)?r.push(hf.of(e)):n?r.push(ff.computeN([Ms.darkTheme],(function(t){return t.facet(Ms.darkTheme)==("dark"==n)?[e]:[]}))):r.push(ff.of(e)),r}var mf=function(){function e(t){h(this,e),this.markCache=Object.create(null),this.tree=xc(t.state),this.decorations=this.buildDeco(t,df(t.state))}return v(e,[{key:"update",value:function(e){var t=xc(e.state),n=df(e.state),r=n!=df(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}},{key:"buildDeco",value:function(e,t){var n=this;if(!t||!this.tree.length)return Wi.none;var r,i=new pr,a=E(e.visibleRanges);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.from,l=o.to;Xu(this.tree,t,(function(e,t,r){i.add(e,t,n.markCache[r]||(n.markCache[r]=Wi.mark({class:r})))}),s,l)}}catch(u){a.e(u)}finally{a.f()}return i.finish()}}]),e}(),vf=An.high(ha.fromClass(mf,{decorations:function(e){return e.decorations}})),gf=cf.define([{tag:vc.meta,color:"#404740"},{tag:vc.link,textDecoration:"underline"},{tag:vc.heading,textDecoration:"underline",fontWeight:"bold"},{tag:vc.emphasis,fontStyle:"italic"},{tag:vc.strong,fontWeight:"bold"},{tag:vc.strikethrough,textDecoration:"line-through"},{tag:vc.keyword,color:"#708"},{tag:[vc.atom,vc.bool,vc.url,vc.contentSeparator,vc.labelName],color:"#219"},{tag:[vc.literal,vc.inserted],color:"#164"},{tag:[vc.string,vc.deleted],color:"#a11"},{tag:[vc.regexp,vc.escape,vc.special(vc.string)],color:"#e40"},{tag:vc.definition(vc.variableName),color:"#00f"},{tag:vc.local(vc.variableName),color:"#30a"},{tag:[vc.typeName,vc.namespace],color:"#085"},{tag:vc.className,color:"#167"},{tag:[vc.special(vc.variableName),vc.macroName],color:"#256"},{tag:vc.definition(vc.propertyName),color:"#00c"},{tag:vc.comment,color:"#940"},{tag:vc.invalid,color:"#f00"}]),yf=Ms.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),bf=1e4,xf="()[]{}",wf=bn.define({combine:function(e){return sr(e,{afterCursor:!0,brackets:xf,maxScanDistance:bf,renderMatch:Sf})}}),kf=Wi.mark({class:"cm-matchingBracket"}),jf=Wi.mark({class:"cm-nonmatchingBracket"});function Sf(e){var t=[],n=e.matched?kf:jf;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}var Cf=Cn.define({create:function(){return Wi.none},update:function(e,t){if(!t.docChanged&&!t.selection)return e;var n,r=[],i=t.state.facet(wf),a=E(t.state.selection.ranges);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.empty){var s=Mf(t.state,o.head,-1,i)||o.head>0&&Mf(t.state,o.head-1,1,i)||i.afterCursor&&(Mf(t.state,o.head,1,i)||o.head<t.state.doc.length&&Mf(t.state,o.head+1,-1,i));s&&(r=r.concat(i.renderMatch(s,t.state)))}}}catch(l){a.e(l)}finally{a.f()}return Wi.set(r,!0)},provide:function(e){return Ms.decorations.from(e)}}),Ef=[Cf,yf];function Tf(e,t,n){var r=e.prop(t<0?bu.openedBy:bu.closedBy);if(r)return r;if(1==e.name.length){var i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function Mf(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.maxScanDistance||bf,a=r.brackets||xf,o=xc(e),s=o.resolveInner(t,n),l=s;l;l=l.parent){var u=Tf(l.type,n,a);if(u&&l.from<l.to)return _f(e,t,n,l,u,a)}return Nf(e,t,n,o,s.type,i,a)}function _f(e,t,n,r,i,a){var o=r.parent,s={from:r.from,to:r.to},l=0,u=null===o||void 0===o?void 0:o.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==l&&i.indexOf(u.type.name)>-1&&u.from<u.to)return{start:s,end:{from:u.from,to:u.to},matched:!0};if(Tf(u.type,n,a))l++;else if(Tf(u.type,-n,a)){if(0==l)return{start:s,end:u.from==u.to?void 0:{from:u.from,to:u.to},matched:!1};l--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:s,matched:!1}}function Nf(e,t,n,r,i,a,o){var s=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=o.indexOf(s);if(l<0||l%2==0!=n>0)return null;for(var u={from:n<0?t-1:t,to:n>0?t+1:t},c=e.doc.iterRange(t,n>0?e.doc.length:0),f=0,h=0;!c.next().done&&h<=a;){var d=c.value;n<0&&(h+=d.length);for(var p=t+h*n,m=n>0?0:d.length-1,v=n>0?d.length:-1;m!=v;m+=n){var g=o.indexOf(d[m]);if(!(g<0||r.resolveInner(p+m,1).type!=i))if(g%2==0==n>0)f++;else{if(1==f)return{start:u,end:{from:p+m,to:p+m+1},matched:g>>1==l>>1};f--}}n>0&&(h+=d.length)}return c.done?{start:u,matched:!1}:null}for(var Af=Object.create(null),Of=[wu.none],Df=[],Pf=Object.create(null),Rf=0,Lf=[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]];Rf<Lf.length;Rf++){var If=u(Lf[Rf],2),zf=If[0],Bf=If[1];Pf[zf]=Wf(Af,Bf)}function Ff(e,t){Df.indexOf(e)>-1||(Df.push(e),console.warn(t))}function Wf(e,t){var n,r=null,i=E(t.split("."));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=e[a]||vc[a];o?"function"==typeof o?r?r=o(r):Ff(a,"Modifier ".concat(a," used at start of tag")):r?Ff(a,"Tag ".concat(a," used as modifier")):r=o:Ff(a,"Unknown highlighting tag ".concat(a))}}catch(u){i.e(u)}finally{i.f()}if(!r)return 0;var s=t.replace(/ /g,"_"),l=wu.define({id:Of.length,name:s,props:[Gu(vu({},s,r))]});return Of.push(l),l.id}function Vf(e,t){return function(n){var r=n.state,i=n.dispatch;if(r.readOnly)return!1;var a=e(t,r);return!!a&&(i(r.update(a)),!0)}}var Hf=Vf(Jf,0),qf=Vf(Gf,0),Uf=Vf((function(e,t){return Gf(e,t,function(e){var t,n=[],r=E(e.selection.ranges);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=e.doc.lineAt(i.from),o=i.to<=a.to?a:e.doc.lineAt(i.to),s=n.length-1;s>=0&&n[s].to>a.from?n[s].to=o.to:n.push({from:a.from,to:o.to})}}catch(l){r.e(l)}finally{r.f()}return n}(t))}),0);function $f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selection.main.head,n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}function Kf(e,t,n,r){var i,a,o=t.open,s=t.close,l=e.sliceDoc(n-50,n),u=e.sliceDoc(r,r+50),c=/\s*$/.exec(l)[0].length,f=/^\s*/.exec(u)[0].length,h=l.length-c;if(l.slice(h-o.length,h)==o&&u.slice(f,f+s.length)==s)return{open:{pos:n-c,margin:c&&1},close:{pos:r+f,margin:f&&1}};r-n<=100?i=a=e.sliceDoc(n,r):(i=e.sliceDoc(n,n+50),a=e.sliceDoc(r-50,r));var d=/^\s*/.exec(i)[0].length,p=/\s*$/.exec(a)[0].length,m=a.length-p-s.length;return i.slice(d,d+o.length)==o&&a.slice(m,m+s.length)==s?{open:{pos:n+d+o.length,margin:/\s/.test(i.charAt(d+o.length))?1:0},close:{pos:r-p-s.length,margin:/\s/.test(a.charAt(m-1))?1:0}}:null}function Gf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,r=n.map((function(e){return $f(t,e.from).block}));if(!r.every((function(e){return e})))return null;var i=n.map((function(e,n){return Kf(t,r[n],e.from,e.to)}));if(2!=e&&!i.every((function(e){return e})))return{changes:t.changes(n.map((function(e,t){return i[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}]})))};if(1!=e&&i.some((function(e){return e}))){for(var a,o=[],s=0;s<i.length;s++)if(a=i[s]){var l=r[s],u=a,c=u.open,f=u.close;o.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:f.pos-f.margin,to:f.pos+l.close.length})}return{changes:o}}return null}function Jf(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,i=[],a=-1,o=E(r);try{for(o.s();!(n=o.n()).done;){for(var s=n.value,l=s.from,u=s.to,c=i.length,f=1e9,h=l;h<=u;){var d=t.doc.lineAt(h);if(d.from>a&&(l==u||u>d.from)){a=d.from;var p=$f(t,h).line;if(!p)continue;var m=/^\s*/.exec(d.text)[0].length,v=m==d.length,g=d.text.slice(m,m+p.length)==p?m:-1;m<d.text.length&&m<f&&(f=m),i.push({line:d,comment:g,token:p,indent:m,empty:v,single:!1})}h=d.to+1}if(f<1e9)for(var y=c;y<i.length;y++)i[y].indent<i[y].line.text.length&&(i[y].indent=f);i.length==c+1&&(i[c].single=!0)}}catch(B){o.e(B)}finally{o.f()}if(2!=e&&i.some((function(e){return e.comment<0&&(!e.empty||e.single)}))){var b,x=[],w=E(i);try{for(w.s();!(b=w.n()).done;){var k=b.value,j=k.line,S=k.token,C=k.indent,T=k.empty,M=k.single;!M&&T||x.push({from:j.from+C,insert:S+" "})}}catch(B){w.e(B)}finally{w.f()}var _=t.changes(x);return{changes:_,selection:t.selection.map(_,1)}}if(1!=e&&i.some((function(e){return e.comment>=0}))){var N,A=[],O=E(i);try{for(O.s();!(N=O.n()).done;){var D=N.value,P=D.line,R=D.comment,L=D.token;if(R>=0){var I=P.from+R,z=I+L.length;" "==P.text[z-P.from]&&z++,A.push({from:I,to:z})}}}catch(B){O.e(B)}finally{O.f()}return{changes:A}}return null}var Qf=Un.define(),Yf=Un.define(),Xf=bn.define(),Zf=bn.define({combine:function(e){return sr(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});var eh=Cn.define({create:function(){return mh.empty},update:function(e,t){var n=t.state.facet(Zf),r=t.annotation(Qf);if(r){var i=t.docChanged?vn.single(function(e){var t=0;return e.iterChangedRanges((function(e,n){return t=n})),t}(t.changes)):void 0,a=oh.fromTransaction(t,i),o=r.side,s=0==o?e.undone:e.done;return s=a?sh(s,s.length,n.minDepth,a):ch(s,t.startState.selection),new mh(0==o?r.rest:s,0==o?s:r.rest)}var l=t.annotation(Yf);if("full"!=l&&"before"!=l||(e=e.isolate()),!1===t.annotation(Jn.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);var u=oh.fromTransaction(t),c=t.annotation(Jn.time),f=t.annotation(Jn.userEvent);return u?e=e.addChanges(u,c,f,n.newGroupDelay,n.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,c,f,n.newGroupDelay)),"full"!=l&&"after"!=l||(e=e.isolate()),e},toJSON:function(e){return{done:e.done.map((function(e){return e.toJSON()})),undone:e.undone.map((function(e){return e.toJSON()}))}},fromJSON:function(e){return new mh(e.done.map(oh.fromJSON),e.undone.map(oh.fromJSON))}});function th(e,t){return function(n){var r=n.state,i=n.dispatch;if(!t&&r.readOnly)return!1;var a=r.field(eh,!1);if(!a)return!1;var o=a.pop(e,r,t);return!!o&&(i(o),!0)}}var nh=th(0,!1),rh=th(1,!1),ih=th(0,!0),ah=th(1,!0);var oh=function(){function e(t,n,r,i,a){h(this,e),this.changes=t,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=a}return v(e,[{key:"setSelAfter",value:function(t){return new e(this.changes,this.effects,this.mapped,this.startSelection,t)}},{key:"toJSON",value:function(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((function(e){return e.toJSON()}))}}}],[{key:"fromJSON",value:function(t){return new e(t.changes&&ln.fromJSON(t.changes),[],t.mapped&&sn.fromJSON(t.mapped),t.startSelection&&vn.fromJSON(t.startSelection),t.selectionsAfter.map(vn.fromJSON))}},{key:"fromTransaction",value:function(t,n){var r,i=uh,a=E(t.startState.facet(Xf));try{for(a.s();!(r=a.n()).done;){var o=(0,r.value)(t);o.length&&(i=i.concat(o))}}catch(s){a.e(s)}finally{a.f()}return!i.length&&t.changes.empty?null:new e(t.changes.invert(t.startState.doc),i,void 0,n||t.startState.selection,uh)}},{key:"selection",value:function(t){return new e(void 0,uh,void 0,void 0,t)}}]),e}();function sh(e,t,n,r){var i=t+1>n+20?t-n-1:0,a=e.slice(i,t);return a.push(r),a}function lh(e,t){return e.length?t.length?e.concat(t):e:t}var uh=[];function ch(e,t){if(e.length){var n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),sh(e,e.length-1,1e9,n.setSelAfter(r)))}return[oh.selection([t])]}function fh(e){var t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function hh(e,t){if(!e.length)return e;for(var n=e.length,r=uh;n;){var i=dh(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){var a=e.slice(0,n);return a[n-1]=i,a}t=i.mapped,n--,r=i.selectionsAfter}return r.length?[oh.selection(r)]:uh}function dh(e,t,n){var r=lh(e.selectionsAfter.length?e.selectionsAfter.map((function(e){return e.map(t)})):uh,n);if(!e.changes)return oh.selection(r);var i=e.changes.map(t),a=t.mapDesc(e.changes,!0),o=e.mapped?e.mapped.composeDesc(a):a;return new oh(i,Gn.mapEffects(e.effects,t),o,e.startSelection.map(a),r)}var ph=/^(input\.type|delete)($|\.)/,mh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;h(this,e),this.done=t,this.undone=n,this.prevTime=r,this.prevUserEvent=i}return v(e,[{key:"isolate",value:function(){return this.prevTime?new e(this.done,this.undone):this}},{key:"addChanges",value:function(t,n,r,i,a){var o=this.done,s=o[o.length-1];return o=s&&s.changes&&!s.changes.empty&&t.changes&&(!r||ph.test(r))&&(!s.selectionsAfter.length&&n-this.prevTime<i&&function(e,t){var n=[],r=!1;return e.iterChangedRanges((function(e,t){return n.push(e,t)})),t.iterChangedRanges((function(e,t,i,a){for(var o=0;o<n.length;){var s=n[o++],l=n[o++];a>=s&&i<=l&&(r=!0)}})),r}(s.changes,t.changes)||"input.type.compose"==r)?sh(o,o.length-1,a,new oh(t.changes.compose(s.changes),lh(t.effects,s.effects),s.mapped,s.startSelection,uh)):sh(o,o.length,a,t),new e(o,uh,n,r)}},{key:"addSelection",value:function(t,n,r,i){var a,o,s=this.done.length?this.done[this.done.length-1].selectionsAfter:uh;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&(a=s[s.length-1],o=t,a.ranges.length==o.ranges.length&&0===a.ranges.filter((function(e,t){return e.empty!=o.ranges[t].empty})).length)?this:new e(ch(this.done,t),this.undone,n,r)}},{key:"addMapping",value:function(t){return new e(hh(this.done,t),hh(this.undone,t),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(e,t,n){var r=0==e?this.done:this.undone;if(0==r.length)return null;var i=r[r.length-1];if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Qf.of({side:e,rest:fh(r)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){var a=1==r.length?uh:r.slice(0,r.length-1);return i.mapped&&(a=hh(a,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Qf.of({side:e,rest:a}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}]),e}();mh.empty=new mh(uh,uh);var vh=[{key:"Mod-z",run:nh,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:rh,preventDefault:!0},{linux:"Ctrl-Shift-z",run:rh,preventDefault:!0},{key:"Mod-u",run:ih,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:ah,preventDefault:!0}];function gh(e,t){return vn.create(e.ranges.map(t),e.mainIndex)}function yh(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function bh(e,t){var n=e.state,r=e.dispatch,i=gh(n.selection,t);return!i.eq(n.selection)&&(r(yh(n,i)),!0)}function xh(e,t){return vn.cursor(t?e.to:e.from)}function wh(e,t){return bh(e,(function(n){return n.empty?e.moveByChar(n,t):xh(n,t)}))}function kh(e){return e.textDirectionAt(e.state.selection.main.head)==ka.LTR}var jh=function(e){return wh(e,!kh(e))},Sh=function(e){return wh(e,kh(e))};function Ch(e,t){return bh(e,(function(n){return n.empty?e.moveByGroup(n,t):xh(n,t)}))}function Eh(e,t,n){if(t.type.prop(n))return!0;var r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Th(e,t,n){for(var r=xc(e).resolveInner(t.head),i=n?bu.closedBy:bu.openedBy,a=t.head;;){var o=n?r.childAfter(a):r.childBefore(a);if(!o)break;Eh(e,o,i)?r=o:a=n?o.to:o.from}var s,l;return l=r.type.prop(i)&&(s=n?Mf(e,r.from,1):Mf(e,r.to,-1))&&s.matched?n?s.end.to:s.end.from:n?r.to:r.from,vn.cursor(l,n?-1:1)}function Mh(e,t){return bh(e,(function(n){if(!n.empty)return xh(n,t);var r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}var _h=function(e){return Mh(e,!1)},Nh=function(e){return Mh(e,!0)};function Ah(e){return Math.max(e.defaultLineHeight,Math.min(e.dom.clientHeight,innerHeight)-5)}function Oh(e,t){var n=e.state,r=gh(n.selection,(function(n){return n.empty?e.moveVertically(n,t,Ah(e)):xh(n,t)}));if(r.eq(n.selection))return!1;var i,a=e.coordsAtPos(n.selection.main.head),o=e.scrollDOM.getBoundingClientRect();return a&&a.top>o.top&&a.bottom<o.bottom&&a.top-o.top<=e.scrollDOM.scrollHeight-e.scrollDOM.scrollTop-e.scrollDOM.clientHeight&&(i=Ms.scrollIntoView(r.main.head,{y:"start",yMargin:a.top-o.top})),e.dispatch(yh(n,r),{effects:i}),!0}var Dh=function(e){return Oh(e,!1)},Ph=function(e){return Oh(e,!0)};function Rh(e,t,n){var r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){var a=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;a&&t.head!=r.from+a&&(i=vn.cursor(r.from+a))}return i}function Lh(e,t,n){var r=!1,i=gh(e.selection,(function(t){var i=Mf(e,t.head,-1)||Mf(e,t.head,1)||t.head>0&&Mf(e,t.head-1,1)||t.head<e.doc.length&&Mf(e,t.head+1,-1);if(!i||!i.end)return t;r=!0;var a=i.start.from==t.head?i.end.to:i.end.from;return n?vn.range(t.anchor,a):vn.cursor(a)}));return!!r&&(t(yh(e,i)),!0)}function Ih(e,t){var n=gh(e.state.selection,(function(e){var n=t(e);return vn.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(e.state.selection)&&(e.dispatch(yh(e.state,n)),!0)}function zh(e,t){return Ih(e,(function(n){return e.moveByChar(n,t)}))}var Bh=function(e){return zh(e,!kh(e))},Fh=function(e){return zh(e,kh(e))};function Wh(e,t){return Ih(e,(function(n){return e.moveByGroup(n,t)}))}function Vh(e,t){return Ih(e,(function(n){return e.moveVertically(n,t)}))}var Hh=function(e){return Vh(e,!1)},qh=function(e){return Vh(e,!0)};function Uh(e,t){return Ih(e,(function(n){return e.moveVertically(n,t,Ah(e))}))}var $h=function(e){return Uh(e,!1)},Kh=function(e){return Uh(e,!0)},Gh=function(e){var t=e.state;return(0,e.dispatch)(yh(t,{anchor:0})),!0},Jh=function(e){var t=e.state;return(0,e.dispatch)(yh(t,{anchor:t.doc.length})),!0},Qh=function(e){var t=e.state;return(0,e.dispatch)(yh(t,{anchor:t.selection.main.anchor,head:0})),!0},Yh=function(e){var t=e.state;return(0,e.dispatch)(yh(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0};function Xh(e,t){if(e.state.readOnly)return!1;var n="delete.selection",r=e.state,i=r.changeByRange((function(r){var i=r.from,a=r.to;if(i==a){var o=t(i);o<i?(n="delete.backward",o=Zh(e,o,!1)):o>i&&(n="delete.forward",o=Zh(e,o,!0)),i=Math.min(i,o),a=Math.max(a,o)}else i=Zh(e,i,!1),a=Zh(e,a,!0);return i==a?{range:r}:{changes:{from:i,to:a},range:vn.cursor(i)}}));return!i.changes.empty&&(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?Ms.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Zh(e,t,n){if(e instanceof Ms){var r,i=E(e.state.facet(Ms.atomicRanges).map((function(t){return t(e)})));try{for(i.s();!(r=i.n()).done;){r.value.between(t,t,(function(e,r){e<t&&r>t&&(t=n?r:e)}))}}catch(a){i.e(a)}finally{i.f()}}return t}var ed=function(e,t){return Xh(e,(function(n){var r,i,a=e.state,o=a.doc.lineAt(n);if(!t&&n>o.from&&n<o.from+200&&!/[^ \t]/.test(r=o.text.slice(0,n-o.from))){if("\t"==r[r.length-1])return n-1;for(var s=Cr(r,a.tabSize)%Oc(a)||Oc(a),l=0;l<s&&" "==r[r.length-1-l];l++)n--;i=n}else(i=Qt(o.text,n-o.from,t,t)+o.from)==n&&o.number!=(t?a.doc.lines:1)&&(i+=t?1:-1);return i}))},td=function(e){return ed(e,!1)},nd=function(e){return ed(e,!0)},rd=function(e,t){return Xh(e,(function(n){for(var r=n,i=e.state,a=i.doc.lineAt(r),o=i.charCategorizer(r),s=null;;){if(r==(t?a.to:a.from)){r==n&&a.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}var l=Qt(a.text,r-a.from,t)+a.from,u=a.text.slice(Math.min(r,l)-a.from,Math.max(r,l)-a.from),c=o(u);if(null!=s&&c!=s)break;" "==u&&r==n||(s=c),r=l}return r}))},id=function(e){return rd(e,!1)},ad=function(e){return Xh(e,(function(t){var n=e.lineBlockAt(t).to;return t<n?n:Math.min(e.state.doc.length,t+1)}))};function od(e){var t,n=[],r=-1,i=E(e.selection.ranges);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=e.doc.lineAt(a.from),s=e.doc.lineAt(a.to);if(a.empty||a.to!=s.from||(s=e.doc.lineAt(a.to-1)),r>=o.number){var l=n[n.length-1];l.to=s.to,l.ranges.push(a)}else n.push({from:o.from,to:s.to,ranges:[a]});r=s.number+1}}catch(u){i.e(u)}finally{i.f()}return n}function sd(e,t,n){if(e.readOnly)return!1;var r,i=[],a=[],o=E(od(e));try{for(o.s();!(r=o.n()).done;){var s=r.value;if(n?s.to!=e.doc.length:0!=s.from){var l=e.doc.lineAt(n?s.to+1:s.from-1),u=l.length+1;if(n){i.push({from:s.to,to:l.to},{from:s.from,insert:l.text+e.lineBreak});var c,f=E(s.ranges);try{for(f.s();!(c=f.n()).done;){var h=c.value;a.push(vn.range(Math.min(e.doc.length,h.anchor+u),Math.min(e.doc.length,h.head+u)))}}catch(v){f.e(v)}finally{f.f()}}else{i.push({from:l.from,to:s.from},{from:s.to,insert:e.lineBreak+l.text});var d,p=E(s.ranges);try{for(p.s();!(d=p.n()).done;){var m=d.value;a.push(vn.range(m.anchor-u,m.head-u))}}catch(v){p.e(v)}finally{p.f()}}}}}catch(v){o.e(v)}finally{o.f()}return!!i.length&&(t(e.update({changes:i,scrollIntoView:!0,selection:vn.create(a,e.selection.mainIndex),userEvent:"move.line"})),!0)}function ld(e,t,n){if(e.readOnly)return!1;var r,i=[],a=E(od(e));try{for(a.s();!(r=a.n()).done;){var o=r.value;n?i.push({from:o.from,insert:e.doc.slice(o.from,o.to)+e.lineBreak}):i.push({from:o.to,insert:e.lineBreak+e.doc.slice(o.from,o.to)})}}catch(s){a.e(s)}finally{a.f()}return t(e.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var ud=cd(!1);function cd(e){return function(t){var n=t.state,r=t.dispatch;if(n.readOnly)return!1;var i=n.changeByRange((function(t){var r=t.from,i=t.to,a=n.doc.lineAt(r),o=!e&&r==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};var n,r=xc(e).resolveInner(t),i=r.childBefore(t),a=r.childAfter(t);return i&&a&&i.to<=t&&a.from>=t&&(n=i.type.prop(bu.closedBy))&&n.indexOf(a.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(a.from).from?{from:i.to,to:a.from}:null}(n,r);e&&(r=i=(i<=a.to?a:n.doc.lineAt(i)).to);var s=new Rc(n,{simulateBreak:r,simulateDoubleBreak:!!o}),l=Pc(s,r);for(null==l&&(l=/^\s*/.exec(n.doc.lineAt(r).text)[0].length);i<a.to&&/\s/.test(a.text[i-a.from]);)i++;o?(r=o.from,i=o.to):r>a.from&&r<a.from+100&&!/\S/.test(a.text.slice(0,r))&&(r=a.from);var u=["",Dc(n,l)];return o&&u.push(Dc(n,s.lineIndent(a.from,-1))),{changes:{from:r,to:i,insert:Lt.of(u)},range:vn.cursor(r+1+u[1].length)}}));return r(n.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function fd(e,t){var n=-1;return e.changeByRange((function(r){for(var i=[],a=r.from;a<=r.to;){var o=e.doc.lineAt(a);o.number>n&&(r.empty||r.to>o.from)&&(t(o,i,r),n=o.number),a=o.to+1}var s=e.changes(i);return{changes:i,range:vn.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}}))}var hd=function(e){var t=e.state,n=e.dispatch;return!t.readOnly&&(n(t.update(fd(t,(function(e,n){n.push({from:e.from,insert:t.facet(Ac)})})),{userEvent:"input.indent"})),!0)},dd=function(e){var t=e.state,n=e.dispatch;return!t.readOnly&&(n(t.update(fd(t,(function(e,n){var r=/^\s*/.exec(e.text)[0];if(r){for(var i=Cr(r,t.tabSize),a=0,o=Dc(t,Math.max(0,i-Oc(t)));a<r.length&&a<o.length&&r.charCodeAt(a)==o.charCodeAt(a);)a++;n.push({from:e.from+a,to:e.from+r.length,insert:o.slice(a)})}})),{userEvent:"delete.dedent"})),!0)},pd=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:function(e){return bh(e,(function(t){return Th(e.state,t,!kh(e))}))},shift:function(e){return Ih(e,(function(t){return Th(e.state,t,!kh(e))}))}},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:function(e){return bh(e,(function(t){return Th(e.state,t,kh(e))}))},shift:function(e){return Ih(e,(function(t){return Th(e.state,t,kh(e))}))}},{key:"Alt-ArrowUp",run:function(e){return sd(e.state,e.dispatch,!1)}},{key:"Shift-Alt-ArrowUp",run:function(e){return ld(e.state,e.dispatch,!1)}},{key:"Alt-ArrowDown",run:function(e){return sd(e.state,e.dispatch,!0)}},{key:"Shift-Alt-ArrowDown",run:function(e){return ld(e.state,e.dispatch,!0)}},{key:"Escape",run:function(e){var t=e.state,n=e.dispatch,r=t.selection,i=null;return r.ranges.length>1?i=vn.create([r.main]):r.main.empty||(i=vn.create([vn.cursor(r.main.head)])),!!i&&(n(yh(t,i)),!0)}},{key:"Mod-Enter",run:cd(!0)},{key:"Alt-l",mac:"Ctrl-l",run:function(e){var t=e.state,n=e.dispatch,r=od(t).map((function(e){var n=e.from,r=e.to;return vn.range(n,Math.min(r+1,t.doc.length))}));return n(t.update({selection:vn.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:function(e){var t=e.state,n=e.dispatch,r=gh(t.selection,(function(e){for(var n,r=xc(t).resolveInner(e.head,1);!(r.from<e.from&&r.to>=e.to||r.to>e.to&&r.from<=e.from)&&(null===(n=r.parent)||void 0===n?void 0:n.parent);)r=r.parent;return vn.range(r.to,r.from)}));return n(yh(t,r)),!0},preventDefault:!0},{key:"Mod-[",run:dd},{key:"Mod-]",run:hd},{key:"Mod-Alt-\\",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=Object.create(null),i=new Rc(t,{overrideIndentation:function(e){var t=r[e];return null==t?-1:t}}),a=fd(t,(function(e,n,a){var o=Pc(i,e.from);if(null!=o){/\S/.test(e.text)||(o=0);var s=/^\s*/.exec(e.text)[0],l=Dc(t,o);(s!=l||a.from<e.from+s.length)&&(r[e.from]=o,n.push({from:e.from,to:e.from+s.length,insert:l}))}}));return a.changes.empty||n(t.update(a,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:function(e){if(e.state.readOnly)return!1;var t=e.state,n=t.changes(od(t).map((function(e){var n=e.from,r=e.to;return n>0?n--:r<t.doc.length&&r++,{from:n,to:r}}))),r=gh(t.selection,(function(t){return e.moveVertically(t,!0)})).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:function(e){return Lh(e.state,e.dispatch,!1)}},{key:"Mod-/",run:function(e){var t=$f(e.state);return t.line?Hf(e):!!t.block&&Uf(e)}},{key:"Alt-A",run:qf}].concat([{key:"ArrowLeft",run:jh,shift:Bh,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:function(e){return Ch(e,!kh(e))},shift:function(e){return Wh(e,!kh(e))},preventDefault:!0},{mac:"Cmd-ArrowLeft",run:function(e){return bh(e,(function(t){return Rh(e,t,!kh(e))}))},shift:function(e){return Ih(e,(function(t){return Rh(e,t,!kh(e))}))},preventDefault:!0},{key:"ArrowRight",run:Sh,shift:Fh,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:function(e){return Ch(e,kh(e))},shift:function(e){return Wh(e,kh(e))},preventDefault:!0},{mac:"Cmd-ArrowRight",run:function(e){return bh(e,(function(t){return Rh(e,t,kh(e))}))},shift:function(e){return Ih(e,(function(t){return Rh(e,t,kh(e))}))},preventDefault:!0},{key:"ArrowUp",run:_h,shift:Hh,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Gh,shift:Qh},{mac:"Ctrl-ArrowUp",run:Dh,shift:$h},{key:"ArrowDown",run:Nh,shift:qh,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Jh,shift:Yh},{mac:"Ctrl-ArrowDown",run:Ph,shift:Kh},{key:"PageUp",run:Dh,shift:$h},{key:"PageDown",run:Ph,shift:Kh},{key:"Home",run:function(e){return bh(e,(function(t){return Rh(e,t,!1)}))},shift:function(e){return Ih(e,(function(t){return Rh(e,t,!1)}))},preventDefault:!0},{key:"Mod-Home",run:Gh,shift:Qh},{key:"End",run:function(e){return bh(e,(function(t){return Rh(e,t,!0)}))},shift:function(e){return Ih(e,(function(t){return Rh(e,t,!0)}))},preventDefault:!0},{key:"Mod-End",run:Jh,shift:Yh},{key:"Enter",run:ud},{key:"Mod-a",run:function(e){var t=e.state;return(0,e.dispatch)(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:td,shift:td},{key:"Delete",run:nd},{key:"Mod-Backspace",mac:"Alt-Backspace",run:id},{key:"Mod-Delete",mac:"Alt-Delete",run:function(e){return rd(e,!0)}},{mac:"Mod-Backspace",run:function(e){return Xh(e,(function(t){var n=e.lineBlockAt(t).from;return t>n?n:Math.max(0,t-1)}))}},{mac:"Mod-Delete",run:ad}].concat([{key:"Ctrl-b",run:jh,shift:Bh,preventDefault:!0},{key:"Ctrl-f",run:Sh,shift:Fh},{key:"Ctrl-p",run:_h,shift:Hh},{key:"Ctrl-n",run:Nh,shift:qh},{key:"Ctrl-a",run:function(e){return bh(e,(function(t){return vn.cursor(e.lineBlockAt(t.head).from,1)}))},shift:function(e){return Ih(e,(function(t){return vn.cursor(e.lineBlockAt(t.head).from)}))}},{key:"Ctrl-e",run:function(e){return bh(e,(function(t){return vn.cursor(e.lineBlockAt(t.head).to,-1)}))},shift:function(e){return Ih(e,(function(t){return vn.cursor(e.lineBlockAt(t.head).to)}))}},{key:"Ctrl-d",run:nd},{key:"Ctrl-h",run:td},{key:"Ctrl-k",run:ad},{key:"Ctrl-Alt-h",run:id},{key:"Ctrl-o",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=t.changeByRange((function(e){return{changes:{from:e.from,to:e.to,insert:Lt.of(["",""])},range:vn.cursor(e.from)}}));return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=t.changeByRange((function(e){if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};var n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:Qt(r.text,n-r.from,!1)+r.from,a=n==r.to?n+1:Qt(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:a,insert:t.doc.slice(n,a).append(t.doc.slice(i,n))},range:vn.cursor(a)}}));return!r.changes.empty&&(n(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Ph}].map((function(e){return{mac:e.key,run:e.run,shift:e.shift}})))),md={key:"Tab",run:hd,shift:dd};function vd(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?e.setAttribute(r,i):null!=i&&(e[r]=i)}t++}for(;t<arguments.length;t++)gd(e,arguments[t]);return e}function gd(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)gd(e,t[n])}}var yd="function"==typeof String.prototype.normalize?function(e){return e.normalize("NFKD")}:function(e){return e},bd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;h(this,e),this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=a?function(e){return a(yd(e))}:yd,this.query=this.normalize(n)}return v(e,[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return tn(this.buffer,this.bufferPos)}},{key:"next",value:function(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var e=this.peek();if(e<0)return this.done=!0,this;var t=nn(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=rn(e);for(var r=this.normalize(t),i=0,a=n;;i++){var o=r.charCodeAt(i),s=this.match(o,a);if(s)return this.value=s,this;if(i==r.length-1)break;a==n&&i<t.length&&t.charCodeAt(i)==o&&a++}}}},{key:"match",value:function(e,t){for(var n=null,r=0;r<this.matches.length;r+=2){var i=this.matches[r],a=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?n={from:this.matches[r+1],to:t+1}:(this.matches[r]++,a=!0)),a||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:t+1}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferPos)&&(n=null),n}}]),e}();"undefined"!=typeof Symbol&&(bd.prototype[Symbol.iterator]=function(){return this});var xd={from:-1,to:-1,match:/.*/.exec("")},wd="gm"+(null==/x/.unicode?"":"u"),kd=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if(h(this,e),this.text=t,this.to=a,this.curLine="",this.done=!1,this.value=xd,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new Cd(t,n,r,i,a);this.re=new RegExp(n,wd+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.test=null===r||void 0===r?void 0:r.test,this.iter=t.iter();var o=t.lineAt(i);this.curLineStart=o.from,this.matchPos=Ed(t,i),this.getLine(this.curLineStart)}return v(e,[{key:"getLine",value:function(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}},{key:"next",value:function(){for(var e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){var n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=Ed(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}]),e}(),jd=new WeakMap,Sd=function(){function e(t,n){h(this,e),this.from=t,this.text=n}return v(e,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(t,n,r){var i=jd.get(t);if(!i||i.from>=r||i.to<=n){var a=new e(n,t.sliceString(n,r));return jd.set(t,a),a}if(i.from==n&&i.to==r)return i;var o=i.text,s=i.from;return s>n&&(o=t.sliceString(n,s)+o,s=n),i.to<r&&(o+=t.sliceString(i.to,r)),jd.set(t,new e(s,o)),new e(n,o.slice(n-s,r-s))}}]),e}(),Cd=function(){function e(t,n,r,i,a){h(this,e),this.text=t,this.to=a,this.done=!1,this.value=xd,this.matchPos=Ed(t,i),this.re=new RegExp(n,wd+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.test=null===r||void 0===r?void 0:r.test,this.flat=Sd.get(t,i,this.chunkEnd(i+5e3))}return v(e,[{key:"chunkEnd",value:function(e){return e>=this.to?this.to:this.text.lineAt(e).to}},{key:"next",value:function(){for(;;){var e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){var n=this.flat.from+t.index,r=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this.matchPos=Ed(this.text,r+(n==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Sd.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}]),e}();function Ed(e,t){if(t>=e.length)return t;for(var n,r=e.lineAt(t);t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t}function Td(e){var t=vd("input",{class:"cm-textfield",name:"line"});function n(){var n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(n){var r=e.state,i=r.doc.lineAt(r.selection.main.head),a=u(n,5),o=a[1],s=a[2],l=a[3],c=a[4],f=l?+l.slice(1):0,h=s?+s:i.number;if(s&&c){var d=h/100;o&&(d=d*("-"==o?-1:1)+i.number/r.doc.lines),h=Math.round(r.doc.lines*d)}else s&&o&&(h=h*("-"==o?-1:1)+i.number);var p=r.doc.line(Math.max(1,Math.min(r.doc.lines,h)));e.dispatch({effects:Md.of(!1),selection:vn.cursor(p.from+Math.max(0,Math.min(f,p.length))),scrollIntoView:!0}),e.focus()}}return{dom:vd("form",{class:"cm-gotoLine",onkeydown:function(t){27==t.keyCode?(t.preventDefault(),e.dispatch({effects:Md.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:function(e){e.preventDefault(),n()}},vd("label",e.state.phrase("Go to line"),": ",t)," ",vd("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(kd.prototype[Symbol.iterator]=Cd.prototype[Symbol.iterator]=function(){return this});var Md=Gn.define(),_d=Cn.define({create:function(){return!0},update:function(e,t){var n,r=E(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(Md)&&(e=i.value)}}catch(a){r.e(a)}finally{r.f()}return e},provide:function(e){return Gl.from(e,(function(e){return e?Td:null}))}}),Nd=Ms.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Ad={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Od=bn.define({combine:function(e){return sr(e,Ad,{highlightWordAroundCursor:function(e,t){return e||t},minSelectionLength:Math.min,maxMatches:Math.min})}});var Dd=Wi.mark({class:"cm-selectionMatch"}),Pd=Wi.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Rd(e,t,n,r){return(0==n||e(t.sliceDoc(n-1,n))!=rr.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=rr.Word)}var Ld=ha.fromClass(function(){function e(t){h(this,e),this.decorations=this.getDeco(t)}return v(e,[{key:"update",value:function(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t=e.state.facet(Od),n=e.state,r=n.selection;if(r.ranges.length>1)return Wi.none;var i,a=r.main,o=null;if(a.empty){if(!t.highlightWordAroundCursor)return Wi.none;var s=n.wordAt(a.head);if(!s)return Wi.none;o=n.charCategorizer(a.head),i=n.sliceDoc(s.from,s.to)}else{var l=a.to-a.from;if(l<t.minSelectionLength||l>200)return Wi.none;if(t.wholeWords){if(i=n.sliceDoc(a.from,a.to),!Rd(o=n.charCategorizer(a.head),n,a.from,a.to)||!function(e,t,n,r){return e(t.sliceDoc(n,n+1))==rr.Word&&e(t.sliceDoc(r-1,r))==rr.Word}(o,n,a.from,a.to))return Wi.none}else if(!(i=n.sliceDoc(a.from,a.to).trim()))return Wi.none}var u,c=[],f=E(e.visibleRanges);try{for(f.s();!(u=f.n()).done;)for(var h=u.value,d=new bd(n.doc,i,h.from,h.to);!d.next().done;){var p=d.value,m=p.from,v=p.to;if((!o||Rd(o,n,m,v))&&(a.empty&&m<=a.from&&v>=a.to?c.push(Pd.range(m,v)):(m>=a.to||v<=a.from)&&c.push(Dd.range(m,v)),c.length>t.maxMatches))return Wi.none}}catch(g){f.e(g)}finally{f.f()}return Wi.set(c)}}]),e}(),{decorations:function(e){return e.decorations}}),Id=Ms.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});var zd=bn.define({combine:function(e){return sr(e,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:function(e){return new fp(e)}})}});var Bd=function(){function e(t){h(this,e),this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,wd),!0}catch(ec){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}return v(e,[{key:"unquote",value:function(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"}))}},{key:"eq",value:function(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}},{key:"create",value:function(){return this.regexp?new $d(this):new Vd(this)}},{key:"getCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=e.doc?e:or.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?Hd(this,r,t,n):Wd(this,r,t,n)}}]),e}(),Fd=v((function e(t){h(this,e),this.spec=t}));function Wd(e,t,n,r){return new bd(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:function(e){return e.toLowerCase()},e.wholeWord?function(e,t){return function(n,r,i,a){return(a>n||a+i.length<r)&&(a=Math.max(0,n-2),i=e.sliceString(a,Math.min(e.length,r+2))),(t(qd(i,n-a))!=rr.Word||t(Ud(i,n-a))!=rr.Word)&&(t(Ud(i,r-a))!=rr.Word||t(qd(i,r-a))!=rr.Word)}}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}var Vd=function(e){y(n,e);var t=j(n);function n(e){return h(this,n),t.call(this,e)}return v(n,[{key:"nextMatch",value:function(e,t,n){var r=Wd(this.spec,e,n,e.doc.length).nextOverlapping();return r.done&&(r=Wd(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=n;;){for(var i=Math.max(t,r-1e4-this.spec.unquoted.length),a=Wd(this.spec,e,i,r),o=null;!a.nextOverlapping().done;)o=a.value;if(o)return o;if(i==t)return null;r-=1e4}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace)}},{key:"matchAll",value:function(e,t){for(var n=Wd(this.spec,e,0,e.doc.length),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=Wd(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));!i.next().done;)r(i.value.from,i.value.to)}}]),n}(Fd);function Hd(e,t,n,r){return new kd(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(i=t.charCategorizer(t.selection.main.head),function(e,t,n){return!n[0].length||(i(qd(n.input,n.index))!=rr.Word||i(Ud(n.input,n.index))!=rr.Word)&&(i(Ud(n.input,n.index+n[0].length))!=rr.Word||i(qd(n.input,n.index+n[0].length))!=rr.Word)}):void 0},n,r);var i}function qd(e,t){return e.slice(Qt(e,t,!1),t)}function Ud(e,t){return e.slice(t,Qt(e,t))}var $d=function(e){y(n,e);var t=j(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n,[{key:"nextMatch",value:function(e,t,n){var r=Hd(this.spec,e,n,e.doc.length).next();return r.done&&(r=Hd(this.spec,e,0,t).next()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=1;;r++){for(var i=Math.max(t,n-1e4*r),a=Hd(this.spec,e,i,n),o=null;!a.next().done;)o=a.value;if(o&&(i==t||o.from>i+10))return o;if(i==t)return null}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(function(t,n){return"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t})))}},{key:"matchAll",value:function(e,t){for(var n=Hd(this.spec,e,0,e.doc.length),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=Hd(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));!i.next().done;)r(i.value.from,i.value.to)}}]),n}(Fd),Kd=Gn.define(),Gd=Gn.define(),Jd=Cn.define({create:function(e){return new Qd(sp(e).create(),null)},update:function(e,t){var n,r=E(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(Kd)?e=new Qd(i.value.create(),e.panel):i.is(Gd)&&(e=new Qd(e.query,i.value?op:null))}}catch(a){r.e(a)}finally{r.f()}return e},provide:function(e){return Gl.from(e,(function(e){return e.panel}))}});var Qd=v((function e(t,n){h(this,e),this.query=t,this.panel=n})),Yd=Wi.mark({class:"cm-searchMatch"}),Xd=Wi.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Zd=ha.fromClass(function(){function e(t){h(this,e),this.view=t,this.decorations=this.highlight(t.state.field(Jd))}return v(e,[{key:"update",value:function(e){var t=e.state.field(Jd);(t!=e.startState.field(Jd)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}},{key:"highlight",value:function(e){var t=e.query;if(!e.panel||!t.spec.valid)return Wi.none;for(var n=this.view,r=new pr,i=0,a=n.visibleRanges,o=a.length;i<o;i++){for(var s=a[i],l=s.from,u=s.to;i<o-1&&u>a[i+1].from-500;)u=a[++i].to;t.highlight(n.state,l,u,(function(e,t){var i=n.state.selection.ranges.some((function(n){return n.from==e&&n.to==t}));r.add(e,t,i?Xd:Yd)}))}return r.finish()}}]),e}(),{decorations:function(e){return e.decorations}});function ep(e){return function(t){var n=t.state.field(Jd,!1);return n&&n.query.spec.valid?e(t,n):lp(t)}}var tp=ep((function(e,t){var n=t.query,r=e.state.selection.main.to,i=n.nextMatch(e.state,r,r);return!!i&&(e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:pp(e,i),userEvent:"select.search"}),!0)})),np=ep((function(e,t){var n=t.query,r=e.state,i=r.selection.main.from,a=n.prevMatch(r,i,i);return!!a&&(e.dispatch({selection:{anchor:a.from,head:a.to},scrollIntoView:!0,effects:pp(e,a),userEvent:"select.search"}),!0)})),rp=ep((function(e,t){var n=t.query.matchAll(e.state,1e3);return!(!n||!n.length)&&(e.dispatch({selection:vn.create(n.map((function(e){return vn.range(e.from,e.to)}))),userEvent:"select.search.matches"}),!0)})),ip=ep((function(e,t){var n=t.query,r=e.state,i=r.selection.main,a=i.from,o=i.to;if(r.readOnly)return!1;var s=n.nextMatch(r,a,a);if(!s)return!1;var l,u,c=[],f=[];if(s.from==a&&s.to==o&&(u=r.toText(n.getReplacement(s)),c.push({from:s.from,to:s.to,insert:u}),s=n.nextMatch(r,s.from,s.to),f.push(Ms.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(a).number)+"."))),s){var h=0==c.length||c[0].from>=s.to?0:s.to-s.from-u.length;l={anchor:s.from-h,head:s.to-h},f.push(pp(e,s))}return e.dispatch({changes:c,selection:l,scrollIntoView:!!l,effects:f,userEvent:"input.replace"}),!0})),ap=ep((function(e,t){var n=t.query;if(e.state.readOnly)return!1;var r=n.matchAll(e.state,1e9).map((function(e){return{from:e.from,to:e.to,insert:n.getReplacement(e)}}));if(!r.length)return!1;var i=e.state.phrase("replaced $ matches",r.length)+".";return e.dispatch({changes:r,effects:Ms.announce.of(i),userEvent:"input.replace.all"}),!0}));function op(e){return e.state.facet(zd).createPanel(e)}function sp(e,t){var n,r,i,a,o=e.selection.main,s=o.empty||o.to>o.from+100?"":e.sliceDoc(o.from,o.to);if(t&&!s)return t;var l=e.facet(zd);return new Bd({search:(null!==(n=null===t||void 0===t?void 0:t.literal)&&void 0!==n?n:l.literal)?s:s.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null===t||void 0===t?void 0:t.caseSensitive)&&void 0!==r?r:l.caseSensitive,literal:null!==(i=null===t||void 0===t?void 0:t.literal)&&void 0!==i?i:l.literal,wholeWord:null!==(a=null===t||void 0===t?void 0:t.wholeWord)&&void 0!==a?a:l.wholeWord})}var lp=function(e){var t=e.state.field(Jd,!1);if(t&&t.panel){var n=ql(e,op);if(!n)return!1;var r=n.dom.querySelector("[main-field]");if(r&&r!=e.root.activeElement){var i=sp(e.state,t.query.spec);i.valid&&e.dispatch({effects:Kd.of(i)}),r.focus(),r.select()}}else e.dispatch({effects:[Gd.of(!0),t?Kd.of(sp(e.state,t.query.spec)):Gn.appendConfig.of(vp)]});return!0},up=function(e){var t=e.state.field(Jd,!1);if(!t||!t.panel)return!1;var n=ql(e,op);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:Gd.of(!1)}),!0},cp=[{key:"Mod-f",run:lp,scope:"editor search-panel"},{key:"F3",run:tp,shift:np,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:tp,shift:np,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:up,scope:"editor search-panel"},{key:"Mod-Shift-l",run:function(e){var t=e.state,n=e.dispatch,r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;for(var i=r.main,a=i.from,o=i.to,s=[],l=0,u=new bd(t.doc,t.sliceDoc(a,o));!u.next().done;){if(s.length>1e3)return!1;u.value.from==a&&(l=s.length),s.push(vn.range(u.value.from,u.value.to))}return n(t.update({selection:vn.create(s,l),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:function(e){var t=ql(e,Td);if(!t){var n=[Md.of(!0)];null==e.state.field(_d,!1)&&n.push(Gn.appendConfig.of([_d,Nd])),e.dispatch({effects:n}),t=ql(e,Td)}return t&&t.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:function(e){var t=e.state,n=e.dispatch,r=t.selection.ranges;if(r.some((function(e){return e.from===e.to})))return function(e){var t=e.state,n=e.dispatch,r=t.selection,i=vn.create(r.ranges.map((function(e){return t.wordAt(e.head)||vn.cursor(e.head)})),r.mainIndex);return!i.eq(r)&&(n(t.update({selection:i})),!0)}({state:t,dispatch:n});var i=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some((function(e){return t.sliceDoc(e.from,e.to)!=i})))return!1;var a=function(e,t){for(var n=e.selection,r=n.main,i=n.ranges,a=e.wordAt(r.head),o=a&&a.from==r.from&&a.to==r.to,s=function(n,r){if(r.next(),!r.done){if(n&&i.some((function(e){return e.from==r.value.from})))return l=n,u=r,"continue";if(o){var a=e.wordAt(r.value.from);if(!a||a.from!=r.value.from||a.to!=r.value.to)return l=n,u=r,"continue"}return{v:r.value}}if(n)return{v:null};r=new bd(e.doc,t,0,Math.max(0,i[i.length-1].from-1)),l=n=!0,u=r},l=!1,u=new bd(e.doc,t,i[i.length-1].to);;){var c=s(l,u);if("continue"!==c&&"object"===typeof c)return c.v}}(t,i);return!!a&&(n(t.update({selection:t.selection.addRange(vn.range(a.from,a.to),!1),effects:Ms.scrollIntoView(a.to)})),!0)},preventDefault:!0}],fp=function(){function e(t){var n=this;h(this,e),this.view=t;var r=this.query=t.state.field(Jd).query.spec;function i(e,t,n){return vd("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=vd("input",{value:r.search,placeholder:hp(t,"Find"),"aria-label":hp(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=vd("input",{value:r.replace,placeholder:hp(t,"Replace"),"aria-label":hp(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=vd("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=vd("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=vd("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit}),this.dom=vd("div",{onkeydown:function(e){return n.keydown(e)},class:"cm-search"},[this.searchField,i("next",(function(){return tp(t)}),[hp(t,"next")]),i("prev",(function(){return np(t)}),[hp(t,"previous")]),i("select",(function(){return rp(t)}),[hp(t,"all")]),vd("label",null,[this.caseField,hp(t,"match case")]),vd("label",null,[this.reField,hp(t,"regexp")]),vd("label",null,[this.wordField,hp(t,"by word")])].concat(f(t.state.readOnly?[]:[vd("br"),this.replaceField,i("replace",(function(){return ip(t)}),[hp(t,"replace")]),i("replaceAll",(function(){return ap(t)}),[hp(t,"replace all")])]),[vd("button",{name:"close",onclick:function(){return up(t)},"aria-label":hp(t,"close"),type:"button"},["\xd7"])]))}return v(e,[{key:"commit",value:function(){var e=new Bd({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Kd.of(e)}))}},{key:"keydown",value:function(e){var t,n,r;t=this.view,n=e,r="search-panel",Vs(Bs(t.state),n,t,r)?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?np:tp)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),ip(this.view))}},{key:"update",value:function(e){var t,n=E(e.transactions);try{for(n.s();!(t=n.n()).done;){var r,i=E(t.value.effects);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.is(Kd)&&!a.value.eq(this.query)&&this.setQuery(a.value)}}catch(o){i.e(o)}finally{i.f()}}}catch(o){n.e(o)}finally{n.f()}}},{key:"setQuery",value:function(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(zd).top}}]),e}();function hp(e,t){return e.state.phrase(t)}var dp=/[\s\.,:;?!]/;function pp(e,t){var n=t.from,r=t.to,i=e.state.doc.lineAt(n),a=e.state.doc.lineAt(r).to,o=Math.max(i.from,n-30),s=Math.min(a,r+30),l=e.state.sliceDoc(o,s);if(o!=i.from)for(var u=0;u<30;u++)if(!dp.test(l[u+1])&&dp.test(l[u])){l=l.slice(u);break}if(s!=a)for(var c=l.length-1;c>l.length-30;c--)if(!dp.test(l[c-1])&&dp.test(l[c])){l=l.slice(0,c);break}return Ms.announce.of("".concat(e.state.phrase("current match"),". ").concat(l," ").concat(e.state.phrase("on line")," ").concat(i.number,"."))}var mp=Ms.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),vp=[Jd,An.lowest(Zd),mp],gp=function(){function e(t,n,r){h(this,e),this.state=t,this.pos=n,this.explicit=r,this.abortListeners=[]}return v(e,[{key:"tokenBefore",value:function(e){for(var t=xc(this.state).resolveInner(this.pos,-1);t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}},{key:"matchBefore",value:function(e){var t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),i=r.search(kp(e,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}},{key:"aborted",get:function(){return null==this.abortListeners}},{key:"addEventListener",value:function(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}]),e}();function yp(e){var t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}function bp(e){var t=e.map((function(e){return"string"==typeof e?{label:e}:e})),n=t.every((function(e){return/^\w+$/.test(e.label)}))?[/\w*$/,/\w+$/]:function(e){var t,n=Object.create(null),r=Object.create(null),i=E(e);try{for(i.s();!(t=i.n()).done;){var a=t.value.label;n[a[0]]=!0;for(var o=1;o<a.length;o++)r[a[o]]=!0}}catch(l){i.e(l)}finally{i.f()}var s=yp(n)+yp(r)+"*$";return[new RegExp("^"+s),new RegExp(s)]}(t),r=u(n,2),i=r[0],a=r[1];return function(e){var n=e.matchBefore(a);return n||e.explicit?{from:n?n.from:e.pos,options:t,validFor:i}:null}}var xp=v((function e(t,n,r){h(this,e),this.completion=t,this.source=n,this.match=r}));function wp(e){return e.selection.main.head}function kp(e,t){var n,r=e.source,i=t&&"^"!=r[0],a="$"!=r[r.length-1];return i||a?new RegExp("".concat(i?"^":"","(?:").concat(r,")").concat(a?"$":""),null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}var jp=Un.define();function Sp(e,t){var n,r,i,a,o=t.completion.apply||t.completion.label,s=t.source;"string"==typeof o?e.dispatch(Object.assign(Object.assign({},(n=e.state,r=o,i=s.from,a=s.to,Object.assign(Object.assign({},n.changeByRange((function(e){if(e==n.selection.main)return{changes:{from:i,to:a,insert:r},range:vn.cursor(i+r.length)};var t=a-i;return!e.empty||t&&n.sliceDoc(e.from-t,e.from)!=n.sliceDoc(i,a)?{range:e}:{changes:{from:e.from-t,to:e.from,insert:r},range:vn.cursor(e.from-t+r.length)}}))),{userEvent:"input.complete"}))),{annotations:jp.of(t.completion)})):o(e,t.completion,s.from,s.to)}var Cp=new WeakMap;function Ep(e){if(!Array.isArray(e))return e;var t=Cp.get(e);return t||Cp.set(e,t=bp(e)),t}var Tp=function(){function e(t){h(this,e),this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(var n=0;n<t.length;){var r=tn(t,n),i=rn(r);this.chars.push(r);var a=t.slice(n,n+i),o=a.toUpperCase();this.folded.push(tn(o==a?a.toLowerCase():o,0)),n+=i}this.astral=t.length!=this.chars.length}return v(e,[{key:"match",value:function(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;var t=this.chars,n=this.folded,r=this.any,i=this.precise,a=this.byWord;if(1==t.length){var o=tn(e,0);return o==t[0]?[0,0,rn(o)]:o==n[0]?[-200,0,rn(o)]:null}var s=e.indexOf(this.pattern);if(0==s)return[0,0,this.pattern.length];var l=t.length,u=0;if(s<0){for(var c=0,f=Math.min(e.length,200);c<f&&u<l;){var h=tn(e,c);h!=t[u]&&h!=n[u]||(r[u++]=c),c+=rn(h)}if(u<l)return null}for(var d=0,p=0,m=!1,v=0,g=-1,y=-1,b=/[a-z]/.test(e),x=!0,w=0,k=Math.min(e.length,200),j=0;w<k&&p<l;){var S=tn(e,w);s<0&&(d<l&&S==t[d]&&(i[d++]=w),v<l&&(S==t[v]||S==n[v]?(0==v&&(g=w),y=w+1,v++):v=0));var C=void 0,E=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(C=nn(S))!=C.toLowerCase()?1:C!=C.toUpperCase()?2:0;(!w||1==E&&b||0==j&&0!=E)&&(t[p]==S||n[p]==S&&(m=!0)?a[p++]=w:a.length&&(x=!1)),j=E,w+=rn(S)}return p==l&&0==a[0]&&x?this.result((m?-200:0)-100,a,e):v==l&&0==g?[-200-e.length,0,y]:s>-1?[-700-e.length,s,s+this.pattern.length]:v==l?[-900-e.length,g,y]:p==l?this.result((m?-200:0)-100-700+(x?0:-1100),a,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}},{key:"result",value:function(e,t,n){var r,i=[e-n.length],a=1,o=E(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,l=s+(this.astral?rn(tn(n,s)):1);a>1&&i[a-1]==s?i[a-1]=l:(i[a++]=s,i[a++]=l)}}catch(u){o.e(u)}finally{o.f()}return i}}]),e}(),Mp=bn.define({combine:function(e){return sr(e,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:function(){return""},optionClass:function(){return""},aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:function(e,t){return e.label.localeCompare(t.label)},interactionDelay:75},{defaultKeymap:function(e,t){return e&&t},closeOnBlur:function(e,t){return e&&t},icons:function(e,t){return e&&t},tooltipClass:function(e,t){return function(n){return _p(e(n),t(n))}},optionClass:function(e,t){return function(n){return _p(e(n),t(n))}},addToOptions:function(e,t){return e.concat(t)}})}});function _p(e,t){return e?t?e+" "+t:e:t}function Np(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){var r=Math.floor(t/n);return{from:r*n,to:(r+1)*n}}var i=Math.floor((e-t)/n);return{from:e-(i+1)*n,to:e-i*n}}var Ap=function(){function e(t,n){var r=this;h(this,e),this.view=t,this.stateField=n,this.info=null,this.placeInfo={read:function(){return r.measureInfo()},write:function(e){return r.positionInfo(e)},key:this},this.space=null,this.currentClass="";var i=t.state.field(n),a=i.open,o=a.options,s=a.selected,l=t.state.facet(Mp);this.optionContent=function(e){var t=e.addToOptions.slice();return e.icons&&t.push({render:function(e){var t,n=document.createElement("div");return n.classList.add("cm-completionIcon"),e.type&&(t=n.classList).add.apply(t,f(e.type.split(/\s+/g).map((function(e){return"cm-completionIcon-"+e})))),n.setAttribute("aria-hidden","true"),n},position:20}),t.push({render:function(e,t,n){var r=document.createElement("span");r.className="cm-completionLabel";for(var i=e.label,a=0,o=1;o<n.length;){var s=n[o++],l=n[o++];s>a&&r.appendChild(document.createTextNode(i.slice(a,s)));var u=r.appendChild(document.createElement("span"));u.appendChild(document.createTextNode(i.slice(s,l))),u.className="cm-completionMatchedText",a=l}return a<i.length&&r.appendChild(document.createTextNode(i.slice(a))),r},position:50},{render:function(e){if(!e.detail)return null;var t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort((function(e,t){return e.position-t.position})).map((function(e){return e.render}))}(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=Np(o.length,s,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",(function(e){for(var n,i=e.target;i&&i!=r.dom;i=i.parentNode)if("LI"==i.nodeName&&(n=/-(\d+)$/.exec(i.id))&&+n[1]<o.length)return Sp(t,o[+n[1]]),void e.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(o,i.id,this.range)),this.list.addEventListener("scroll",(function(){r.info&&r.view.requestMeasure(r.placeInfo)}))}return v(e,[{key:"mount",value:function(){this.updateSel()}},{key:"update",value:function(e){var t,n,r,i=e.state.field(this.stateField),a=e.startState.field(this.stateField);this.updateTooltipClass(e.state),i!=a&&(this.updateSel(),(null===(t=i.open)||void 0===t?void 0:t.disabled)!=(null===(n=a.open)||void 0===n?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(null===(r=i.open)||void 0===r?void 0:r.disabled)))}},{key:"updateTooltipClass",value:function(e){var t=this.tooltipClass(e);if(t!=this.currentClass){var n,r=E(this.currentClass.split(" "));try{for(r.s();!(n=r.n()).done;){var i=n.value;i&&this.dom.classList.remove(i)}}catch(l){r.e(l)}finally{r.f()}var a,o=E(t.split(" "));try{for(o.s();!(a=o.n()).done;){var s=a.value;s&&this.dom.classList.add(s)}}catch(l){o.e(l)}finally{o.f()}this.currentClass=t}}},{key:"positioned",value:function(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}},{key:"updateSel",value:function(){var e=this,t=this.view.state.field(this.stateField),n=t.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Np(n.options.length,n.selected,this.view.state.facet(Mp).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n.options,t.id,this.range)),this.list.addEventListener("scroll",(function(){e.info&&e.view.requestMeasure(e.placeInfo)}))),this.updateSelectedOption(n.selected)){this.info&&(this.info.remove(),this.info=null);var r=n.options[n.selected].completion,i=r.info;if(!i)return;var a="string"===typeof i?document.createTextNode(i):i(r);if(!a)return;"then"in a?a.then((function(n){n&&e.view.state.field(e.stateField,!1)==t&&e.addInfoPane(n)})).catch((function(t){return la(e.view.state,t,"completion info")})):this.addInfoPane(a)}}},{key:"addInfoPane",value:function(e){var t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}},{key:"updateSelectedOption",value:function(e){for(var t=null,n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();r.top<n.top?e.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(e.scrollTop+=r.bottom-n.bottom)}(this.list,t),t}},{key:"measureInfo",value:function(){var e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;var t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),i=this.space;if(!i){var a=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}}if(r.top>Math.min(i.bottom,t.bottom)-10||r.bottom<Math.max(i.top,t.top)+10)return null;var o,s=this.view.textDirection==ka.RTL,l=s,u=!1,c="",f="",h=t.left-i.left,d=i.right-t.right;if(l&&h<Math.min(n.width,d)?l=!1:!l&&d<Math.min(n.width,h)&&(l=!0),n.width<=(l?h:d))c=Math.max(i.top,Math.min(r.top,i.bottom-n.height))-t.top+"px",o=Math.min(400,l?h:d)+"px";else{u=!0,o=Math.min(400,(s?t.right:i.right-t.left)-30)+"px";var p=i.bottom-t.bottom;p>=n.height||p>t.top?c=r.bottom-t.top+"px":f=t.bottom-r.top+"px"}return{top:c,bottom:f,maxWidth:o,class:u?s?"left-narrow":"right-narrow":l?"left":"right"}}},{key:"positionInfo",value:function(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}},{key:"createListBox",value:function(e,t,n){var r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(var i=n.from;i<n.to;i++){var a=e[i],o=a.completion,s=a.match,l=r.appendChild(document.createElement("li"));l.id=t+"-"+i,l.setAttribute("role","option");var u=this.optionClass(o);u&&(l.className=u);var c,f=E(this.optionContent);try{for(f.s();!(c=f.n()).done;){var h=(0,c.value)(o,this.view.state,s);h&&l.appendChild(h)}}catch(d){f.e(d)}finally{f.f()}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}]),e}();function Op(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}var Dp=function(){function e(t,n,r,i,a,o){h(this,e),this.options=t,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=a,this.disabled=o}return v(e,[{key:"setSelected",value:function(t,n){return t==this.selected||t>=this.options.length?this:new e(this.options,Lp(n,t),this.tooltip,this.timestamp,t,this.disabled)}},{key:"map",value:function(t){return new e(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}],[{key:"build",value:function(t,n,r,i,a){var o=function(e,t){var n,r=[],i=0,a=E(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.hasResult())if(!1===o.result.filter){var s,l=o.result.getMatch,u=E(o.result.options);try{for(u.s();!(s=u.n()).done;){var c=s.value,f=[1e9-i++];if(l){var h,d=E(l(c));try{for(d.s();!(h=d.n()).done;){var p=h.value;f.push(p)}}catch(T){d.e(T)}finally{d.f()}}r.push(new xp(c,o,f))}}catch(T){u.e(T)}finally{u.f()}}else{var m,v=new Tp(t.sliceDoc(o.from,o.to)),g=void 0,y=E(o.result.options);try{for(y.s();!(m=y.n()).done;){var b=m.value;(g=v.match(b.label))&&(null!=b.boost&&(g[0]+=b.boost),r.push(new xp(b,o,g)))}}catch(T){y.e(T)}finally{y.f()}}}}catch(T){a.e(T)}finally{a.f()}var x,w=[],k=null,j=t.facet(Mp).compareCompletions,S=E(r.sort((function(e,t){return t.match[0]-e.match[0]||j(e.completion,t.completion)})));try{for(S.s();!(x=S.n()).done;){var C=x.value;!k||k.label!=C.completion.label||k.detail!=C.completion.detail||null!=k.type&&null!=C.completion.type&&k.type!=C.completion.type||k.apply!=C.completion.apply?w.push(C):Op(C.completion)>Op(k)&&(w[w.length-1]=C),k=C.completion}}catch(T){S.e(T)}finally{S.f()}return w}(t,n);if(!o.length)return i&&t.some((function(e){return 1==e.state}))?new e(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;var s,l=n.facet(Mp).selectOnOpen?0:-1;if(i&&i.selected!=l&&-1!=i.selected)for(var u=i.options[i.selected].completion,c=0;c<o.length;c++)if(o[c].completion==u){l=c;break}return new e(o,Lp(r,l),{pos:t.reduce((function(e,t){return t.hasResult()?Math.min(e,t.from):e}),1e8),create:(s=Up,function(e){return new Ap(e,s)}),above:a.aboveCursor},i?i.timestamp:Date.now(),l,!1)}}]),e}(),Pp=function(){function e(t,n,r){h(this,e),this.active=t,this.id=n,this.open=r}return v(e,[{key:"update",value:function(t){var n=this,r=t.state,i=r.facet(Mp),a=(i.override||r.languageDataAt("autocomplete",wp(r)).map(Ep)).map((function(e){return(n.active.find((function(t){return t.source==e}))||new Bp(e,n.active.some((function(e){return 0!=e.state}))?1:0)).update(t,i)}));a.length==this.active.length&&a.every((function(e,t){return e==n.active[t]}))&&(a=this.active);var o=this.open;o&&t.docChanged&&(o=o.map(t.changes)),t.selection||a.some((function(e){return e.hasResult()&&t.changes.touchesRange(e.from,e.to)}))||!function(e,t){if(e==t)return!0;for(var n=0,r=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;r<t.length&&!t[r].hasResult;)r++;var i=n==e.length,a=r==t.length;if(i||a)return i==a;if(e[n++].result!=t[r++].result)return!1}}(a,this.active)?o=Dp.build(a,r,this.id,o,i):o&&o.disabled&&!a.some((function(e){return 1==e.state}))&&(o=null),!o&&a.every((function(e){return 1!=e.state}))&&a.some((function(e){return e.hasResult()}))&&(a=a.map((function(e){return e.hasResult()?new Bp(e.source,0):e})));var s,l=E(t.effects);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.is(qp)&&(o=o&&o.setSelected(u.value,this.id))}}catch(c){l.e(c)}finally{l.f()}return a==this.active&&o==this.open?this:new e(a,this.id,o)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:Rp}}],[{key:"start",value:function(){return new e(Ip,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}}]),e}();var Rp={"aria-autocomplete":"list"};function Lp(e,t){var n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}var Ip=[];function zp(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}var Bp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;h(this,e),this.source=t,this.state=n,this.explicitPos=r}return v(e,[{key:"hasResult",value:function(){return!1}},{key:"update",value:function(t,n){var r=zp(t),i=this;r?i=i.handleUserEvent(t,r,n):t.docChanged?i=i.handleChange(t):t.selection&&0!=i.state&&(i=new e(i.source,0));var a,o=E(t.effects);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s.is(Wp))i=new e(i.source,1,s.value?wp(t.state):-1);else if(s.is(Vp))i=new e(i.source,0);else if(s.is(Hp)){var l,u=E(s.value);try{for(u.s();!(l=u.n()).done;){var c=l.value;c.source==i.source&&(i=c)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){o.e(f)}finally{o.f()}return i}},{key:"handleUserEvent",value:function(t,n,r){return"delete"!=n&&r.activateOnTyping?new e(this.source,1):this.map(t.changes)}},{key:"handleChange",value:function(t){return t.changes.touchesRange(wp(t.startState))?new e(this.source,0):this.map(t.changes)}},{key:"map",value:function(t){return t.empty||this.explicitPos<0?this:new e(this.source,this.state,t.mapPos(this.explicitPos))}}]),e}(),Fp=function(e){y(n,e);var t=j(n);function n(e,r,i,a,o){var s;return h(this,n),(s=t.call(this,e,2,r)).result=i,s.from=a,s.to=o,s}return v(n,[{key:"hasResult",value:function(){return!0}},{key:"handleUserEvent",value:function(e,t,r){var i,a=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),s=wp(e.state);if((this.explicitPos<0?s<=a:s<this.from)||s>o||"delete"==t&&wp(e.startState)==this.from)return new Bp(this.source,"input"==t&&r.activateOnTyping?1:0);var l,u=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,n,r){if(!e)return!1;var i=t.sliceDoc(n,r);return"function"==typeof e?e(i,n,r,t):kp(e,!0).test(i)}(this.result.validFor,e.state,a,o)?new n(this.source,u,this.result,a,o):this.result.update&&(l=this.result.update(this.result,a,o,new gp(e.state,s,u>=0)))?new n(this.source,u,l,l.from,null!==(i=l.to)&&void 0!==i?i:wp(e.state)):new Bp(this.source,1,u)}},{key:"handleChange",value:function(e){return e.changes.touchesRange(this.from,this.to)?new Bp(this.source,0):this.map(e.changes)}},{key:"map",value:function(e){return e.empty?this:new n(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}]),n}(Bp);var Wp=Gn.define(),Vp=Gn.define(),Hp=Gn.define({map:function(e,t){return e.map((function(e){return e.map(t)}))}}),qp=Gn.define(),Up=Cn.define({create:function(){return Pp.start()},update:function(e,t){return e.update(t)},provide:function(e){return[Pl.from(e,(function(e){return e.tooltip})),Ms.contentAttributes.from(e,(function(e){return e.attrs}))]}});function $p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return function(n){var r=n.state.field(Up,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Mp).interactionDelay)return!1;var i,a=1;"page"==t&&(i=Wl(n,r.open.tooltip))&&(a=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));var o=r.open.options.length,s=r.open.selected>-1?r.open.selected+a*(e?1:-1):e?0:o-1;return s<0?s="page"==t?0:o-1:s>=o&&(s="page"==t?o-1:0),n.dispatch({effects:qp.of(s)}),!0}}var Kp=v((function e(t,n){h(this,e),this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0})),Gp=ha.fromClass(function(){function e(t){h(this,e),this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;var n,r=E(t.state.field(Up).active);try{for(r.s();!(n=r.n()).done;){var i=n.value;1==i.state&&this.startQuery(i)}}catch(a){r.e(a)}finally{r.f()}}return v(e,[{key:"update",value:function(e){var t=this,n=e.state.field(Up);if(e.selectionSet||e.docChanged||e.startState.field(Up)!=n){for(var r=e.transactions.some((function(e){return(e.selection||e.docChanged)&&!zp(e)})),i=0;i<this.running.length;i++){var a=this.running[i];if(r||a.updates.length+e.transactions.length>50&&Date.now()-a.time>1e3){var o,s=E(a.context.abortListeners);try{for(s.s();!(o=s.n()).done;){var l=o.value;try{l()}catch(p){la(this.view.state,p)}}}catch(m){s.e(m)}finally{s.f()}a.context.abortListeners=null,this.running.splice(i--,1)}else{var u;(u=a.updates).push.apply(u,f(e.transactions))}}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=n.active.some((function(e){return 1==e.state&&!t.running.some((function(t){return t.active.source==e.source}))}))?setTimeout((function(){return t.startUpdate()}),50):-1,0!=this.composing){var c,h=E(e.transactions);try{for(h.s();!(c=h.n()).done;){var d=c.value;"input"==zp(d)?this.composing=2:2==this.composing&&d.selection&&(this.composing=3)}}catch(m){h.e(m)}finally{h.f()}}}}},{key:"startUpdate",value:function(){var e=this;this.debounceUpdate=-1;var t,n=E(this.view.state.field(Up).active);try{var r=function(){var n=t.value;1!=n.state||e.running.some((function(e){return e.active.source==n.source}))||e.startQuery(n)};for(n.s();!(t=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}}},{key:"startQuery",value:function(e){var t=this,n=this.view.state,r=wp(n),i=new gp(n,r,e.explicitPos==r),a=new Kp(e,i);this.running.push(a),Promise.resolve(e.source(i)).then((function(e){a.context.aborted||(a.done=e||null,t.scheduleAccept())}),(function(e){t.view.dispatch({effects:Vp.of(null)}),la(t.view.state,e)}))}},{key:"scheduleAccept",value:function(){var e=this;this.running.every((function(e){return void 0!==e.done}))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((function(){return e.accept()}),50))}},{key:"accept",value:function(){var e,t=this;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;for(var n=[],r=this.view.state.facet(Mp),i=function(i){var o=t.running[i];if(void 0===o.done)return a=i,"continue";if(t.running.splice(i--,1),o.done){var s,l=new Fp(o.active.source,o.active.explicitPos,o.done,o.done.from,null!==(e=o.done.to)&&void 0!==e?e:wp(o.updates.length?o.updates[0].startState:t.view.state)),u=E(o.updates);try{for(u.s();!(s=u.n()).done;){var c=s.value;l=l.update(c,r)}}catch(v){u.e(v)}finally{u.f()}if(l.hasResult())return n.push(l),a=i,"continue"}var f=t.view.state.field(Up).active.find((function(e){return e.source==o.active.source}));if(f&&1==f.state)if(null==o.done){var h,d=new Bp(o.active.source,0),p=E(o.updates);try{for(p.s();!(h=p.n()).done;){var m=h.value;d=d.update(m,r)}}catch(v){p.e(v)}finally{p.f()}1!=d.state&&n.push(d)}else t.startQuery(f);a=i},a=0;a<this.running.length;a++)i(a);n.length&&this.view.dispatch({effects:Hp.of(n)})}}]),e}(),{eventHandlers:{blur:function(){var e=this.view.state.field(Up,!1);e&&e.tooltip&&this.view.state.facet(Mp).closeOnBlur&&this.view.dispatch({effects:Vp.of(null)})},compositionstart:function(){this.composing=1},compositionend:function(){var e=this;3==this.composing&&setTimeout((function(){return e.view.dispatch({effects:Wp.of(!1)})}),20),this.composing=0}}}),Jp=Ms.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});var Qp={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Yp=Gn.define({map:function(e,t){var n=t.mapPos(e,-1,on.TrackAfter);return null==n?void 0:n}}),Xp=Gn.define({map:function(e,t){return t.mapPos(e)}}),Zp=new(function(e){y(n,e);var t=j(n);function n(){return h(this,n),t.apply(this,arguments)}return v(n)}(lr));Zp.startSide=1,Zp.endSide=-1;var em=Cn.define({create:function(){return hr.empty},update:function(e,t){if(t.selection){var n=t.state.doc.lineAt(t.selection.main.head).from,r=t.startState.doc.lineAt(t.startState.selection.main.head).from;n!=t.changes.mapPos(r,-1)&&(e=hr.empty)}e=e.map(t.changes);var i,a=E(t.effects);try{var o=function(){var t=i.value;t.is(Yp)?e=e.update({add:[Zp.range(t.value,t.value+1)]}):t.is(Xp)&&(e=e.update({filter:function(e){return e!=t.value}}))};for(a.s();!(i=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return e}});var tm="()[]{}<>";function nm(e){for(var t=0;t<tm.length;t+=2)if(tm.charCodeAt(t)==e)return tm.charAt(t+1);return nn(e<128?e:e+1)}function rm(e,t){return e.languageDataAt("closeBrackets",t)[0]||Qp}var im="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),am=Ms.inputHandler.of((function(e,t,n,r){if((im?e.composing:e.compositionStarted)||e.state.readOnly)return!1;var i=e.state.selection.main;if(r.length>2||2==r.length&&1==rn(tn(r,0))||t!=i.from||n!=i.to)return!1;var a=function(e,t){var n,r=rm(e,e.selection.main.head),i=r.brackets||Qp.brackets,a=E(i);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=nm(tn(o,0));if(t==o)return s==o?fm(e,o,i.indexOf(o+o+o)>-1,r):um(e,o,s,r.before||Qp.before);if(t==s&&sm(e,e.selection.main.from))return cm(e,o,s)}}catch(l){a.e(l)}finally{a.f()}return null}(e.state,r);return!!a&&(e.dispatch(a),!0)})),om=[{key:"Backspace",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=rm(t,t.selection.main.head).brackets||Qp.brackets,i=null,a=t.changeByRange((function(e){if(e.empty){var n,a=function(e,t){var n=e.sliceString(t-2,t);return rn(tn(n,0))==n.length?n:n.slice(1)}(t.doc,e.head),o=E(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s==a&&lm(t.doc,e.head)==nm(tn(s,0)))return{changes:{from:e.head-s.length,to:e.head+s.length},range:vn.cursor(e.head-s.length)}}}catch(l){o.e(l)}finally{o.f()}}return{range:i=e}}));return i||n(t.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!i}}];function sm(e,t){var n=!1;return e.field(em).between(0,e.doc.length,(function(e){e==t&&(n=!0)})),n}function lm(e,t){var n=e.sliceString(t,t+2);return n.slice(0,rn(tn(n,0)))}function um(e,t,n,r){var i=null,a=e.changeByRange((function(a){if(!a.empty)return{changes:[{insert:t,from:a.from},{insert:n,from:a.to}],effects:Yp.of(a.to+t.length),range:vn.range(a.anchor+t.length,a.head+t.length)};var o=lm(e.doc,a.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:t+n,from:a.head},effects:Yp.of(a.head+t.length),range:vn.cursor(a.head+t.length)}:{range:i=a}}));return i?null:e.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function cm(e,t,n){var r=null,i=e.selection.ranges.map((function(t){return t.empty&&lm(e.doc,t.head)==n?vn.cursor(t.head+n.length):r=t}));return r?null:e.update({selection:vn.create(i,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((function(e){var t=e.from;return Xp.of(t)}))})}function fm(e,t,n,r){var i=r.stringPrefixes||Qp.stringPrefixes,a=null,o=e.changeByRange((function(r){if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:Yp.of(r.to+t.length),range:vn.range(r.anchor+t.length,r.head+t.length)};var o,s=r.head,l=lm(e.doc,s);if(l==t){if(hm(e,s))return{changes:{insert:t+t,from:s},effects:Yp.of(s+t.length),range:vn.cursor(s+t.length)};if(sm(e,s)){var u=n&&e.sliceDoc(s,s+3*t.length)==t+t+t;return{range:vn.cursor(s+t.length*(u?3:1)),effects:Xp.of(s)}}}else{if(n&&e.sliceDoc(s-2*t.length,s)==t+t&&(o=dm(e,s-2*t.length,i))>-1&&hm(e,o))return{changes:{insert:t+t+t+t,from:s},effects:Yp.of(s+t.length),range:vn.cursor(s+t.length)};if(e.charCategorizer(s)(l)!=rr.Word&&dm(e,s,i)>-1&&!function(e,t,n,r){for(var i=xc(e).resolveInner(t,-1),a=r.reduce((function(e,t){return Math.max(e,t.length)}),0),o=0;o<5;o++){var s=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+a)),l=s.indexOf(n);if(!l||l>-1&&r.indexOf(s.slice(0,l))>-1){for(var u=i.firstChild;u&&u.from==i.from&&u.to-u.from>n.length+l;){if(e.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}var c=i.to==t&&i.parent;if(!c)break;i=c}return!1}(e,s,t,i))return{changes:{insert:t+t,from:s},effects:Yp.of(s+t.length),range:vn.cursor(s+t.length)}}return{range:a=r}}));return a?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function hm(e,t){var n=xc(e).resolveInner(t+1);return n.parent&&n.from==t}function dm(e,t,n){var r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=rr.Word)return t;var i,a=E(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=t-o.length;if(e.sliceDoc(s,t)==o&&r(e.sliceDoc(s-1,s))!=rr.Word)return s}}catch(l){a.e(l)}finally{a.f()}return-1}var pm=[{key:"Ctrl-Space",run:function(e){return!!e.state.field(Up,!1)&&(e.dispatch({effects:Wp.of(!0)}),!0)}},{key:"Escape",run:function(e){var t=e.state.field(Up,!1);return!(!t||!t.active.some((function(e){return 0!=e.state})))&&(e.dispatch({effects:Vp.of(null)}),!0)}},{key:"ArrowDown",run:$p(!0)},{key:"ArrowUp",run:$p(!1)},{key:"PageDown",run:$p(!0,"page")},{key:"PageUp",run:$p(!1,"page")},{key:"Enter",run:function(e){var t=e.state.field(Up,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||Date.now()-t.open.timestamp<e.state.facet(Mp).interactionDelay)&&(t.open.disabled||Sp(e,t.open.options[t.open.selected]),!0)}}],mm=An.highest(Is.computeN([Mp],(function(e){return e.facet(Mp).defaultKeymap?[pm]:[]})));var vm=v((function e(t,n,r){h(this,e),this.from=t,this.to=n,this.diagnostic=r})),gm=function(){function e(t,n,r){h(this,e),this.diagnostics=t,this.panel=n,this.selected=r}return v(e,null,[{key:"init",value:function(t,n,r){var i=t,a=r.facet(Am).markerFilter;a&&(i=a(i));var o=Wi.set(i.map((function(e){return e.from==e.to||e.from==e.to-1&&r.doc.lineAt(e.from).to==e.from?Wi.widget({widget:new Pm(e),diagnostic:e}).range(e.from):Wi.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity},diagnostic:e}).range(e.from,e.to)})),!0);return new e(o,n,ym(o))}}]),e}();function ym(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=null;return e.between(n,1e9,(function(e,n,i){var a=i.spec;if(!t||a.diagnostic==t)return r=new vm(e,n,a.diagnostic),!1})),r}function bm(e,t){return!(!e.effects.some((function(e){return e.is(wm)}))&&!e.changes.touchesRange(t.pos))}function xm(e,t){return e.field(Sm,!1)?t:t.concat(Gn.appendConfig.of([Sm,Ms.decorations.compute([Sm],(function(e){var t=e.field(Sm),n=t.selected,r=t.panel;return n&&r&&n.from!=n.to?Wi.set([Cm.range(n.from,n.to)]):Wi.none})),Fl(Em,{hideOn:bm}),Bm]))}var wm=Gn.define(),km=Gn.define(),jm=Gn.define(),Sm=Cn.define({create:function(){return new gm(Wi.none,null,null)},update:function(e,t){if(t.docChanged){var n=e.diagnostics.map(t.changes),r=null;if(e.selected){var i=t.changes.mapPos(e.selected.from,1);r=ym(n,e.selected.diagnostic,i)||ym(n,null,i)}e=new gm(n,e.panel,r)}var a,o=E(t.effects);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.is(wm)?e=gm.init(s.value,e.panel,t.state):s.is(km)?e=new gm(e.diagnostics,s.value?Lm.open:null,e.selected):s.is(jm)&&(e=new gm(e.diagnostics,e.panel,s.value))}}catch(l){o.e(l)}finally{o.f()}return e},provide:function(e){return[Gl.from(e,(function(e){return e.panel})),Ms.decorations.from(e,(function(e){return e.diagnostics}))]}});var Cm=Wi.mark({class:"cm-lintRange cm-lintRange-active"});function Em(e,t,n){var r=e.state.field(Sm).diagnostics,i=[],a=2e8,o=0;r.between(t-(n<0?1:0),t+(n>0?1:0),(function(e,r,s){var l=s.spec;t>=e&&t<=r&&(e==r||(t>e||n>0)&&(t<r||n<0))&&(i.push(l.diagnostic),a=Math.min(e,a),o=Math.max(r,o))}));var s=e.state.facet(Am).tooltipFilter;return s&&(i=s(i)),i.length?{pos:a,end:o,above:e.state.doc.lineAt(a).to<o,create:function(){return{dom:Tm(e,i)}}}:null}function Tm(e,t){return vd("ul",{class:"cm-tooltip-lint"},t.map((function(t){return Dm(e,t,!1)})))}var Mm=function(e){var t=e.state.field(Sm,!1);return!(!t||!t.panel)&&(e.dispatch({effects:km.of(!1)}),!0)},_m=[{key:"Mod-Shift-m",run:function(e){var t=e.state.field(Sm,!1);t&&t.panel||e.dispatch({effects:xm(e.state,[km.of(!0)])});var n=ql(e,Lm.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:function(e){var t=e.state.field(Sm,!1);if(!t)return!1;var n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!(!r.value&&(!(r=t.diagnostics.iter(0)).value||r.from==n.from&&r.to==n.to))&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],Nm=ha.fromClass(function(){function e(t){h(this,e),this.view=t,this.timeout=-1,this.set=!0;var n=t.state.facet(Am).delay;this.lintTime=Date.now()+n,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,n)}return v(e,[{key:"run",value:function(){var e=this,t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;var n=this.view.state,r=n.facet(Am).sources;Promise.all(r.map((function(t){return Promise.resolve(t(e.view))}))).then((function(t){var r=t.reduce((function(e,t){return e.concat(t)}));e.view.state.doc==n.doc&&e.view.dispatch(function(e,t){return{effects:xm(e,[wm.of(t)])}}(e.view.state,r))}),(function(t){la(e.view.state,t)}))}}},{key:"update",value:function(e){var t=e.state.facet(Am);(e.docChanged||t!=e.startState.facet(Am))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}},{key:"force",value:function(){this.set&&(this.lintTime=Date.now(),this.run())}},{key:"destroy",value:function(){clearTimeout(this.timeout)}}]),e}()),Am=bn.define({combine:function(e){return Object.assign({sources:e.map((function(e){return e.source}))},sr(e.map((function(e){return e.config})),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:Nm});function Om(e){var t=[];if(e){var n,r=E(e);try{e:for(r.s();!(n=r.n()).done;){for(var i=n.value.name,a=function(){var e=i[o];if(/[a-zA-Z]/.test(e)&&!t.some((function(t){return t.toLowerCase()==e.toLowerCase()})))return t.push(e),"continue|actions"},o=0;o<i.length;o++){if("continue|actions"===a())continue e}t.push("")}}catch(s){r.e(s)}finally{r.f()}}return t}function Dm(e,t,n){var r,i=n?Om(t.actions):[];return vd("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},vd("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(r=t.actions)||void 0===r?void 0:r.map((function(n,r){var a=function(r){r.preventDefault();var i=ym(e.state.field(Sm).diagnostics,t);i&&n.apply(e,i.from,i.to)},o=n.name,s=i[r]?o.indexOf(i[r]):-1,l=s<0?o:[o.slice(0,s),vd("u",o.slice(s,s+1)),o.slice(s+1)];return vd("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":" Action: ".concat(o).concat(s<0?"":' (access key "'.concat(i[r],')"'),".")},l)})),t.source&&vd("div",{class:"cm-diagnosticSource"},t.source))}var Pm=function(e){y(n,e);var t=j(n);function n(e){var r;return h(this,n),(r=t.call(this)).diagnostic=e,r}return v(n,[{key:"eq",value:function(e){return e.diagnostic==this.diagnostic}},{key:"toDOM",value:function(){return vd("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}]),n}(Bi),Rm=v((function e(t,n){h(this,e),this.diagnostic=n,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=Dm(t,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")})),Lm=function(){function e(t){var n=this;h(this,e),this.view=t,this.items=[];this.list=vd("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:function(e){if(27==e.keyCode)Mm(n.view),n.view.focus();else if(38==e.keyCode||33==e.keyCode)n.moveSelection((n.selectedIndex-1+n.items.length)%n.items.length);else if(40==e.keyCode||34==e.keyCode)n.moveSelection((n.selectedIndex+1)%n.items.length);else if(36==e.keyCode)n.moveSelection(0);else if(35==e.keyCode)n.moveSelection(n.items.length-1);else if(13==e.keyCode)n.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&n.selectedIndex>=0))return;for(var r=n.items[n.selectedIndex].diagnostic,i=Om(r.actions),a=0;a<i.length;a++)if(i[a].toUpperCase().charCodeAt(0)==e.keyCode){var o=ym(n.view.state.field(Sm).diagnostics,r);o&&r.actions[a].apply(t,o.from,o.to)}}e.preventDefault()},onclick:function(e){for(var t=0;t<n.items.length;t++)n.items[t].dom.contains(e.target)&&n.moveSelection(t)}}),this.dom=vd("div",{class:"cm-panel-lint"},this.list,vd("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:function(){return Mm(n.view)}},"\xd7")),this.update()}return v(e,[{key:"selectedIndex",get:function(){var e=this.view.state.field(Sm).selected;if(!e)return-1;for(var t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}},{key:"update",value:function(){var e=this,t=this.view.state.field(Sm),n=t.diagnostics,r=t.selected,i=0,a=!1,o=null;for(n.between(0,this.view.state.doc.length,(function(t,n,s){for(var l,u=s.spec,c=-1,f=i;f<e.items.length;f++)if(e.items[f].diagnostic==u.diagnostic){c=f;break}c<0?(l=new Rm(e.view,u.diagnostic),e.items.splice(i,0,l),a=!0):(l=e.items[c],c>i&&(e.items.splice(i,c-i),a=!0)),r&&l.diagnostic==r.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),o=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),i++}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();0==this.items.length&&(this.items.push(new Rm(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:function(){return{sel:o.dom.getBoundingClientRect(),panel:e.list.getBoundingClientRect()}},write:function(t){var n=t.sel,r=t.panel;n.top<r.top?e.list.scrollTop-=r.top-n.top:n.bottom>r.bottom&&(e.list.scrollTop+=n.bottom-r.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}},{key:"sync",value:function(){var e=this.list.firstChild;function t(){var t=e;e=t.nextSibling,t.remove()}var n,r=E(this.items);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e)}}catch(a){r.e(a)}finally{r.f()}for(;e;)t()}},{key:"moveSelection",value:function(e){if(!(this.selectedIndex<0)){var t=ym(this.view.state.field(Sm).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:jm.of(t)})}}}],[{key:"open",value:function(t){return new e(t)}}]),e}();function Im(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'viewBox="0 0 40 40"';return'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" '.concat(t,">").concat(encodeURIComponent(e),"</svg>')")}function zm(e){return Im('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(e,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}var Bm=Ms.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:zm("#d11")},".cm-lintRange-warning":{backgroundImage:zm("orange")},".cm-lintRange-info":{backgroundImage:zm("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});var Fm=function(e){void 0===e&&(e={});var t=[];!1!==e.closeBracketsKeymap&&(t=t.concat(om)),!1!==e.defaultKeymap&&(t=t.concat(pd)),!1!==e.searchKeymap&&(t=t.concat(cp)),!1!==e.historyKeymap&&(t=t.concat(vh)),!1!==e.foldKeymap&&(t=t.concat(tf)),!1!==e.completionKeymap&&(t=t.concat(pm)),!1!==e.lintKeymap&&(t=t.concat(_m));var n=[];return!1!==e.lineNumbers&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[uu.of(e),tu(),hu]}()),!1!==e.highlightActiveLineGutter&&n.push(mu),!1!==e.highlightSpecialChars&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[pl.of(e),vl()]}()),!1!==e.history&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[eh,Zf.of(e),Ms.domEventHandlers({beforeinput:function(e,t){var n="historyUndo"==e.inputType?nh:"historyRedo"==e.inputType?rh:null;return!!n&&(e.preventDefault(),n(t))}})]}()),!1!==e.foldGutter&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign(Object.assign({},sf),e),n=new lf(t,!0),r=new lf(t,!1),i=ha.fromClass(function(){function e(t){h(this,e),this.from=t.viewport.from,this.markers=this.buildMarkers(t)}return v(e,[{key:"update",value:function(e){(e.docChanged||e.viewportChanged||e.startState.facet(_c)!=e.state.facet(_c)||e.startState.field(Yc,!1)!=e.state.field(Yc,!1)||xc(e.startState)!=xc(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}},{key:"buildMarkers",value:function(e){var t,i=new pr,a=E(e.viewportLineBlocks);try{for(a.s();!(t=a.n()).done;){var o=t.value,s=Xc(e.state,o.from,o.to)?r:$c(e.state,o.from,o.to)?n:null;s&&i.add(o.from,o.from,s)}}catch(l){a.e(l)}finally{a.f()}return i.finish()}}]),e}()),a=t.domEventHandlers;return[i,Zl({class:"cm-foldGutter",markers:function(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.markers)||hr.empty},initialSpacer:function(){return new lf(t,!1)},domEventHandlers:Object.assign(Object.assign({},a),{click:function(e,t,n){if(a.click&&a.click(e,t,n))return!0;var r=Xc(e.state,t.from,t.to);if(r)return e.dispatch({effects:Jc.of(r)}),!0;var i=$c(e.state,t.from,t.to);return!!i&&(e.dispatch({effects:Gc.of(i)}),!0)}})}),af()]}()),!1!==e.drawSelection&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Xs.of(e),el,nl,il,aa.of(!0)]}()),!1!==e.dropCursor&&n.push([ol,sl]),!1!==e.allowMultipleSelections&&n.push(or.allowMultipleSelections.of(!0)),!1!==e.indentOnInput&&n.push(or.transactionFilter.of((function(e){if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;var t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;var n=e.newDoc,r=e.newSelection.main.head,i=n.lineAt(r);if(r>i.from+200)return e;var a=n.sliceString(i.from,r);if(!t.some((function(e){return e.test(a)})))return e;var o,s=e.state,l=-1,u=[],c=E(s.selection.ranges);try{for(c.s();!(o=c.n()).done;){var f=o.value.head,h=s.doc.lineAt(f);if(h.from!=l){l=h.from;var d=Pc(s,h.from);if(null!=d){var p=/^\s*/.exec(h.text)[0],m=Dc(s,d);p!=m&&u.push({from:h.from,to:h.from+p.length,insert:m})}}}}catch(v){c.e(v)}finally{c.f()}return u.length?[e,{changes:u,sequential:!0}]:e}))),!1!==e.syntaxHighlighting&&n.push(pf(gf,{fallback:!0})),!1!==e.bracketMatching&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[wf.of(e),Ef]}()),!1!==e.closeBrackets&&n.push([am,em]),!1!==e.autocompletion&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Up,Mp.of(e),Gp,mm,Jp]}()),!1!==e.rectangularSelection&&n.push(function(e){var t=(null===e||void 0===e?void 0:e.eventFilter)||function(e){return e.altKey&&0==e.button};return Ms.mouseSelectionStyle.of((function(e,n){return t(n)?Sl(e,n):null}))}()),!1!==e.crosshairCursor&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u(Cl[e.key||"Alt"],2),n=t[0],r=t[1],i=ha.fromClass(function(){function e(t){h(this,e),this.view=t,this.isDown=!1}return v(e,[{key:"set",value:function(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}}]),e}(),{eventHandlers:{keydown:function(e){this.set(e.keyCode==n||r(e))},keyup:function(e){e.keyCode!=n&&r(e)||this.set(!1)},mousemove:function(e){this.set(r(e))}}});return[i,Ms.contentAttributes.of((function(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.isDown)?El:null}))]}()),!1!==e.highlightActiveLine&&n.push(xl),!1!==e.highlightSelectionMatches&&n.push(function(e){var t=[Id,Ld];return e&&t.push(Od.of(e)),t}()),e.tabSize&&"number"===typeof e.tabSize&&n.push(Ac.of(" ".repeat(e.tabSize))),n.concat([Is.of(t.flat())]).filter(Boolean)},Wm="#e5c07b",Vm="#e06c75",Hm="#56b6c2",qm="#ffffff",Um="#abb2bf",$m="#7d8799",Km="#61afef",Gm="#98c379",Jm="#d19a66",Qm="#c678dd",Ym="#21252b",Xm="#2c313a",Zm="#282c34",ev="#353a42",tv="#3E4451",nv="#528bff",rv=[Ms.theme({"&":{color:Um,backgroundColor:Zm},".cm-content":{caretColor:nv},".cm-cursor, .cm-dropCursor":{borderLeftColor:nv},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:tv},".cm-panels":{backgroundColor:Ym,color:Um},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:Zm,color:$m,border:"none"},".cm-activeLineGutter":{backgroundColor:Xm},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:ev},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:ev,borderBottomColor:ev},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Xm,color:Um}}},{dark:!0}),pf(cf.define([{tag:vc.keyword,color:Qm},{tag:[vc.name,vc.deleted,vc.character,vc.propertyName,vc.macroName],color:Vm},{tag:[vc.function(vc.variableName),vc.labelName],color:Km},{tag:[vc.color,vc.constant(vc.name),vc.standard(vc.name)],color:Jm},{tag:[vc.definition(vc.name),vc.separator],color:Um},{tag:[vc.typeName,vc.className,vc.number,vc.changed,vc.annotation,vc.modifier,vc.self,vc.namespace],color:Wm},{tag:[vc.operator,vc.operatorKeyword,vc.url,vc.escape,vc.regexp,vc.link,vc.special(vc.string)],color:Hm},{tag:[vc.meta,vc.comment],color:$m},{tag:vc.strong,fontWeight:"bold"},{tag:vc.emphasis,fontStyle:"italic"},{tag:vc.strikethrough,textDecoration:"line-through"},{tag:vc.link,color:$m,textDecoration:"underline"},{tag:vc.heading,fontWeight:"bold",color:Vm},{tag:[vc.atom,vc.bool,vc.special(vc.variableName)],color:Jm},{tag:[vc.processingInstruction,vc.string,vc.inserted],color:Gm},{tag:vc.invalid,color:qm}]))];function iv(e){var n=e.value,r=e.selection,i=e.onChange,a=e.onStatistics,o=e.onCreateEditor,s=e.onUpdate,l=e.extensions,c=void 0===l?[]:l,f=e.autoFocus,d=e.theme,p=void 0===d?"light":d,m=e.height,g=void 0===m?"":m,y=e.minHeight,b=void 0===y?"":y,x=e.maxHeight,w=void 0===x?"":x,k=e.placeholder,j=void 0===k?"":k,S=e.width,C=void 0===S?"":S,E=e.minWidth,T=void 0===E?"":E,M=e.maxWidth,_=void 0===M?"":M,N=e.editable,A=void 0===N||N,O=e.readOnly,D=void 0!==O&&O,P=e.indentWithTab,R=void 0===P||P,L=e.basicSetup,I=void 0===L||L,z=e.root,B=e.initialState,F=u((0,t.useState)(),2),W=F[0],V=F[1],H=u((0,t.useState)(),2),q=H[0],U=H[1],$=u((0,t.useState)(),2),K=$[0],G=$[1],J=Ms.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Q=Ms.theme({"&":{height:g,minHeight:b,maxHeight:w,width:C,minWidth:T,maxWidth:_}}),Y=Ms.updateListener.of((function(e){if(e.docChanged&&"function"===typeof i){var t=e.state.doc.toString();i(t,e)}a&&a(function(e){return{line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map((function(t){return e.state.sliceDoc(t.from,t.to)})),selectedText:e.state.selection.ranges.some((function(e){return!e.empty}))}}(e))})),X=[Y,Q];switch(R&&X.unshift(Is.of([md])),I&&("boolean"===typeof I?X.unshift(Fm()):X.unshift(Fm(I))),j&&X.unshift(function(e){return ha.fromClass(function(){function t(n){h(this,t),this.view=n,this.placeholder=Wi.set([Wi.widget({widget:new wl(e),side:1}).range(0)])}return v(t,[{key:"decorations",get:function(){return this.view.state.doc.length?Wi.none:this.placeholder}}]),t}(),{decorations:function(e){return e.decorations}})}(j)),p){case"light":X.push(J);break;case"dark":X.push(rv);break;case"none":break;default:X.push(p)}return!1===A&&X.push(Ms.editable.of(!1)),D&&X.push(or.readOnly.of(!0)),s&&"function"===typeof s&&X.push(Ms.updateListener.of(s)),X=X.concat(c),(0,t.useEffect)((function(){if(W&&!K){var e={doc:n,selection:r,extensions:X},t=B?or.fromJSON(B.json,e,B.fields):or.create(e);if(G(t),!q){var i=new Ms({state:t,parent:W,root:z});U(i),o&&o(i,t)}}return function(){q&&(G(void 0),U(void 0))}}),[W,K]),(0,t.useEffect)((function(){return V(e.container)}),[e.container]),(0,t.useEffect)((function(){return function(){q&&(q.destroy(),U(void 0))}}),[q]),(0,t.useEffect)((function(){f&&q&&q.focus()}),[f,q]),(0,t.useEffect)((function(){q&&q.dispatch({effects:Gn.reconfigure.of(X)})}),[p,c,g,b,w,C,T,_,j,A,D,R,I,i,s]),(0,t.useEffect)((function(){var e=q?q.state.doc.toString():"";q&&n!==e&&q.dispatch({changes:{from:0,to:e.length,insert:n||""}})}),[n,q]),{state:K,setState:G,view:q,setView:U,container:W,setContainer:V}}var av=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],ov=(0,t.forwardRef)((function(e,n){var r=e.className,i=e.value,a=void 0===i?"":i,o=e.selection,s=e.extensions,l=void 0===s?[]:s,u=e.onChange,c=e.onStatistics,f=e.onCreateEditor,h=e.onUpdate,d=e.autoFocus,p=e.theme,m=void 0===p?"light":p,v=e.height,g=e.minHeight,y=e.maxHeight,b=e.width,x=e.minWidth,w=e.maxWidth,k=e.basicSetup,j=e.placeholder,S=e.indentWithTab,C=e.editable,E=e.readOnly,T=e.root,M=e.initialState,_=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,av),N=(0,t.useRef)(null),A=iv({container:N.current,root:T,value:a,autoFocus:d,theme:m,height:v,minHeight:g,maxHeight:y,width:b,minWidth:x,maxWidth:w,basicSetup:k,placeholder:j,indentWithTab:S,editable:C,readOnly:E,selection:o,onChange:u,onStatistics:c,onCreateEditor:f,onUpdate:h,extensions:l,initialState:M}),O=A.state,D=A.view,P=A.container;A.setContainer;if((0,t.useImperativeHandle)(n,(function(){return{editor:N.current,state:O,view:D}}),[N,P,O,D]),"string"!==typeof a)throw new Error("value must be typeof string but got "+typeof a);var R="string"===typeof m?"cm-theme-"+m:"cm-theme";return(0,Je.jsx)("div",Dt({ref:N,className:R+(r?" "+r:"")},_))}));ov.displayName="CodeMirror";var sv,lv=ov,uv=function(e){var t=e.theme,n=e.settings,r=e.styles,i={"&":{backgroundColor:n.background,color:n.foreground},".cm-gutters":{}};n.fontFamily&&(i["&.cm-editor .cm-scroller"]={fontFamily:n.fontFamily}),n.gutterBackground&&(i[".cm-gutters"].backgroundColor=n.gutterBackground),n.gutterForeground&&(i[".cm-gutters"].color=n.gutterForeground),n.gutterBorder&&(i[".cm-gutters"].borderRightColor=n.gutterBorder),n.caret&&(i[".cm-content"]={caretColor:n.caret},i[".cm-cursor, .cm-dropCursor"]={borderLeftColor:n.caret});var a={};return n.gutterActiveForeground&&(a.color=n.gutterActiveForeground),n.lineHighlight&&(i[".cm-activeLine"]={backgroundColor:n.lineHighlight},a.backgroundColor=n.lineHighlight),i[".cm-activeLineGutter"]=a,n.selection&&(i["&.cm-focused .cm-selectionBackground, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={backgroundColor:n.selection}),n.selectionMatch&&(i["& .cm-selectionMatch"]={backgroundColor:n.selectionMatch}),[Ms.theme(i,{dark:"dark"===t}),pf(cf.define(r))]},cv=function(e){var t=e||{},n=t.theme,r=void 0===n?"dark":n,i=t.settings,a=void 0===i?{}:i,o=t.styles,s=void 0===o?[]:o;return uv({theme:r,settings:Dt({background:"#272822",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#49483E",selectionMatch:"#49483E",gutterBackground:"#272822",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"},a),styles:[{tag:[vc.comment,vc.documentMeta],color:"#8292a2"},{tag:[vc.number,vc.bool,vc.null,vc.atom],color:"#ae81ff"},{tag:[vc.attributeValue,vc.className,vc.name],color:"#e6db74"},{tag:[vc.propertyName,vc.attributeName],color:"#a6e22e"},{tag:[vc.variableName],color:"#9effff"},{tag:[vc.squareBracket],color:"#bababa"},{tag:[vc.string,vc.special(vc.brace)],color:"#e6db74"},{tag:[vc.regexp,vc.className,vc.typeName,vc.definition(vc.typeName)],color:"#66d9ef"},{tag:[vc.definition(vc.variableName),vc.definition(vc.propertyName),vc.function(vc.variableName)],color:"#fd971f"},{tag:[vc.keyword,vc.definitionKeyword,vc.modifier,vc.tagName,vc.angleBracket],color:"#f92672"}].concat(f(s))})}(),fv="\n# Interprets MSNScript\n\n\nimport os\nimport time\n\n# Timer class\nclass Timer:\n    def __init__(self):\n        self.start = time.time()\n    def elapsed(self):\n        return time.time() - self.start\n\n\n\n\n\n# --------------------------------------------------------\n\n\n\nclass Interpreter:\n    # execution message\n    exemsg = ''\n\n    # script version\n    version = 1.0\n\n    # variables\n    vars = {}\n\n    # methods\n    methods = {}\n    loggedmethod = []\n\n    # objects\n    objects = {}\n\n    def __init__(self, script):\n        self.script = script\n        self.vars = {}\n        self.methods = {}\n        self.loggedmethod = []\n        self.objects = {}\n        self.version = 1.0\n\n    def verify(self, script):\n        timer = Timer()\n        ec = 0\n        em = 'No error'\n        lines = script.split('\\n')\n        lines = [i for i in lines if i]\n\n        # TODO perform verification\n\n        elapsed = timer.elapsed() * 1000\n        return lines, (ec, em), elapsed\n\n    def exe(self, script):\n        os.system('cls' if os.name == 'nt' else 'clear')\n        self.exemsg += (f'MSNScript v{self.version}\\n')\n        lines = self.verify(script)\n        ec = lines[1][0]\n        em = lines[1][1]\n\n        if ec != 0:\n            return f'Compilation Error {ec}: {em}'\n        self.exemsg += ('Executing...\\n')\n        self.exemsg += ('~~~~~~~~~~OUT~BEGIN~~~~~~~~~~\\n')\n\n        ran = 0\n        inbacktick = False\n        backtickline = ''\n        # for each line of code\n        for line in lines[0]:\n            if not line.lstrip().startswith('::'):\n                seqlines = line.split('|')\n                for seqline in seqlines:\n                    if not inbacktick and seqline.replace(' ', '').startswith('$$'):\n                        inbacktick = True\n                        backtickline += seqline.replace('$$', '')\n                    elif inbacktick and seqline.replace(' ', '').startswith('$$'):\n                        inbacktick = False\n                        self.interpret(backtickline)\n                        ran += 1\n                        backtickline = ''\n                    elif inbacktick:\n                        backtickline += seqline\n                    else:\n                        self.interpret(seqline)\n                        ran += 1\n                        \n\n        self.exemsg += ('~~~~~~~~~~~OUT~END~~~~~~~~~~~\\n')\n        self.exemsg += f\"\"\"    variables:\\n\"\"\"\n        for var in self.vars:\n            self.exemsg += f\"\"\"\\t{var} ({str(type(self.vars[var]))}): {self.vars[var]}\\n\"\"\"\n        self.exemsg += f\"\"\"    methods:\\n\"\"\"\n        for method in self.methods:\n            self.exemsg += f\"\"\"\\t{method}\\n\"\"\"\n        self.exemsg += f\"\"\"    objects:\\n\"\"\"\n        for o in self.objects:\n            self.exemsg += f\"\"\"\\t{o}: vars: {len(self.objects[o].vars)}, methods: {len(self.objects[o].methods)}\\n\"\"\"\n        return self.exemsg, ran, lines[2]\n\n    def interpret(self, line):\n        element = ''\n        variable = ''\n\n        for i in range(0, len(line)):\n            c = line[i]\n            if c != ' ':\n                if c == '+' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n\n                    # if element is a number\n                    if isinstance(element, float) or isinstance(element, int):\n                        value = element\n                        self.vars[variable] += self.evaluate(element, 'number')\n                    # if element is a string\n                    elif isinstance(element, str):\n                        try:\n                            self.vars[variable] += self.evaluate(element, 'string')\n                        except:\n                            try:\n                                self.vars[variable] += self.evaluate(element, 'number')\n                            except TypeError:\n                                self.exemsg += \"Runtime Error: Out Of Bounds: \" + element + '\\n'\n                                \n                    break\n                elif c == '-' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n                    self.vars[variable] -= self.evaluate(element, 'number')\n                    break\n                elif c == '*' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n                    self.vars[variable] *= self.evaluate(element, 'number')\n                    break\n                elif c == '/' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n                    self.vars[variable] /= self.evaluate(element, 'number')\n                    break\n                elif c == '=':\n                    variable = element\n                    element = ''\n                    string = False\n                    array = False\n                    for j in range(i+1, len(line)):   \n                        if line[j] == '\"':\n                            string = True\n                        if line[j] == '[':\n                            array = True                     \n                        element += line[j]\n                    if string:\n                        self.vars[variable] = self.evaluate(element, 'string')\n                    elif array:\n                        self.vars[variable] = self.evaluate(element, 'array')\n                    else:\n                        self.vars[variable] = self.evaluate(element, 'number')\n                    break\n                elif c=='.':\n                    variable = element\n                    element = ''\n                    self.method(variable, line, i)\n                    break\n                elif c == '~':\n                    returnvariable = ''\n                    self.loggedmethod.append('')\n                    for j in range(i + 1, len(line)):\n                        if line[j] != ' ':\n                            if line[j] == '(':\n                                args = self.get_args(line, j)\n                                for k in range(args[1], len(line)):\n                                    if line[k] != ' ':\n                                        if line[k] == '-' and line[k + 1] == '>':\n                                            for l in range(k + 2, len(line)):\n                                                if line[l] != ' ':\n                                                    returnvariable += line[l]\n                                break\n                            self.loggedmethod[-1] += line[j]\n                    if self.loggedmethod[-1] not in self.methods.keys():\n                        self.methods[self.loggedmethod[-1]] = self.Method(self.loggedmethod[-1], self)\n                    else:\n                        break\n                    for arg in args[0]:\n                        if arg != '':\n                            self.vars[arg] = None\n                            self.methods[self.loggedmethod[-1]].add_arg(arg)\n                    self.methods[self.loggedmethod[-1]].add_return(returnvariable)\n                    self.methods[self.loggedmethod[-1]].update_interpreter(self)\n                    break\n                elif element == 'done':\n                    try:\n                        self.methods[self.loggedmethod[-1]].ended = True\n                    except:\n                        None\n                    try:\n                        self.loggedmethod.remove(self.loggedmethod[-1])\n                    except:\n                        None\n                    break\n                elif c=='>':\n                    line = line[i + 1:]\n                    try:\n                        if not self.methods[self.loggedmethod[-1]].ended:\n                            self.methods[self.loggedmethod[-1]].add_body(line)\n                    except:\n                        None\n                    break\n                elif element == 'print':\n                    self.exemsg += self.evaluate(line[i:], 'string') + '\\n'\n                    break\n                elif \"{\" in element and \"}\" in element:\n                    if \":\" not in element:\n                        expression = element.replace(\"{\", '').replace(\"}\", '')\n                        willrun = self.boolean(expression)\n                        \n                        if willrun:\n                            line = line[line.index(\"}\") + 1:]\n                            self.interpret(line)\n                    else:\n                        times = self.loop(element)\n                        first = times[0]\n                        last = times[1]\n                        optvar = times[2]\n                        try:\n                            first = self.vars[first]\n                        except: \n                            None\n                        try:\n                            last = self.vars[last]\n                        except:\n                            None\n                        first = int(first)\n                        last = int(last)\n                        if first <= last:\n                            for i in range(first, last):\n                                if optvar != '':\n                                    self.vars[optvar] = i\n                                self.interpret(line.replace(' ', '').replace(element, ''))\n                        else:\n                            for i in range(last, first):\n                                if optvar != '':\n                                    self.vars[optvar] = i\n                                self.interpret(line.replace(' ', '').replace(element, ''))\n                    break\n                elif element == '^^':\n                    self.methods[self.loggedmethod[-1]].run([])\n                    break\n                elif element == 'assert':\n                    expression = ''\n                    instring = False\n                    for j in range(i, len(line)):\n                        if line[j] == '\"' and instring:\n                            instring = False\n                        elif line[j] == '\"' and not instring:\n                            instring = True\n                        if instring:\n                            expression += line[j]\n                        elif line[j] != ' ':\n                            expression += line[j]\n                    if not self.boolean(expression):\n                        self.exemsg += f'assertion failed: {expression}\\n'\n                    break\n                elif element == 'run':\n                    l = line[i:]\n                    try:\n                        self.interpret (self.vars[l])\n                    except:\n                        try:\n                            self.interpret (string(l))\n                        except:\n                            self.interpret(l)\n                    break\n                else:\n                    element += c\n\n    def throw(self, msg):\n        raise Exception(self.evaluate(msg, 'string'))\n\n\n    def loop(self, section):\n        first = ''\n        last = ''\n        optvar = ''\n        optvarfound = False\n        for i in range(1, len(section)):\n            if section[i] == ':':\n                for j in range(i + 1, len(section)):\n                    if section[j] == ':':\n                        for k in range(j + 1, len(section)):\n                            if section[k] == '}':\n                                optvarfound = True\n                                break\n                            optvar += section[k]    \n                    if section[j] == '}':\n                        break\n                    if optvarfound:\n                        break\n                    last += section[j]\n                break\n            first += section[i]\n        return first, last, optvar\n\n\n    def boolean(self, expression):\n        first = ''\n        last = ''\n        op = ''\n        for i in range(0, len(expression)):\n            if  expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] != '-' and expression[i + 2] != '+':\n                for j in range(i + 2, len(expression)):\n                    last += expression[j]\n                op = '==' \n                break\n            elif expression[i] == '!' and expression[i + 1] == '&' and expression[i + 2] == '&'  and expression[i + 3] != '-' and expression[i + 3] != '+':\n                for j in range(i + 3, len(expression)):\n                    last += expression[j]\n                op = '!=' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '-' and expression[i + 3] != 'e':\n                for j in range(i + 3, len(expression)):\n                    last += expression[j]\n                op = '<' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '+' and expression[i + 3] != 'e':\n                for j in range(i + 3, len(expression)):\n                    last += expression[j]\n                op = '>' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '-' and expression[i + 3] == 'e':\n                for j in range(i + 4, len(expression)):\n                    last += expression[j]\n                op = '<=' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '+' and expression[i + 3] == 'e':\n                for j in range(i + 4, len(expression)):\n                    last += expression[j]\n                op = '>=' \n                break\n            else:\n                first += expression[i]\n        \n        try:\n            firsteval = self.vars[first]\n        except KeyError:\n            firsteval = self.evaluate(first, 'string')\n\n        try:\n            lasteval = self.vars[last]\n        except KeyError:\n            lasteval = self.evaluate(last, 'string')\n\n        if op == '==':\n            return firsteval == lasteval\n        if op == '!=':\n            return firsteval != lasteval\n        if op == '<':\n            return firsteval < lasteval\n        if op == '>':\n            return firsteval > lasteval\n        if op == '<=':\n            return firsteval <= lasteval\n        if op == '>=':\n            return firsteval >= lasteval\n        return False\n\n    def method(self, variable, line, i):\n        method = ''\n        for j in range(i + 1, len(line) - 1): \n            if line[j] != ' ':\n                if line[j] == '(':\n                    if variable == 'System':\n                        self.system(line, self.get_args(line, j), method)\n                        break\n                    if variable == 'Local':\n                        self.local(line, self.get_args(line, j), method)\n                        break\n                    if variable == 'Boolean':\n                        self.bool(line, self.get_args(line, j), method)\n                    if variable == 'Object':\n                        self.obj(line, self.get_args(line, j), method)\n                    # ARRAYS\n                    if method == 'add':\n                        args = self.get_args(line, j)\n                        for arg in args[0]:\n                            try:\n                                self.vars[variable].append(self.evaluate(arg, \"string\"))\n                            except:\n                                self.vars[variable].append(self.evaluate(arg, \"number\"))\n                        break\n                    # ARRAYS\n                    elif method == 'remove':\n                        args = self.get_args(line, j)\n                        ret = 0\n                        try:\n                            for arg in args[0]:\n                                evaluation = self.evaluate(arg, \"string\")\n                                self.vars[variable].remove(evaluation)\n                            ret = 1\n                        except:\n                            ret = 0\n\n                        # if function has a return value\n                        # use ret as the return value\n                        self.store(line, args[1], ret)\n                        break\n\n                    # ARRAYS\n                    elif method == 'clear':\n                        self.vars[variable] = []\n                        break\n                    # ARRAYS\n                    elif method == 'reverse':\n                        self.store(line, self.get_args(line, j)[1], self.vars[variable][::-1])\n                        break\n                    # ARRAYS, STRINGS\n                    elif method == 'length':\n                        self.store(line, self.get_args(line, j)[1], len(self.vars[variable]))\n                        break\n\n                    # ARRAYS, STRINGS\n                    elif method == 'get':\n                        args = self.get_args(line, j)\n                        try:\n                            self.store(line, args[1], self.vars[variable][int(self.evaluate(args[0][0], 'number'))])\n                        except:\n                            # if variable is a dict, get the value of the key and store it\n                            if isinstance(self.vars[variable], dict):\n                                try:\n                                    self.store(line, args[1], self.vars[variable][self.evaluate(args[0][0], 'string')])\n                                except:\n                                    self.store(line, args[1], None)\n                        break\n\n                    # ARRAYS, STRINGS\n                    elif method == 'set':\n                        args = self.get_args(line, j)\n                        try:\n                            self.vars[variable][int(self.evaluate(args[0][0], 'number'))] = self.evaluate(args[0][1], 'unknown')\n                        except:\n                            self.vars[variable][int(self.evaluate(args[0][0], 'number'))] = self.evaluate(args[0][1], 'string')\n                    elif method == 'put':\n                        args = self.get_args(line, j)\n                        key = self.evaluate(args[0][0], 'string')\n                        value = self.evaluate(args[0][1], 'unknown')\n                        self.vars[variable][key] = value\n                    # STRINGS\n                    elif method == 'replace':\n                        args = self.get_args(line, j)\n                        self.store(line, args[1], self.vars[variable].replace(self.evaluate(args[0][0], 'string'), self.evaluate(args[0][1], 'string')))\n                        break\n                    elif method == 'each':\n                        args = self.get_args (line, j)[0]\n                        for i in range(1, len(args)):\n                            l = args[i]\n                            if l[0] =='\"':\n                                l = l[1:]\n                            if l[-1] == '\"':\n                                l = l[0:len(l) - 1]\n                            copy = self.vars[variable].copy()\n                            for el in copy:\n                                self.vars[args[0]] = el\n                                try:\n                                    self.interpret(self.vars[l])\n                                except:\n                                    self.interpret(l)\n                            del self.vars[args[0]]\n                    elif method == 'copy':\n                        args = self.get_args (line, j)\n                        self.store(line, args[1], self.vars[variable].copy())\n                \n                    elif variable in self.objects.keys():\n                        self.get_args(line, j)\n                        self.obj (line, (self.get_args(line, j), variable), method)\n                        break\n                            \n                method += line[j]\n\n    def get_args(self, line, j):\n        argstring = ''\n        instring = False\n        for k in range(j + 1, len(line)):\n            if line[k] == '\"' and not instring:\n                instring = True\n            elif line[k] == '\"' and instring:\n                instring = False\n            if not instring:\n                if line[k] != ' ':\n                    if line[k] == ')':\n                        break\n                    argstring += line[k]\n            else:\n                argstring += line[k]\n        return argstring.split(','), k\n\n        \n    def store(self, line, k, ret):\n        location = ''\n        for i in range(k + 1, len(line)):\n            if line[i] != ' ':\n                if line[i] == '-' and line[i + 1] == '>':\n                    for j in range(i + 2, len(line)):\n                        if line[j] != ' ':\n                            location += line[j]\n                    self.vars[location] = ret\n                    break\n        return ret\n\n    import re\n\n    def findall(sub, string):\n        \"\"\"\n        >>> text = \"Allowed Hello Hollow\"\n        >>> tuple(findall('ll', text))\n        (1, 10, 16)\n        \"\"\"\n        index = 0 - len(sub)\n        try:\n            while True:\n                index = string.index(sub, index + len(sub))\n                yield index\n        except ValueError:\n            pass\n\n    def evaluate(self, postop, type):\n        new = postop\n        \n        if type == 'number':\n            new = self.replace(new) \n            try:\n                return eval(new)\n            except:\n                return eval('\"' + new + '\"')\n        elif type == 'string':\n            return self.string(postop)\n        elif type == 'array':\n            return self.array(postop)\n        elif type == 'unknown':\n            new = self.replace(new) \n            try:\n                evaluation = eval(str(self.string(new)))\n            except:\n                try:\n                    evaluation = self.array(self.vars[new])\n                except:\n                    try:\n                        evaluation = self.vars[self.string(eval(new))]\n                    except:\n                        try:\n                            evaluation = eval(new)\n                        except:\n                            evaluation = new\n            return evaluation\n                \n    def replace(self, new):\n\n        # decending required to avoid variable replacement complications with\n        # substring variables\n        \n        decendinglength = list(self.vars.keys())\n        decendinglength.sort(key=len, reverse=True)\n        for var in decendinglength:\n            new = new.replace(var, str(self.vars[var]))\n        return new\n\n\n    def string(self, string):\n        strn = ''\n        isv = False\n        try:\n            string = self.vars[string]\n            isv = True\n        except KeyError:\n            None\n\n        if isv and '\"' not in string:\n            string = '\"' + string + '\"'\n\n        \n        try:\n            strn = eval(string);\n        except:\n            None\n        try:\n            for var in self.vars:\n                strn = strn.replace(\"{\" + var + \"}\", str(self.vars[var]))\n                strn = strn.replace('<' + var + '>', '\"' + str(var) + '\"')\n            for obj in self.objects.keys():\n                strn = strn.replace(\"{\" + obj + \"}\", str(self.objects[obj].vars) + str(self.objects[obj].methods))\n            for method in self.methods.keys():\n                toprint = ''\n                body = self.methods[method].body\n                for line in body:\n                    toprint += line + '\\n'\n                strn = strn.replace(\"{\" + method + \"}\", toprint)\n        except:\n            None\n        return strn\n\n    def array(self, postop):\n        array = []\n        try:\n            array = eval(postop)\n        except:\n            None\n        return array\n\n    def system(self, line, args, method):\n        if method == 'print':\n            for arg in args[0]:\n                self.exemsg += self.evaluate(arg, 'string') + '\\n'\n        if method == 'destroy':\n            for arg in args[0]:\n                try:\n                    del self.vars[arg]\n                    self.store(line, args[1], 1)\n                except:\n                    None\n                    self.store(line, args[1], 0)\n                try:\n                    if arg == '__':\n                        removing = []\n                        for var in self.vars:\n                            if var.startswith('__'):\n                                removing.append(var)\n                        for var in removing:\n                            del self.vars[var]\n                        removemethods = []\n                        for var in self.methods:\n                            if var.startswith('__'):\n                                removemethods.append(var)\n                        for var in removemethods:\n                            del self.methods[var]\n                except:\n                    None\n                try:\n                    del self.methods[arg]\n                    \n                except:\n                    None\n                try:\n                    del self.objects[arg]\n                except:\n                    None\n        if method == 'verify':\n            k = args[1]\n            args = args[0]\n            for arg in args:\n                self.interpret (self.string(arg) + \"=\" + self.vars[eval(arg)])\n        if method == 'throw':\n            self.throw(args[0][0])\n        if method == 'input':\n            ip = input(self.evaluate(args[0][0], 'string'))\n            try:\n                self.store(line, args[1], eval(ip))\n            except:\n                self.store(line, args[1], ip)\n\n    def local(self, line, args, method):\n        self.methods[method].run(args[0])\n        try:\n            self.store(line, args[1], self.vars[self.methods[method].returns[0]])\n        except:\n            self.vars[self.methods[method].returns[0]] = None\n            self.store(line, args[1], self.vars[self.methods[method].returns[0]])\n\n    def bool(self, line, args, method):\n        expressions = []\n        if method == 'eval':\n            expression = args[0][0]\n            try:\n                self.store(line, args[1], self.boolean(self.vars[expression]))\n            except:    \n                self.store(line, args[1], self.boolean(expression))\n            return\n        if method == 'and':\n            for arg in args[0]:\n                try:\n                    expressions.append(eval(str(arg)))\n                except:\n                    expressions.append(self.vars[arg])\n            for exp in expressions:\n                if exp == False:\n                    self.store(line, args[1], False)\n                    return\n        if method == 'or':\n            for arg in args[0]:\n                try:\n                    expressions.append(eval(str(arg)))\n                except:\n                    expressions.append(self.vars[arg])\n            for exp in expressions:\n                if exp == True:\n                    self.store(line, args[1], True)\n                    return\n            self.store(line, args[1], False)\n            return\n        if method == 'not':\n            arg = args[0][0]\n            try:\n                self.store(line, args[1], not eval(str(arg)))\n            except:\n                self.store(line, args[1], not self.vars[arg])\n            return\n\n        self.store(line, args[1], True)\n\n    def obj(self, line, args, method):\n        if method == 'new':\n            objname = self.evaluate(args[0][0], \"string\")\n            self.objects[objname] = self.Obj(objname, self)\n        elif method == 'setattr':\n            dupset = args[0][0]\n            objname = str(args[1])\n            self.objects[objname].setat(self.evaluate(dupset[0], 'string'), self.evaluate(dupset[1], 'unknown'))\n        elif method == 'getattr':\n            dupset = args[0][0]\n            objname = str(args[1])\n            k = args[0][1]\n            self.store(line, k, self.objects[objname].getat(self.evaluate(dupset[0], 'string')))\n        elif method == 'has':\n            objname = args[1]\n            methodname = self.evaluate(args[0][0][0], \"string\")\n            self.objects[objname].add_method(methodname, self.methods[methodname])\n        elif method in self.objects[args[1]].methods:\n            k = args[0][1]\n            objname = args[1]\n            ret = self.objects[objname].run_method(method, args[0][0])\n            self.store(line, k, ret)\n\n\n    class Obj:\n        def __init__(self, name, interpreter):\n            self.name = name\n            self.vars = {}\n            self.objects = {}\n            self.methods = {}\n            self.supertype = None\n            self.interpreter = interpreter\n        \n        def setat(self, name, value):\n            self.vars[name] = value\n        \n        def getat(self, name):\n            return self.vars[name]\n\n        def add_method(self, name, method):\n            self.methods[name] = method\n\n        def get_method(self, name):\n            return self.methods[name]\n\n        def run_method(self, name, args):            \n            self.methods[name].run(args)\n            try:\n                return self.interpreter.vars[self.methods[name].returns[0]]\n            except:\n                return None\n\n    class Method:\n        def __init__(self, name, interpreter):\n            self.name = name\n            self.args = []\n            self.body = []\n            self.returns = []\n            self.ended = False\n            self.interpreter = interpreter\n\n        def add_arg(self, arg):\n            self.args.append(arg)\n\n        def add_body(self, body):\n            self.body.append(body)\n\n        def add_return(self, ret):\n            self.returns.append(ret)\n\n        def update_interpreter(self, interpreter):\n            self.interpreter = interpreter\n\n        def run(self, args):\n            for i in range(len(self.args)):\n                try:\n                    self.interpreter.vars[self.args[i]] = self.interpreter.vars[args[i]]\n                except:\n                    try: \n                        self.interpreter.vars[self.args[i]] = self.interpreter.evaluate(args[i], 'string')\n                    except:\n                        self.interpreter.vars[self.args[i]] = self.interpreter.evaluate(args[i], 'string')\n            for line in self.body:\n                self.interpreter.interpret(line)",hv={Integers:'integer = 3\ninteger += 3\ninteger2=5\ninteger=integer-integer2\n\n:: assertions verify a certain condition is true\nassert integer && 1\n\n:: you can print variables with the below syntax\nprint "integer is {integer}"\nprint "integer2 is {integer2}"\n\ninteger = 3\ninteger -= 1\ncheck_integer = 2\nassert integer && check_integer\n\n:: variables should be destroyed after use\nSystem.destroy(integer, integer2, check_integer)',Strings:'string = "Hello"\nstring2 = "World"\n\n:: note that strings must be within double quotes\n\n:: you can concatenate strings with the below syntax\nstring3 = "{string} {string2}"\nassert string3 && "Hello World"\nprint "{string3}"\n\n:: you can use $$ to span one instruction across multiple lines\n$$\nlongstring =\n"\nhey, how are you doing\n today? I\'m doing great, thanks!\n"\n$$\nprint "{longstring}"\nSystem.destroy(string, string2, string3, longstring)',Conditions:"integer = 5\n{integer && 5} integer -= 1\nassert integer && 4\n\n\n::    &&    :       equals\n::    &&-   :       less than\n::    &&+   :       greater than\n::    &&-e  :       less than / equal to\n::    &&+e  :       greater than / equal to\n::    !&&   :       not equal\n\n:: 'and' logic is simple to implement:\nboolean = True\nboolean2 = True\n\n{boolean&&True}{boolean2&&True}boolean=False\nassert boolean && False\n\n:: 'or' logic has been implemented via the 'Boolean' class of operations\nBoolean.or (boolean, boolean2)->result\nassert result && True\n\n:: the 'Boolean' class has several methods associated with it besides 'or'\nBoolean.and (boolean, boolean2)->result\nassert result && False\n\nBoolean.eval(0 && 1)->result\nassert result && False\n\n:: 'not' logic:\nboolean = True\nBoolean.not(boolean)->boolean \nassert boolean && False\n\nBoolean.not(boolean)->boolean\nassert boolean && True\n\n:: comparing values\nstring = \"this is a string\"\nstring.length()->length\nassert length && 16\n\nstring.get(0)->first_char\nassert first_char && \"t\"\n\ninteger = 5\ninteger2 = 10\n{integer2 &&+ integer}integer2 -= 1\nassert integer2 && 9\nSystem.destroy(integer, integer2, boolean, boolean2, string, length, first_char, result)",Loops:'integer = 0\n{0:10}integer+=1\nassert integer && 10\n\n:: loops allow for repetition of code\n:: loops can also incorporate a variable\nstring = ""\n{0:3:integer}string += "{integer}"\nassert string && "012"\n\n{0:5:integer}print "{integer}"\nSystem.destroy(integer, string)',Methods:"integer=0\n\n:: methods are defined with the below syntax\n~function()->ret\n>    integer+=1\n>    ret = integer\n\n:: functions can be invoked with the below syntax\nLocal.function()->result\nassert result && 1\n\n:: while a function does not have to utilize a return value, it must declare one with '->'\n:: a function's return value can have any name\n\ninteger += 2\n~ gen_string()->string\n>    string = \"\"\n>    {0:integer}string+=\"{integer}\"\n\n:: once invoked, the storage for a function's return value can have any name\nLocal.gen_string()->return_string\nassert return_string && \"333\"\n\n:: a void method can be utilized with the below syntax\n~ void_method()->nothing\n>    print \"this is a void method\"\nLocal.void_method()\n\n:: a function isn't required to have a name\ninteger = 0\n~()->result\n>    integer += 1\nLocal.()\nassert integer && 1\n\n:: the most recent function written can be invoked with the below syntax\n^^^\nassert integer && 2\n^^^|^^^\nassert integer && 4\n\n:: a function can incorporate parameters\n~ add(integer, integer2)->result\n>    result = integer + integer2\nLocal.add(1, 2)->result\nassert result && 3\n\n~ length_of(__array)->result\n>    __array.length()->result\n\n:: an array cannot be passed as a parameter, but it can be passed as a variable\narray = [1, 2, 3, 4, 5]\nLocal.length_of(array)->result\nassert result && 5\n\n:: when destroying, you can use '__' to destroy all variables prefixed with '__'\nSystem.destroy(integer, result, return_string, array, integer2, ret, string, nothing, __)\n\n:: you can also destroy functions with the below syntax\n\n:: destroying functions without a name:\nSystem.destroy()\n\n:: destroying functions with a name:\nSystem.destroy(function, gen_string, add, length_of, void_method)",Arrays:"array = []\n:: arrays are declared with the above syntax\n\narray methods are accessed the same as any other object\n\narray.add(3)\narray.add(4)\narray.add(5)\nassert array && [3, 4, 5]\n\narray.remove(4)\nassert array && [3, 5]\n\narray.get(0)->result\nassert result && 3\n\narray.length()->length\nassert length && 2\n\narray.reverse()->array\nassert array && [5, 3]\n\narray.copy()->array2\nassert array2 && [5, 3]\n\n:: the 'each' method allows for operations to be performed on each element of an array\narray = [1, 2, 3, 4, 5]\n\n:: there is no limit to the number of arguments to the 'each' method, however the first argument must be the current element\n:: while the rest are string representations of instructions\n\niterations = 0\n$$\narray.each (item, \n    \"print 'current item is {item}'\",\n    \"iterations += 1\"\n    )\n$$\nassert iterations && 5\n\n\n:: computing the sum of an array with functions\n\n~ sum (__array) -> result\n>    result = 0\n>    __array.each (item, \"result += item\")\n\nLocal.sum(array)->result\nassert result && 15\nSystem.destroy(array, array2, result, length, iterations, item, __, sum)",Nests:"array = [1, 2, 3, 4, 5]\n\n:: functions permit nested functions for subroutines\n\n:: computing the sum of an array with nested functions\n~ sum (__array) -> result\n>    result = 0\n>    __array.length()->__length\n>    ~(__index) ->_\n>    >    __array.get(__index)->__curr\n>    >    result += __curr\n\n:: nested functions should have closure via 'done_' to prevent execution issues\n>    >    done_\n>    {0:__length:__i}Local.(__i)\nLocal.sum(array)->result\nassert result && 15\n\n\n:: complex example\n~_()->__void\n>~__()->__void\n>   >   ~___()->__void\n>   >   >   ~____()->__void\n>   >   >   >   ~_____()->__void\n>   >   >   >   >   a += 1\n>   >   >   >   >   done_\n>   >   >   >   {0:2}Local._____()\n>   >   >   >   done_\n>   >   >   {0:2}Local.____()\n>   >   >   done_\n>   >   {0:2}Local.___()\n>   >   done_\n>   {0:2}Local.__()\n\n~()->__v\n>  a = 0\n>  Local._()\n>  assert a && 16\n\n{0:2}Local.()\nSystem.destroy(__,)\nSystem.destroy(array, result, _, sum)",Objects:'Object.new("List")\n:: declare a new object with the above syntax\n\n:: objects in MSNScript have attributes and methods\n:: add attributes with the below syntax\nlist = []\nList.setattr("list", list)\n\n:: methods are not unique to each object as of MSNScript 1.0\n~size()->result\n>    List.getattr("list")->__list\n>    __list.length()->result\n\n:: add methods to an object with the below syntax\nList.has("size")\n\n:: invoke object methods with the below syntax\nList.size()->result\nassert result && 0\n\n~append(item)->success\n>    List.getattr("list")->__list\n>    __list.add(item)\n>    List.setattr("list", __list)\nList.has("append")\n\nList.append(5)\nList.append(10)\nList.append(15)\nList.size()->result\nassert result && 3\nprint "List size is {result}"\n\n\n:: as of MSNSCRIPT 1.0, more than one instance of an object cannot be created at once,\n:: object serialization is planned for a future version\n\n:: you can destroy objects with the below syntax\nSystem.destroy(List, __, success, result, item, __list, list, size, append)',FizzBuzz:'\n~fizzbuzz(number)->nothing\n>   mod3 = number % 3 == 0\n>   mod5 = number % 5 == 0\n>   {mod3 && True} {mod5 && True} print "{number} : FizzBuzz"\n>   {mod3 && True} {mod5 && False} print "{number} : Fizz"\n>   {mod3 && False} {mod5 && True} print "{number} : Buzz"\n>   {mod3 && False} {mod5 && False} print "{number}"\n{1:20:i} Local.fizzbuzz(i)\n\nSystem.destroy(fizzbuzz, i, mod3, mod5, __, number, nothing)'};function dv(){return pv.apply(this,arguments)}function pv(){return(pv=Ot(Nt().mark((function e(){var t;return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.getElementById("out")).value="Preparing Python handler\n\nDo not execute...",e.next=4,window.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.21.0/full/"});case 4:return sv=e.sent,e.next=7,sv.runPython(fv);case 7:t.value="Ready for execution";case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.addEventListener("load",dv,!1),window.onload=dv();function mv(e){for(var t=document.getElementsByClassName("cm-content");t[0].firstChild;)t[0].removeChild(t[0].firstChild);for(var n=hv[e].split("\n"),r=0;r<n.length;r++){t=document.getElementsByClassName("cm-content")[0];var i=document.createElement("div");i.className="cm-line",i.innerText=n[r],t.appendChild(i)}}function vv(){var e=document.getElementsByClassName("cm-content")[0],t=document.getElementById("out");t.value="Preparing for launch...";for(var n="",r=0;r<e.childNodes.length;r++)"\n"!=e.childNodes[r].innerText&&""!=e.childNodes[r].innerText&&(r!=e.childNodes.length-1?n+=e.childNodes[r].innerText+"|":n+=e.childNodes[r].innerText);var i="sc = "+JSON.stringify(n);console.log(i),sv.runPython(i);try{sv.runPython("sc = "+JSON.stringify(n)),sv.runPython("\n        stdout, linesran, comptime = Interpreter(sc).exe(sc)\n    ")}catch(s){console.log(s),dv()}var a=sv.globals.toJs().get("stdout"),o=sv.globals.toJs().get("linesran");t.value=a+"\nran "+o+" line(s)\n\n"}var gv=function(){return(0,Je.jsxs)("div",{className:"msnscript1-div",children:[(0,Je.jsx)("style",{children:"@import url('https://fonts.googleapis.com/css2?family=Silkscreen:wght@700&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Rubik&display=swap');"}),(0,Je.jsx)("h1",{className:"msnscript-title",Style:"color: var(--darkpurple); margin-top: 0;",children:"<MSN>"}),(0,Je.jsx)("h3",{Style:"margin-top: 0; color: gray; font-size: 1rem",children:"stable release 1.0 : 8-19-22"}),(0,Je.jsxs)("div",{className:"msnscript1-body",children:[(0,Je.jsx)($e,{className:"download-button",to:"/github",Style:"color: white",children:"Back"}),(0,Je.jsx)($e,{className:"download-button",to:"/",Style:"color: white",children:"Home"})]}),(0,Je.jsxs)("div",{className:"msnscript1-yourself",children:[(0,Je.jsx)("h4",{Style:"color: gray",children:"Before running code, be sure to start MSNScript's backend handler"}),(0,Je.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--darkpurple); width: 14rem; height: 3rem; margin: 0; margin-bottom: 3rem",onClick:dv,children:"Start MSNScript Handler"}),(0,Je.jsxs)("div",{className:"msnscript1-textarea",children:[(0,Je.jsx)("h4",{Style:"color: gray",children:"Your MSNScript"}),(0,Je.jsxs)("div",{className:"msnscript1-coding",children:[(0,Je.jsx)(lv,{className:"msnscript1-code",theme:cv,height:"75%",id:"code",value:'print "Hello, World!"',highlightSelectionMatches:{minChars:2,showToken:/Hello/,style:"matchhighlight"}}),(0,Je.jsxs)("div",{className:"msnscript1-buttons",children:[(0,Je.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; width: 9rem; margin: 0;",onClick:vv,children:"Execute"}),(0,Je.jsx)("h4",{Style:"color: gray; margin-top: 2rem",children:"Pre-written code: "}),(0,Je.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return mv("Integers")},children:"Integers"}),(0,Je.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return mv("Strings")},children:"Strings"}),(0,Je.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return mv("Conditions")},children:"Conditions"}),(0,Je.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return mv("Loops")},children:"Loops"}),(0,Je.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return mv("Methods")},children:"Functions"}),(0,Je.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return mv("Arrays")},children:"Arrays"}),(0,Je.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return mv("Nests")},children:"Nests"}),(0,Je.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return mv("Objects")},children:"Objects"}),(0,Je.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return mv("FizzBuzz")},children:"FizzBuzz"})]})]})]}),(0,Je.jsx)("h4",{Style:"color: gray",children:"Out"}),(0,Je.jsx)("textarea",{id:"out",className:"msnscript1-out",readOnly:!0})]})]})};function yv(e){return(0,Je.jsxs)("div",{className:"msn2docs-div",children:[(0,Je.jsx)(Mt,{children:(0,Je.jsx)("h",{className:"msn2-title",style:{margin:"0 auto",marginBottom:"1rem",marginTop:"30vh"},children:e.title})}),(0,Je.jsxs)(Mt,{children:[(0,Je.jsx)("h1",{className:"msn2-ul",style:{color:"white",fontSize:"1.2rem"},children:(0,Je.jsx)("i",{children:e.subtitle})}),(0,Je.jsx)("h1",{className:"msn2-ul",style:{color:"white",fontSize:"1.2rem"},children:(0,Je.jsx)("i",{children:e.subtitle2})})]}),(0,Je.jsxs)("div",{className:"msn2-top-buttons-div",style:{marginBottom:"50vh"},children:[(0,Je.jsx)(Mt,{children:(0,Je.jsx)($e,{to:"/",className:"msn2-big-title",style:{color:"white",margin:0,marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Home"})}),(0,Je.jsx)(Mt,{children:(0,Je.jsx)($e,{to:e.back,className:"msn2-big-title",style:{color:"white",margin:0,marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Directory"})}),(0,Je.jsx)(Mt,{children:(0,Je.jsx)($e,{to:e.next,className:"msn2-big-title",style:{color:"white",margin:0,marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Next"})})]})]})}function bv(e){return(0,Je.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,Je.jsx)("h1",{className:"msn2-ul",style:{fontSize:"2rem",marginLeft:"10vw",marginRight:"10vw"},children:(0,Je.jsx)("i",{children:e.title})}),(0,Je.jsx)("p",{className:"msn2-ul",style:{fontSize:"1rem",marginLeft:"10vw",marginRight:"10vw"},children:e.subtitle}),(0,Je.jsx)("p",{className:"msn2-ul",style:{fontSize:"1rem",marginLeft:"10vw",marginRight:"10vw"},children:e.subtitle2})]})}function xv(){return(0,Je.jsxs)("div",{className:"msn2-direct-div",children:[(0,Je.jsx)("h1",{className:"msn2-ul",style:{fontSize:"2rem",margin:"0 auto"},children:(0,Je.jsx)("i",{children:"Directory"})}),(0,Je.jsxs)("p",{className:"msn2-ul",style:{fontSize:"1rem",margin:"0 auto"},children:["Find ",(0,Je.jsx)("i",{children:"MSN2"})," programming assistance here"]}),(0,Je.jsxs)("div",{className:"msn2-doc-buttons-div",children:[(0,Je.jsx)($e,{to:"/msn2basics",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Basics"}),(0,Je.jsx)($e,{to:"/msn2systemcalls",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"System Calls"}),(0,Je.jsx)($e,{to:"/msn2threads",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Threads"}),(0,Je.jsx)($e,{to:"/msn2apis",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"APIs"}),(0,Je.jsx)($e,{to:"/msn2redirection",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Redirection"}),(0,Je.jsx)($e,{to:"/msn2macros",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Macros"}),(0,Je.jsx)($e,{to:"/msn2examples",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",marginBottom:"10vh",fontSize:"2rem",textDecoration:"none"},children:"Examples"})]})]})}var wv,kv=function(){return(0,Je.jsxs)("div",{className:"msn2docs-div",children:[(0,Je.jsx)(yv,{title:"MSN2 Docs",subtitle:"Successor to MSNC and MSN1",subtitle2:"12/28/2022",back:"/github",next:"/msn2basics"}),(0,Je.jsx)(bv,{title:"MSN2: Your Programming Language",subtitle:"Never before seen syntactical advantages are just waiting to be discovered \r and shared as MSN2 grants you the ability to code as you see fit",subtitle2:"The below documentation features types, conditionals, loops, system calls, user defined functions,\r threads, processes, API requests, posts and deletions, API endpoint hosting with Flask, interpreter redirections, and different macro varieties for adjusting the language"}),(0,Je.jsx)(xv,{})]})},jv="\n# Interpreters MSNScript 2.0\n# Author : Mason Marker\n# Date : 09/15/2022\n\nimport os\nimport math\nimport shutil\nimport random\nimport time\nimport threading\nimport time\nimport logging\nimport socket\nimport sys\nimport io\nimport subprocess\n\nsys.stdout = io.StringIO()\n\nclass Err:\n    def __init__(self, errorcode):\n        self.errorcode = errorcode\n\n\nclass Var:\n\n    # constructs a new Var\n    def __init__(self, name, value):\n        self.name = name\n        self.value = value\n\n    # determines equality of another Var\n    def __eq__(self, other):\n        if isinstance(other, Var):\n            return other.name == self.name \n\n\n# creates an ai model \n# creates and returns a custom ai model\ndef ai_response(model, prompt, creativity):\n    return openai.Completion.create(\n        model=model,\n        prompt=prompt,\n        temperature=creativity\n    ).choices[0].text\n\n\n    \n# global vars\nlock = threading.Lock()\nauxlock = threading.Lock()\n\n# user defined syntax\nsyntax = {}\n\n# user defined enclosing syntax\nenclosed = {}\n\n# user defined macros\nmacros = {}\n\n# user defined post macros\n# aka macros that are defined that the end of a line\npostmacros = {}\n\n# user defined inline syntax\ninlines = {}\n\n# OpenAI model presets\nmodels = {\n    \n    # standard model, answers questions will little to no creativity\n    'basic': {'model': 'text-davinci-003', 'creativity': 0},\n    \n    # creative model, answers questions with creativity\n    'creative': {'model': 'text-davinci-003', 'creativity': 0.5},\n    \n    # advanced model, answers questions with high creativity\n    'advanced': {'model': 'text-davinci-003', 'creativity': 1}\n    \n}\n\n\n# accounting information\nlines_ran = []\ntotal_ints = 0\n\n\n\n\n# interprets MSNScript2, should create a new interpreter for each execution iteration\nclass Interpreter:\n\n    # initializer\n    def __init__(self):\n        self.version = 2.0\n        self.lines = []\n        self.out = ''\n        self.log = ''\n        self.errors = []\n\n        self.vars = {}\n        self.methods = {}\n        self.loggedmethod = []\n        self.objects = {}\n        self.calledmethod = None\n\n        self.current_line = 0\n        self.breaking = False\n        self.redirect = None\n        self.redirecting = False\n        self.redirect_inside = []\n        self.imports = set()\n\n        self.thread = None\n        self.threads = {}\n        self.parent = None\n\n        self.openaikey = None\n        self.tokens = 100\n        self.browser_path = None\n        self.serial_1 = 0\n        \n        self.endpoints = {}\n        self.endpoint_datas = {}\n        self.endpoint_path = 'demos/practical/apidata/apitestdata.csv'\n        \n        self.processes = {}\n        self.breaking_return = []\n\n    # executes stored script\n    def execute(self, script):\n\n        # convert script to lines\n        self.lines = list(filter(None, script.split(\"\\n\")))\n\n        # for aggregate syntax support !{}\n        inmultiline = False\n        multiline = ''\n\n        # for block syntax\n        inblock = False\n        p = 0\n\n        for line in self.lines:\n            line = line.strip()\n            if line.startswith(\"::\") or line.startswith(\"#\"):\n                self.current_line += 1\n                continue\n    \n            else:   \n                                    \n                # aggregate syntax !{} (not recommended for most cases)\n                if line.startswith('!{') and line.endswith('}'):\n                    multiline = line[2:-1]\n                    self.interpret(multiline)\n                    multiline = ''\n                elif not inmultiline and line.startswith(\"!{\"):\n                    inmultiline = True\n                    multiline += line[2:]\n                elif inmultiline and line.endswith(\"}\"):\n                    inmultiline = False\n                    multiline += line[0:len(line) - 1]\n                    self.interpret(multiline)\n                    multiline = ''\n                elif inmultiline:\n                    multiline += line\n\n                # block syntax (recommended for most cases)\n                elif not inblock and line.endswith('('):\n                    for c in line:\n                        if c == '(':\n                            p += 1\n                        if c == ')':\n                            p -= 1\n                        multiline += c\n                    inblock = True\n                elif inblock:\n                    for i in range(len(line)):\n                        c = line[i]\n                        if c == '(':\n                            p += 1\n                        if c == ')':\n                            p -= 1\n\n                        # end of syntax met                        \n                        if p == 0:\n                            multiline += line[i:]\n                            inter = multiline\n                            multiline = ''\n                            inblock = False\n                            self.interpret(inter)\n                            break\n                        multiline += c\n                else:\n                    self.interpret(line)\n                \n\n            self.current_line += 1\n        return self.out\n\n    def replace_vars(self, line):\n        boo = line \n        varnames = list(self.vars.keys())\n        varnames = sorted(varnames, key=len, reverse=True)\n        for varname in varnames:\n            \n            try:\n                boo = boo.replace(varname, str(self.get_var(eval('\"' + varname + '\"'))))\n            except:\n                None\n        return boo\n\n\n    # interprets a line    \n    def interpret(self, line, block={}):\n        \n        # acquiring globals\n        global total_ints\n        global lock\n        global auxlock\n        \n        # accounting\n        total_ints += 1\n        lines_ran.append(line)\n\n        # interpreter is breaking\n        if self.breaking:\n            return self.breaking_return\n        \n        # strip line for interpretation\n        try:\n            line = line.strip()\n        except:\n            return\n        l = len(line)\n        \n        # whether the line should immediately continue or not\n        cont = False\n        if line == '':\n            return\n\n        # the below conditions interpret a line based on initial appearances\n        # beneath these conditions will the Interpreter then parse the arguments from the line as a method call\n        \n\n        # method-specific line reached\n        if line.startswith('--'):\n            line = line[2:]\n            try:\n                if not self.methods[self.loggedmethod[-1]].ended:\n                    self.methods[self.loggedmethod[-1]].add_body(line)\n            except:\n                None\n            return\n\n        # new variable setting and modification syntax as of 12/20/2022\n        # iterates to the first '=' sign, capturing the variable name in the\n        # process (as it should)\n        # msn1 fallback\n        if line[0] == '@':\n            line = line[1:]\n            return self.interpret_msnscript_1(line)\n    \n\n        if line.startswith('<<'):\n\n            # parse all text in the line for text surrounded by |\n            funccalls = []\n            infunc = False\n            func = ''\n            for i in range(0, line.rindex('>>')):\n                if line[i] == '|' and not infunc:\n                    infunc = True\n                elif line[i] == '|' and infunc:\n                    infunc = False\n                    funccalls.append(func)\n                    func = ''\n                elif infunc:\n                    func += line[i]\n            for function in funccalls:\n                ret = self.interpret(function)\n                if isinstance(ret, str):\n                    line = line.replace('|' + function + '|', '\"' + str(ret) + '\"')\n                else:\n                    line = line.replace('|' + function + '|', str(ret))\n            line = line[2:-2]\n            try:\n                return eval(line)\n            except:\n                return line\n\n        # embedded MSN2 interpretation macro\n        if line.startswith('<2>'):\n            # parse all text in the line for text surrounded by %\n            funccalls = []\n            infunc = False\n            func = ''\n            for i in range(3, line.rindex('<2>')):\n                if line[i] == '%' and not infunc:\n                    infunc = True\n                elif line[i] == '%' and infunc:\n                    infunc = False\n                    funccalls.append(func)\n                    func = ''\n                elif infunc:\n                    func += line[i]\n\n            # for each msn2 evaluation\n            for function in funccalls:\n                ret = self.interpret(function)\n                if isinstance(ret, str):\n                    line = line.replace('%' + function + '%', '\"' + str(ret) + '\"')\n                else:\n                    line = line.replace('%' + function + '%', str(ret))\n            line = line[3:-3]\n            try:\n                return self.interpret(line)\n            except:\n                try:\n                    return eval(line)\n                except:\n                    return line\n\n        # user defined syntax\n        for key in syntax:\n            if line.startswith(key):\n                return self.run_syntax(key, line)\n\n        # user defined macro\n        for token in macros:\n            if line.startswith(token):\n\n                # if the macro returns a value instead of executing a function\n                if len(macros[token]) == 4:\n                    return macros[token][3]\n\n                # variable name\n                varname = macros[token][1]\n                \n                # function to execute\n                function = macros[token][2]\n                \n                val = line[len(token):]\n                                \n                # store extended for user defined syntax\n                self.vars[varname] = Var(varname, val)\n                    \n                # execute function\n                return self.interpret(function)\n\n        for token in postmacros:\n            if line.endswith(token):\n                # if the macro returns a value instead of executing a function\n                if len(postmacros[token]) == 4:\n                    return postmacros[token][3]\n                varname = postmacros[token][1]\n                function = postmacros[token][2]\n                val = line[0:len(line) - len(token)]\n                self.vars[varname] = Var(varname, val)\n                return self.interpret(function)\n\n        if line[0] == '*':\n            line = self.replace_vars(line[1:])\n            return self.interpret(line)\n\n        # invoking user defined enclosing syntax\n        for key in enclosed:\n            start = enclosed[key][0]\n            end = enclosed[key][1]\n            if line.startswith(start) and line.endswith(end):\n                if len(enclosed[key]) == 5:\n                    return enclosed[key][4]\n                varname = enclosed[key][2]\n                block = enclosed[key][3]\n                val = line[len(start):len(line) - len(end)]\n                self.vars[varname] = Var(varname, val)\n                return self.interpret(block)\n\n        # checks for active Interpreter redirect request\n        if self.redirecting and not 'stopredirect()' in line.replace(' ', ''):\n            _block = self.redirect[1]\n            self.redirect_inside.append([_block, line])   \n            return self.redirect\n\n        # try base literal\n        try:\n            if not line.startswith('--'):\n                return eval(line)\n        except:\n            None\n\n        func = ''\n        objfunc = ''\n        obj = ''\n        s = 0\n        sp = 0\n        for i in range(l):\n            if cont:\n                continue\n            try:\n                c = line[i]\n            except:\n                break\n            if c == ' ' and s == 0:\n                sp += 1\n                continue\n        \n\n            if c == '.':\n                obj = func\n                func = ''\n                objfunc = ''\n                continue\n\n            # basic method creation\n            if c == '~':\n                    returnvariable = ''\n                    self.loggedmethod.append('')\n                    for j in range(i + 1, len(line)):\n                        if line[j] != ' ':\n                            if line[j] == '(':\n                                args = self.method_args(line, j)\n                                for k in range(args[1], len(line)):\n                                    if line[k] != ' ':\n                                        if line[k] == '-' and line[k + 1] == '>':\n                                            for l in range(k + 2, len(line)):\n                                                if line[l] != ' ':\n                                                    returnvariable += line[l]\n                                break\n                            self.loggedmethod[-1] += line[j]\n                    if self.loggedmethod[-1] not in self.methods.keys():\n                        self.methods[self.loggedmethod[-1]] = self.Method(self.loggedmethod[-1], self)\n                    else:\n                        break\n                    for arg in args[0]:\n                        if arg != '':\n                            self.vars[arg] = None\n                            self.methods[self.loggedmethod[-1]].add_arg(arg)\n                    self.methods[self.loggedmethod[-1]].add_return(returnvariable)\n                    return self.loggedmethod[-1]\n            \n            \n            \n            # interpreting a function\n            elif c == '(':\n\n                mergedargs = ''\n                p = 1\n                l = len(line)\n                for j in range(i + 1, l - 1):\n                    c2 = line[j]\n                    if p == 0:\n                        break\n                    if c2 == '(':\n                        p += 1\n                    if c2 == ')':\n                        p -= 1\n                    mergedargs += c2\n                args = self.get_args(mergedargs)\n                f = len(func)\n\n                # clean function for handling\n                func = func.strip()\n                objfunc = objfunc.strip()\n                            \n                # class attribute / method access\n                if obj in self.vars:\n                    vname = obj\n                    try:\n                        var = self.get_var(vname)\n                    except:\n                        var = self.vars[vname]\n                    try:\n                        object = self.vars[obj].value\n                    except:\n                        object = self.vars[obj]\n                    \n                    try:\n                        if objfunc in object:\n                            if args[0][0] == '':\n                                return object[objfunc]\n                            \n                            # parameter provided, wants to set attribute\n                            param = self.parse(0, line, f, sp, args)[2]\n\n                            self.vars[obj].value[objfunc] = param\n                            return param\n                    except:\n                        None\n                        \n                        \n                    # methods available to all types\n                    if objfunc == 'copy':\n                        return object.copy()\n                \n                    if objfunc == 'print':\n                        print(object)\n                        return object\n\n                    if objfunc == 'val':\n                        return object\n                    \n                    if objfunc == 'type':\n                        return type(object)\n\n                    if objfunc == 'len':\n                        return len(object)\n\n                    if objfunc == 'str':\n                        return str(object)\n                    \n                    if objfunc == 'int':\n                        return int(object)\n                    \n                    if objfunc == 'float':\n                        return float(object)\n                    \n                    if objfunc == 'complex':\n                        return complex(object)\n                    \n                    if objfunc == 'bool':\n                        return bool(object)\n\n                    if objfunc == 'dict':\n                        return dict(object)\n                    \n                    # obtains a slice of the iterable \n                    if objfunc == 'slice':\n                        return self.vars[vname].value[self.parse(0, line, f, sp, args)[2]:self.parse(1, line, f, sp, args)[2]]\n                    \n                    # performs a function for each element in the iterable\n                    if objfunc == 'each':\n\n                        # get the variable name\n                        varname = self.parse(0, line, f, sp, args)[2]\n\n                        # get the function\n                        func = args[1][0]\n\n                        for i in range(len(object)):\n                            self.vars[varname] = Var(varname, object[i])\n                            self.interpret(func)\n                        del self.vars[varname]\n                        return object\n\n\n                    # comparing object types\n                    if objfunc == 'is':\n                        return object is self.parse(0, line, f, sp, args)[2]\n                    \n                    # test if the object is equal to all the parameters\n                    if objfunc == 'equals':\n                        for i in range(len(args)):\n                            if object != self.parse(i, line, f, sp, args)[2]:\n                                return False\n                        return True\n\n                    # variable type specific methods\n                    # the isinstance branches below indicate mostly  DESCTRUCTIVE methods!\n                    # so be sure to read the code\n                \n                    # number specific functions\n                    if isinstance(object, int) or isinstance(object, float) or isinstance(object, complex):\n                        \n                        # increases the value of the variable by 1 \n                        if objfunc == '++' or objfunc == 'inc':\n                            self.vars[vname].value += 1\n                            return self.vars[vname].value\n\n                        elif objfunc == '--' or objfunc == 'dec':\n                            self.vars[vname].value -= 1\n                            return self.vars[vname].value\n\n                        # all of the below methods take any amount of arguments\n                        # and perform the operation on the variable\n                        elif objfunc == 'add':\n                            for i in range(len(args)):\n                                self.vars[vname].value += self.parse(i, line, f, sp, args)[2]\n                            return self.vars[vname].value\n\n                        elif objfunc == 'sub':\n                            for i in range(len(args)):\n                                self.vars[vname].value -= self.parse(i, line, f, sp, args)[2]\n                            return self.vars[vname].value\n                        \n                        elif objfunc == 'mul':\n                            for i in range(len(args)):\n                                self.vars[vname].value *= self.parse(i, line, f, sp, args)[2]\n                            return self.vars[vname].value\n\n                        elif objfunc == 'div':\n                            for i in range(len(args)):\n                                self.vars[vname].value /= self.parse(i, line, f, sp, args)[2]\n                            return self.vars[vname].value\n                        \n                        # all of the below methods should take any amount of arguments\n                        \n                        # test if the variable is greater than all arguments\n                        elif objfunc == 'greater' or objfunc == 'greaterthan' or objfunc == 'g':\n                            for i in range(len(args)):\n                                if self.vars[vname].value <= self.parse(i, line, f, sp, args)[2]:\n                                    return False\n                            return True\n\n                        elif objfunc == 'less' or objfunc == 'lessthan' or objfunc == 'l':\n                            for i in range(len(args)):\n                                if self.vars[vname].value >= self.parse(i, line, f, sp, args)[2]:\n                                    return False\n                            return True\n                        \n                        elif objfunc == 'greaterequal' or objfunc == 'ge':\n                            for i in range(len(args)):\n                                if self.vars[vname].value < self.parse(i, line, f, sp, args)[2]:\n                                    return False\n                            return True\n\n                        elif objfunc == 'lessequal' or objfunc == 'le':\n                            return self.vars[vname].value <= self.parse(0, line, f, sp, args)[2]\n\n\n                        # more basic functions\n                        return self.vars[vname].value\n\n                    # array based functions\n                    elif isinstance(object, list):\n\n                        # adds all arguments to the first argument which should be a variable name\n                        # as a string\n                        if objfunc == 'push' or objfunc == 'append' or objfunc == 'add':\n                            for i in range(len(args)):\n                                self.vars[vname].value.append(self.parse(i, line, f, sp, args)[2])\n                            return self.vars[vname].value\n\n                        # getting at an index\n                        elif objfunc == 'get':\n                            return self.vars[vname].value[self.parse(0, line, f, sp, args)[2]]\n\n                        # sets at an index\n                        elif objfunc == 'set':\n                            self.vars[vname].value[self.parse(0, line, f, sp, args)[2]] = self.parse(1, line, f, sp, args)[2]\n                            return self.vars[vname].value\n                        \n                        # gets the average of this array\n                        elif objfunc == 'avg' or objfunc == 'average':\n                            return sum(self.vars[vname].value) / len(self.vars[vname].value)\n\n                        # inserts all values at an index\n                        if objfunc == 'insert':\n                            \n                            # index to insert\n                            index = self.parse(0, line, f, sp, args)[2]\n                            \n                            # inserts the rest of the arguments, one at a time\n                            for i in range(len(args)):\n                                self.vars[vname].value.insert(index, self.parse(i, line, f, sp, args)[2])\n                            return self.vars[vname].value\n                        \n                        # removes a certain amount of all arguments supplied\n                        if objfunc == 'removen':\n                            count = self.parse(0, line, f, sp, args)[2]\n                            \n                            # removes count amount of the rest of the arguments from the object\n                            for i in range(1, len(args)):\n                                for j in range(count):\n                                    del var[var.index(self.parse(i, line, f, sp, args)[2])]\n                            return object\n\n                        # removes all occurances of each argument from the list\n                        if objfunc == 'remove':\n                            for i in range(len(args)):\n                                while self.parse(i, line, f, sp, args)[2] in var:\n                                    del var[var.index(self.parse(i, line, f, sp, args)[2])]\n                            return object\n                    \n                        # gets a sorted copy of this array\n                        if objfunc == 'sorted':\n                            return sorted(self.vars[vname].value)\n                        \n                        # sorts this array\n                        if objfunc == 'sort':\n                            self.vars[vname].value.sort()\n                            return self.vars[vname].value\n\n                        # gets the length of the array\n                        if objfunc == 'len':\n                            return len(self.vars[vname].value)\n\n                        # gets the index of an item in an array\n                        if objfunc == 'index':\n                            el = self.parse(0, line, f, sp, args)[2]\n                            try:\n                                return self.vars[vname].value.index(el)\n                            except:\n                                return self.vars[vname].index(el)\n\n                        # finds an element in a list\n                        # unlike index(), find returns -1 instead of throwing an\n                        # error\n                        if objfunc == 'find':\n                            return self.vars[vname].value.find(self.parse(0, line, f, sp, args)[2])\n\n\n                    # if the object is a string\n                    elif isinstance(object, str):\n                        \n                        if objfunc == 'add':\n                            for i in range(len(args)):\n                                self.vars[vname].value += self.parse(i, line, f, sp, args)[2]\n                            return self.vars[vname].value\n                        \n                        if objfunc == 'split':\n                            arg = self.parse(0, line, f, sp, args)[2]\n                            try:\n                                return self.vars[vname].value.split(arg)\n                            except:\n                                return self.vars[vname].split(arg)\n\n                        # replaces all instances of the first argument with the second argument\n                        if objfunc == 'replace':\n                            \n                            # what to replace\n                            replacing = self.parse(0, line, f, sp, args)[2]\n                            \n                            # replacing with\n                            wth = self.parse(1, line, f, sp, args)[2]\n                            \n                            if len(args) == 2:\n                                # replaces all instances of replacing with wth\n                                self.vars[vname].value = self.vars[vname].value.replace(replacing, wth)\n                            elif len(args) == 3:\n                                self.vars[vname].value = self.vars[vname].value.replace(replacing, wth, self.parse(2, line, f, sp, args)[2])\n                            \n                            # returns the new string\n                            return self.vars[vname].value\n                           \n                        # strips the value at the variable name \n                        if objfunc == 'strip':\n                            self.vars[vname].value = self.vars[vname].value.strip()\n                            return self.vars[vname].value\n\n                        # obtains a stripped version of itself\n                        if objfunc == 'stripped':\n                            return self.vars[vname].value.strip()\n\n                        # parses an integer from the string\n                        if objfunc == 'int':\n                            return int(self.vars[vname].value)\n                        \n                        \n                        \n                        # obtains itself\n                        if objfunc == 'self':\n                            try:\n                                return self.vars[vname].value\n                            except:\n                                return self.vars[vname]\n\n                    # if the object is a dictionary\n                    elif isinstance(object, dict):\n                        \n                        # allows for repetitive setting on a multiple indexed dictionary\n                        if objfunc == 'set':\n                            self.vars[vname].value[self.parse(0, line, f, sp ,args)[2]] = self.parse(1, line, f, sp, args)[2]\n                            return self.vars[vname].value\n                        \n                        # first argument is what to set, should be called to_set\n                        # rest of the arguments are the indices at which to index the object and set to_set\n                        if objfunc == 'setn':\n                            \n                            # what to set\n                            to_set = self.parse(0, line, f, sp, args)[2]\n                            \n                            # the rest of the arguments are the indices\n                            # example: dict.setn('im being set', 'index1', 'index2', 'index3', ...)\n                            # should equal: dict['index1']['index2']['index3'] = 'im being set'\n                            \n                            # the object to set\n                            obj = self.vars[vname].value\n\n                            # iterates through the indices\n                            for i in range(1, len(args)):\n                                    \n                                    # if the index is the last one\n                                    if i == len(args) - 1:\n                                        \n                                        # sets the index to to_set\n                                        obj[self.parse(i, line, f, sp, args)[2]] = to_set\n                                    \n                                    # if the index is not the last one\n                                    else:\n                                        \n                                        # sets the object to the index\n                                        obj = obj[self.parse(i, line, f, sp, args)[2]]\n\n                            # returns the object\n                            return self.vars[vname].value\n                        \n                        # recursively gets a value in a dictionary\n                        if objfunc == 'get':\n                            \n                            # the object to get from\n                            obj = self.vars[vname].value\n                                \n                            # iterates through the indices\n                            for i in range(len(args)):\n                                    \n                                # sets the object to the index\n                                obj = obj[self.parse(i, line, f, sp, args)[2]]\n                                \n                            # returns the object\n                            return obj\n                        \n                        # gets the keys of this dictionary\n                        if objfunc == 'keys':\n                            return self.vars[vname].value.keys()\n\n                        # gets the values of this dictionary\n                        if objfunc == 'values':\n                            return self.vars[vname].value.values()\n\n                        # gets the items of this dictionary\n                        if objfunc == 'items':\n                            return self.vars[vname].value.items()\n                        \n\n\n                # the below conditions interpret a line based on initial appearances\n                # beneath these conditions will the Interpreter then parse the arguments from the line as a method call\n                # request for Interpreter redirect to a block of code\n                # the first argument is \n                if func == 'redirect':\n                    line_vname = self.parse(0, line, f, sp, args)[2]\n                    _block = args[1][0]\n                    \n                    # creates redirect for this interpreter\n                    self.redirect = [line_vname, _block]\n                    self.redirecting = True\n                    return self.redirect\n                        \n                # request for Interpreter redirect cancellation\n                if func == 'stopredirect':\n                    self.redirecting = False\n                    return True\n            \n                # starts the redirection\n                if func == 'startredirect':\n                    ret = None\n                    for _ins in self.redirect_inside:\n                        ins = _ins[0]\n                        _line = _ins[1]\n                        self.vars[self.redirect[0]] = Var(self.redirect[0], _line)\n                        ret = self.interpret(ins)\n                    return ret       \n\n                # alternative to '~' user defined method syntax\n                # example call:\n                # function('sum')\n                elif func == 'function':\n                    \n                    # obtain the name of the function\n                    fname = self.parse(0, line, f, sp, args)[2]\n                    \n                    # obtain line to be added to the method\n                    block = args[1][0]\n                    \n                    # function arguments\n                    \n                    # return variable name\n                    ret = '__unused'\n                    \n                    # create the new Method\n                    new_method = self.Method(fname, self)\n                    \n                    # add the body\n                    new_method.add_body(block)\n                    new_method.add_return(fname + \"__return__\")\n                    \n                    # obtain the rest of the arguments as method args\n                    for i in range(2, len(args)):\n                        # adds variable name as an argument\n                        # if any function specific argument is None, break\n                        val = self.parse(i, line, f, sp, args)[2]\n                        if val == None:\n                            break\n                        new_method.add_arg(val)\n                    self.methods[fname] = new_method\n                    return fname\n\n                # performs modular arithmetic on the two arguments given\n                elif func == 'mod':\n                    return self.parse(0, line, f, sp, args)[2] % self.parse(1, line, f, sp, args)[2]\n\n                # returns a value to a function\n                # first argument is the function to return to\n                # second argument is the value to return\n                elif func == 'ret':\n                    \n                    # function to return to\n                    fname = self.parse(0, line, f, sp, args)[2]\n                    \n                    # value\n                    value = self.parse(1, line, f, sp, args)[2]\n                    \n                    vname = fname + \"__return__\"\n                    \n                    self.vars[vname].value = value\n                    return value\n\n                # user method execution requested\n                elif func in self.methods.keys():\n                    method = self.methods[func]\n\n                    # create func args \n                    func_args = []    \n\n                    try:                \n                        for i in range(len(args)):\n                            arguments = args[i]\n                            line, as_s, arg = self.parse(i, line, f, sp, args)\n                            func_args.append(arg)\n                            meth_argname = method.args[i]\n                            self.vars[meth_argname] = Var(meth_argname, arg)\n                    except:\n                        l = len(method.args)\n                        if l != 0:\n                            self.err(\"bad arg count\", f\"correct arg count is {l}\", line)\n\n                    # create return variable\n                    ret_name = method.returns[0]\n\n                    if ret_name not in self.vars:\n                        self.vars[ret_name] = Var(ret_name, None)\n\n                    # execute method\n                    method.run(func_args, self)\n                    \n                    try: \n                        return eval(str(self.vars[method.returns[0]].value))\n                    except:\n                        try:\n                            return str(self.vars[method.returns[0]].value)\n                        except:\n                            return str(self.vars[method.returns[0]])\n                \n                # creating a list\n                if func == 'from':\n                    arr = []\n                    if args[0][0] == '':\n                        return arr\n                    for i in range(len(args)):\n                        arr.append(self.parse(i, line, f, sp, args)[2])\n                    return arr\n\n                # creates a dictionary from its arguments\n                # every two arguments \n                # an odd quantity of arguments is impossible\n                if func == 'dictfrom':\n                    d = {}\n                    if args[0][0] == '':\n                        return d\n\n                    # step over arguments in steps of 2\n                    for i in range(0, len(args), 2):\n                        cur = self.parse(i, line, f, sp, args)[2]\n                        nxt = self.parse(i + 1, line, f, sp, args)[2]\n                        d[cur] = nxt\n                    return d\n\n                # splits the first argument by the second argument\n                if func == 'split':\n                    to_split = self.parse(0, line, f, sp, args)[2]               \n                    splitting_by = self.parse(1, line, f, sp, args)[2]     \n                    return to_split.split(splitting_by)\n                \n                # obtains text between the first argument of the second argument\n                if func == 'between':\n                    \n                    # surrounding token\n                    surrounding = self.parse(0, line, f, sp, args)[2]\n                    \n                    # string to analyze\n                    string = self.parse(1, line, f, sp, args)[2]\n                    \n                    funccalls = []\n                    try:\n                        while string.count(surrounding) > 1:\n                            string = string[string.index(surrounding) + len(surrounding):]\n                            funccalls.append(string[:string.index(surrounding)])\n                            string = string[string.index(surrounding) + len(surrounding):]\n                    except: \n                        None\n                        \n                    return funccalls\n                \n                # determines if the argument passed is of the type specified\n                if func == 'isstr':\n                    return isinstance(self.parse(0, line, f, sp, args)[2], str)\n                elif func == 'islist':\n                    return isinstance(self.parse(0, line, f, sp, args)[2], list)\n                elif func == 'isfloat':\n                    return isinstance(self.parse(0, line, f, sp, args)[2], float)\n                elif func == 'isint':\n                    return isinstance(self.parse(0, line, f, sp, args)[2], int)\n                elif func == 'isdict':\n                    return isinstance(self.parse(0, line, f, sp, args)[2], dict)\n\n                # gets the sum of all arguments\n                if func == 'sum':\n                    total = 0\n                    for i in range(len(args)):\n                        total += sum(self.parse(i, line, f, sp, args)[2])\n                    return total\n                \n                # creates / sets a variable\n                if func == 'var':\n  \n                    # extract varname\n                    varname = self.parse(0, line, f, sp ,args)[2]\n\n                    # extract value\n                    value = self.parse(1, line, f, sp ,args)[2]\n                                        \n                    # add / set variable\n                    self.vars[varname] = Var(varname, value)\n                    return value\n\n                # converts the argument to a list\n                elif func == 'list':\n                    return list(self.parse(0, line, f, sp, args)[2])\n\n                # determines if a variable exists or not\n                elif func == 'exists':\n                    return self.parse(0, line, f, sp, args)[2] in self.vars\n\n                # gets the length of the first argument\n                elif func == 'len':\n                    line, as_s, arg = self.parse(0, line, f, sp, args)\n                    return len(arg)\n\n                # asserts each argument is True, prints and logs assertion error\n                elif func == 'assert':\n                    for i in range(len(args)):\n                        arguments = args[i]\n                        line, assertion = self.convert_arg(arguments[0], line, f, sp, args)\n                        if not assertion:\n                            failed = ''\n                            for arg in args:\n                                failed += str(arg[0]) + ' '\n                            err = self.err(\"assertion error\", \"\", failed)\n                            self.logg(err, line)\n                            return False\n\n                    return True\n\n\n                # trace capabilities\n                elif obj == 'trace':\n                    if objfunc == 'before':\n                        return lines_ran[len(lines_ran) - self.parse(0, line, f, sp, args)[2]:]\n                    if objfunc == 'this':\n                        return lines_ran[-1] \n                    if objfunc == 'len':\n                        return total_ints\n                    return '<msnint2 class>'\n\n\n                # conditional logic\n                elif func == 'if':\n                    # if condition and blocks arguments              \n                    ifcond_s = args[0][0]\n                    true_block_s = args[1][0]\n\n                    # false block is optional\n                    try:\n                        false_block_s = args[2][0]\n                    except:\n                        false_block_s = None\n                    \n                    ifcond = self.parse(0, line, f, sp ,args)[2]                    \n                    \n                    # if condition is true\n                    if (ifcond):\n                        return self.parse(1, line, f, sp, args)[2]\n\n                    # otherwise false block is executed\n                    if false_block_s:\n                        return self.parse(2, line, f, sp, args)[2]\n                    return False\n\n                # while logic WIPWIPWIPWIPWIP\n                elif func == 'while':\n\n                    # while arguments as strings\n                    whilecond_s = args[0][0]\n                    while_block_s = args[1][0]\n\n                    while (self.interpret(whilecond_s)):\n                        self.interpret(while_block_s)\n                    return True\n\n                 # iteration\n                elif func == 'for':\n\n                    # block to execute\n                    inside = args[3][0]\n\n                    # times to loop\n                    line, as_s, start = self.parse(0, line, f, sp, args)\n                    line, as_s, end = self.parse(1, line, f, sp, args)\n                    line, as_s, loopvar = self.parse(2, line, f, sp, args)\n                    self.vars[loopvar] = Var(loopvar, start)\n                    # regular iteration\n                    if start < end:\n                        for i in range(start, end):\n                            if loopvar in self.vars and self.vars[loopvar].value >= end:\n                                break\n                            self.vars[loopvar] = Var(loopvar, i)\n                            self.interpret(inside)\n                    \n                    # reversed if requested\n                    elif start > end:\n                        for i in reversed(range(end, start)):\n                            if loopvar in self.vars and self.vars[loopvar].value < end:\n                                break\n                            self.vars[loopvar] = Var(loopvar, i) \n                            self.interpret(inside)\n                    return self.vars[loopvar].value\n\n                # executes a block of code for each element in an array\n                elif func == 'each':\n                    \n                    # get array argument\n                    line, as_s, array = self.parse(0, line, f, sp, args)\n            \n                    # get element variable name\n                    line, as_s, element_name = self.parse(1, line, f, sp, args)\n                    block_s = args[2][0]\n\n                    # prepare each element\n                    self.vars[element_name] = Var(element_name, 0)\n\n                    # execute block for each element\n                    for i in range(len(array)):\n                        self.vars[element_name].value = array[i]\n                        self.interpret(block_s)\n                    return array\n\n                # the following provide efficient variable arithmetic\n                elif func == 'add':\n                    line, as_s, first = self.parse(0, line, f, sp, args)\n                    line, as_s, second = self.parse(1, line, f, sp, args)\n\n                    # case array\n                    if isinstance(self.vars[first].value, list):\n                        self.vars[first].value.append(second)\n\n                    # case string or number\n                    else:\n                        self.vars[first].value += second\n                    return self.vars[first].value\n                \n                # performs basic operations on non-variable values\n                elif obj == 'op':\n\n                    # obtains the first argument\n                    arg1 = self.parse(0, line, f, sp, args)[2]\n\n                    # adds all arguments\n                    if objfunc == 'append' or objfunc == 'push' or objfunc == 'add' or objfunc == 'plus' or objfunc == '+' or objfunc == 'concat' or objfunc == 'concatenate' or objfunc == 'join' or objfunc == 'merge' or objfunc == 'sum': \n                        \n                        if isinstance(arg1, list):\n                            for i in range(1, len(args)):\n                                arg2 = self.parse(i, line, f, sp, args)[2]\n                                arg1.append(arg2)\n                            return arg1\n                        else:\n                            for i in range(1, len(args)):\n                                arg2 = self.parse(i, line, f, sp, args)[2]\n                                arg1 += arg2\n                            return arg1\n                        \n\n                    # subtracts all arguments\n                    if objfunc == 'sub' or objfunc == 'minus' or objfunc == 'subtract' or objfunc == '-':\n                        for i in range(1, len(args)):\n                            arg2 = self.parse(i, line, f, sp, args)[2]\n                            arg1 -= arg2\n                        return arg1\n\n                    if objfunc == 'mul' or objfunc == 'times' or objfunc == 'x' or objfunc == '*' or objfunc == 'multiply':\n                        for i in range(1, len(args)):\n                            arg2 = self.parse(i, line, f, sp, args)[2]\n                            arg1 *= arg2\n                        return arg1\n\n                    if objfunc == 'div' or objfunc == 'divide' or objfunc == 'over' or objfunc == '/' or objfunc == '\xf7':\n                        for i in range(1, len(args)):\n                            arg2 = self.parse(i, line, f, sp, args)[2]\n                            arg1 /= arg2\n                        return arg1\n                    \n                    if objfunc == 'mod' or objfunc == 'modulo' or objfunc == 'modulus' or objfunc == '%' or objfunc == 'remainder':\n                        for i in range(1, len(args)):\n                            arg2 = self.parse(i, line, f, sp, args)[2]\n                            arg1 %= arg2\n                        return arg1\n\n                    if objfunc == 'pow' or objfunc == 'power' or objfunc == 'exponent' or objfunc == '**':\n                        for i in range(1, len(args)):\n                            arg2 = self.parse(i, line, f, sp, args)[2]\n                            arg1 **= arg2\n                        return arg1\n\n                    return '<msnint2 class>'\n\n                # more support for functions\n                elif obj == 'function':\n                    \n                    fname = self.parse(0, line, f, sp, args)[2]\n\n                    # adds a line of code to a function / method's body\n                    if objfunc == 'addbody':\n                        _body = self.parse(1, line, f, sp, args)[2]\n \n                        self.methods[fname].add_body(_body)\n                        return fname\n\n                    # adds an argument to a function\n                    if objfunc == 'addarg':\n\n                        arg = self.parse(1, line, f, sp, args)[2]\n\n                        self.methods[fname].add_arg(arg)\n                        return fname\n\n                    # adds a return variable to this function\n                    if objfunc == 'addreturn':\n                        retvar = self.parse(1, line, f, sp, args)[2]\n\n                        self.methods[fname].add_return(retvar)\n                        return fname\n\n                    return '<msnint2 class>'\n\n\n\n                elif func == 'sub':\n                    line, as_s, first = self.parse(0, line, f, sp, args)\n                    line, as_s, second = self.parse(1, line, f, sp, args)\n                    self.vars[first].value -= second\n                    return self.vars[first].value\n                elif func == 'mul':\n                    line, as_s, first = self.parse(0, line, f, sp, args)\n                    line, as_s, second = self.parse(1, line, f, sp, args)\n                    self.vars[first].value *= second\n                    return self.vars[first].value\n                elif func == 'div':\n                    line, as_s, first = self.parse(0, line, f, sp, args)\n                    line, as_s, second = self.parse(1, line, f, sp, args)\n                    self.vars[first].value /= second\n                    return self.vars[first].value\n                \n                # appends to an array variable\n                elif func == 'append':        \n                    \n                    # varname\n                    varname = self.parse(0, line, f, sp, args)[2]    \n                    \n                    # value to append\n                    value = self.parse(1, line, f, sp, args)[2]\n                    \n                    self.vars[varname].value.append(value)\n                    return value    \n\n                # gets at the index specified\n                elif func == '->':\n                    \n                    # array\n                    array = self.parse(0, line, f, sp, args)[2]\n                    \n                    # index\n                    index = self.parse(1, line, f, sp, args)[2]\n                    \n                    return array[index]\n                \n                # gets the MSNScript version of this interpreter\n                elif func == 'version':\n                    return self.version\n\n                # destroys a function or variable\n                elif func == 'destroy':\n                    varname = self.parse(0, line, f, sp, args)[2]\n                    \n                    # deletes all variables or methods that start with '__'\n                    if varname == '__':\n                        for key in list(self.vars):\n                            if key.startswith('__'):\n                                del self.vars[key]\n                        for key in list(self.methods):\n                            if key.startswith('__'):\n                                del self.methods[key]\n                        return True\n                        \n                    if varname in self.vars:\n                        del self.vars[varname]\n                        \n                    elif varname in self.methods:\n                        del self.methods[varname]\n                        \n                    \n                    return True\n\n                # random capabilities\n                elif func == 'random':\n                    # gets a random number between 0 and 1\n                    if len(args) == 1:\n\n                        arg = self.parse(0, line, f, sp, args)[2]\n\n                        return random.random()\n\n                    # random number in range\n                    elif len(args) == 2:\n                        arg = self.parse(0, line, f, sp, args)[2]\n                        arg2 = self.parse(1, line, f, sp, args)[2]\n\n                        return (random.random() * (arg2 - arg)) + arg\n\n                    # random int in range\n                    elif len(args) == 3:\n                        arg = self.parse(0, line, f, sp, args)[2]\n                        arg2 = self.parse(1, line, f, sp, args)[2]\n\n                        return math.floor((random.random() * (arg2 - arg)) + arg)\n\n\n                    return '<msnint2 class>'\n\n                # html parsing simplified\n                elif obj == 'html':\n                    \n                    url = self.parse(0, line, f, sp, args)[2]\n                \n                    # creates a BeautifulSoup object of a url\n                    if objfunc == 'soup':\n                        \n                        response = requests.get(url)\n                        return BeautifulSoup(response.content, 'html5lib')\n                    \n                    # scrapes all html elements from a url\n                    if objfunc == 'from':\n                        \n                        obj_to_add = []\n                        all_elem = self.html_all_elements(url)\n                        for elem in all_elem:                            \n                            obj_to_add.append({'tag': elem.name, 'attrs': elem.attrs, 'text': elem.text} )\n                        return obj_to_add\n                \n                \n                # ai specific usage\n                elif obj == 'ai':\n                    \n                    # verify existence of openai api key\n                    if not openai.api_key:\n                        try:\n                            openai.api_key = os.environ['OPENAI_API_KEY']\n                        except:\n                            raise Exception('OpenAI API key not found. Please set your OPENAI_API_KEY environment variable to your OpenAI API key.')\n                    \n                    # asks openai model a question\n                    # simple ai, see top of file for definition\n                    if objfunc == 'basic':\n                        \n                        # generates an ai response with the basic model\n                        return ai_response(models['basic']['model'], self.parse(0, line, f, sp, args)[2], models['basic']['creativity'])\n                    return '<msnint2 class>'\n                        \n                                            \n\n                        \n                \n                \n                # performs math functions\n                elif obj == 'math':\n\n                    # extract argument\n                    line, as_s, arg = self.parse(0, line, f, sp, args)\n\n                    # perform function\n                    if objfunc == 'abs':\n                        return abs(arg)\n                    elif objfunc == 'ceil':\n                        return math.ceil(arg)\n                    elif objfunc == 'floor':\n                        return math.floor(arg)\n                    elif objfunc == 'round':\n                        return round(arg)\n                    elif objfunc == 'sqrt':\n                        return math.sqrt(arg)\n                    elif objfunc == 'sin':\n                        return math.sin(arg)\n                    elif objfunc == 'cos':\n                        return math.cos(arg)\n                    elif objfunc == 'tan':\n                        return math.tan(arg)\n                    elif objfunc == 'asin':\n                        return math.asin(arg)\n                    elif objfunc == 'acos':\n                        return math.acos(arg)\n                    elif objfunc == 'atan':\n                        return math.atan(arg)\n                    elif objfunc == 'log':\n                        return math.log(arg)\n                    elif objfunc == 'log10':\n                        return math.log10(arg)\n                    elif objfunc == 'log2':\n                        return math.log2(arg)\n                    elif objfunc == 'exp':\n                        return math.exp(arg)\n                    elif objfunc == 'pow':\n                        return math.pow(arg, self.parse(1, line, f, sp, args)[2])\n                    elif objfunc == 'factorial':\n                        return math.factorial(arg)\n                    elif objfunc == 'e':\n                        return math.e\n                    elif objfunc == 'pi':\n                        return math.pi\n                    return '<msnint2 class>'\n                \n                       \n                # defines new syntax, see tests/validator.msn2 for documentation\n                elif func == 'syntax':\n                    \n                    # gets the syntax token\n                    token = self.parse(0, line, f, sp, args)[2]\n                    \n                    # gets the variable name of the between\n                    between = self.parse(1, line, f, sp, args)[2]\n                    \n                    # function that should be executed when the syntax is found\n                    function = args[2][0]\n                    \n                    return self.add_syntax(token, between, function)\n                \n                # creates a new enclosed syntax that should execute the block\n                # specified on the line by which it was created\n                elif func == 'enclosedsyntax':\n\n                    start = self.parse(0, line, f, sp, args)[2]\n                    end = self.parse(1, line, f, sp, args)[2]\n                    varname = self.parse(2, line, f, sp, args)[2]\n\n                    index = str(start) + 'msnint2_reserved' + str(end)\n                    enclosed[index] = [start, end, varname, args[3][0]]\n\n                    if len(args) == 5:\n                        enclosed[index].append(self.parse(4, line, f, sp, args)[2])\n                    return enclosed[index]\n\n                # defines a new macro\n                elif func == 'macro':\n                    \n                    token = self.parse(0, line, f, sp, args)[2]\n                    \n                    varname = self.parse(1, line, f, sp, args)[2]\n                    \n                    code = args[2][0]\n                    \n                    macros[token] = [token, varname, code]\n                    \n                    # 4th argument offered as a return value from that macro\n                    # as opposed to a block of code\n                    if len(args) == 4:\n                        macros[token].append(self.parse(3, line, f, sp, args)[2])\n                        \n                    return macros[token]\n                \n                # creates a macro that should be declared at the end of a line\n                elif func == 'postmacro':\n                    \n                    token = self.parse(0, line, f, sp, args)[2]\n                    \n                    varname = self.parse(1, line, f, sp, args)[2]\n                    \n                    code = args[2][0]\n                    \n                    postmacros[token] = [token, varname, code]\n                        \n                    # same as macro\n                    if len(args) == 4:\n                        postmacros[token].append(self.parse(3, line, f, sp, args)[2])\n\n                    return postmacros[token]\n                \n                # creates an inline syntax that allows for value replacement\n                # within a line\n                # this is different from the above system calls because this\n                # syntax is invoked and returned as a value which will replace\n                # the invocation within the line\n                # arguments are the same as enclosedsyntax\n                #\n                # WIPWIPWIPWIPWIP\n                elif func == 'inlinesyntax':\n                    start = self.parse(0, line, f, sp, args)[2]\n                    end = self.parse(1, line, f, sp, args)[2]\n                    varname = self.parse(2, line, f, sp, args)[2]\n\n                    index = str(start) + 'msnint2_reserved' + str(end)\n\n                    inlines[index] = [start, end, varname, args[3][0]]\n\n                    if len(args) == 5:\n                        inlines[index].append(self.parse(4, line, f, sp, args)[2])\n                    return inlines[index]\n\n                  \n                # performs object based operations\n                elif obj == 'var':\n                    \n                    # determines if all variables passed are equal\n                    if objfunc == 'equals':\n                        firstvar = self.vars[self.parse(0, line, f, sp, args)[2]].value\n                        for i in range(1, len(args)):\n                            if firstvar != self.vars[self.parse(i, line, f, sp, args)[2]].value:\n                                return False\n                        return True\n                    return '<msnint2 class>'\n                \n                # gets the value of a variable\n                elif func == 'val':\n                    \n                    # gets the variable name\n                    varname = self.parse(0, line, f, sp, args)[2]\n                    \n                    try:\n                        return self.vars[varname].value\n                    except:\n                        return self.vars[varname]\n                    \n                # gets a sorted version of the array \n                elif func == 'sorted':\n                    return sorted(self.parse(0, line, f, sp, args)[2])\n                    \n                    \n                # performs file-specific operations\n                elif obj == 'file':\n                    \n                    # creates a file\n                    if objfunc == 'create':\n                        lock.acquire()\n                        line, as_s, filename = self.parse(0, line, f, sp, args)\n                        open(filename, 'w').close()\n                        lock.release()\n                        return True\n                    \n                    # reads text from a file\n                    if objfunc == 'read':\n                        lock.acquire()\n                        file = open(self.parse(0, line, f, sp, args)[2], \"r\")\n                        contents = file.read()\n                        file.close()\n                        lock.release()\n                        return contents\n                    \n                    # writes to a file\n                    if objfunc == 'write':\n                        lock.acquire()\n                        file = open(self.parse(0, line, f, sp, args)[2], \"w\")\n                        towrite = self.parse(1, line, f, sp, args)[2]\n                        file.write(towrite)\n                        file.close()\n                        lock.release()\n                        return towrite\n                    \n                    # writes the argument as code\n                    if objfunc == 'writemsn':\n                        lock.acquire()\n                        file = open(self.parse(0, line, f, sp, args)[2], \"w\")\n                        towrite = args[1][0]\n                        file.write(towrite)\n                        lock.release()\n                        return towrite\n                    \n                    # clears a file of all text\n                    if objfunc == 'clear':\n                        lock.acquire()\n                        file = open(self.parse(0, line, f, sp, args)[2], \"w\")\n                        file.write(\"\")\n                        file.close()\n                        lock.release()\n                        return True\n                    \n                    # appends to a file \n                    if objfunc == 'append':\n                        lock.acquire()\n                        file = open(self.parse(0, line, f, sp, args)[2], \"a\")\n                        towrite = self.parse(1, line, f, sp, args)[2]\n                        file.write(towrite)\n                        file.close()\n                        lock.release()\n                        return towrite\n                    \n                    # deletes a file\n                    if objfunc == 'delete':\n                        lock.acquire()\n                        deleting = self.parse(0, line, f, sp, args)[2]\n                        try:\n                            os.remove(deleting)\n                        except:\n                            None\n                        lock.release()\n                        return deleting\n                    \n                    # renames a file\n                    if objfunc == 'rename':\n                        lock.acquire()\n                        old = self.parse(0, line, f, sp, args)[2]\n                        new = self.parse(1, line, f, sp, args)[2]\n                        os.rename(old, new)\n                        lock.release()\n                        return new\n                    \n                    # copies a file\n                    if objfunc == 'copy':\n                        lock.acquire()\n                        old = self.parse(0, line, f, sp, args)[2]\n                        new = self.parse(1, line, f, sp, args)[2]\n                        shutil.copy(old, new)\n                        lock.release()\n                        return new\n                    \n                    # moves a file\n                    if objfunc == 'move':\n                        lock.acquire()\n                        old = self.parse(0, line, f, sp, args)[2]\n                        new = self.parse(1, line, f, sp, args)[2]\n                        shutil.move(old, new)\n                        lock.release()\n                        return new\n                    \n                    # determines if a file exists\n                    if objfunc == 'exists':\n                        lock.acquire()\n                        exists = os.path.exists(self.parse(0, line, f, sp, args)[2])\n                        lock.release()\n                        return exists\n                    \n                    # determines if a file is a directory\n                    if objfunc == 'isdir':\n                        lock.acquire()\n                        isdir = os.path.isdir(self.parse(0, line, f, sp, args)[2])\n                        lock.release()\n                        return isdir\n                    \n                    # determines if a file is a file\n                    if objfunc == 'isfile':\n                        lock.acquire()\n                        isfile = os.path.isfile(self.parse(0, line, f, sp, args)[2])\n                        lock.release()\n                        return isfile\n                    \n                    # lists files in a directory\n                    if objfunc == 'listdir':\n                        lock.acquire()\n                        try:\n                            listdir = os.listdir(self.parse(0, line, f, sp, args)[2])\n                            lock.release()\n                            return listdir\n                        except FileNotFoundError:\n                            \n                            # directory doesn't exist\n                            lock.release()\n                            return None\n                    \n                    # makes a directory\n                    if objfunc == 'mkdir':\n                        lock.acquire()\n                        try:\n                            made = os.mkdir(self.parse(0, line, f, sp, args)[2])\n                            lock.release()\n                            return made\n                        except FileExistsError:\n                            lock.release()\n                            return False\n                    \n                    # removes a directory\n                    if objfunc == 'rmdir':\n                        lock.acquire()\n                        try:\n                            rm = os.rmdir(self.parse(0, line, f, sp, args)[2])\n                            lock.release()\n                            return rm\n                        except OSError:\n                            lock.release()\n                            return None\n                                        \n                    # gets the current working directory\n                    if objfunc == 'getcwd':\n                        lock.acquire()\n                        cwd = os.getcwd()\n                        lock.release()\n                        return cwd\n                    \n                    # gets the size of a file\n                    if objfunc == 'getsize':\n                        lock.acquire()\n                        size = os.path.getsize(self.parse(0, line, f, sp, args)[2])\n                        lock.release()\n                        return size\n                        \n                    # deletes all files and directories within a directory\n                    if objfunc == 'emptydir':\n                        lock.acquire()\n                        directory = self.parse(0, line, f, sp, args)[2]\n                        try:\n                            for file in os.listdir(directory):\n                                try:\n                                    os.remove(os.path.join(directory, file))\n                                except:\n                                    shutil.rmtree(os.path.join(directory, file), ignore_errors=True)\n                            lock.release()\n                            return directory\n                        except FileNotFoundError:\n                            \n                            # directory doesn't exist\n                            lock.release()\n                            return None\n\n                # performs math operations\n                elif obj == 'math':\n                    if objfunc == 'add':\n                        return self.parse(0, line, f, sp, args)[2] + self.parse(1, line, f, sp, args)[2]\n                    \n                    if objfunc == 'subtract':\n                        return self.parse(0, line, f, sp, args)[2] - self.parse(1, line, f, sp, args)[2]\n                    \n                    if objfunc == 'multiply':\n                        return self.parse(0, line, f, sp, args)[2] * self.parse(1, line, f, sp, args)[2]\n                    \n                    if objfunc == 'divide':\n                        return self.parse(0, line, f, sp, args)[2] / self.parse(1, line, f, sp, args)[2]\n                    \n                    if objfunc == 'power':\n                        return self.parse(0, line, f, sp, args)[2] ** self.parse(1, line, f, sp, args)[2]\n                    \n                    if objfunc == 'root':\n                        return self.parse(0, line, f, sp, args)[2] ** (1 / self.parse(1, line, f, sp, args)[2])\n                    \n                    if objfunc == 'mod':\n                        return self.parse(0, line, f, sp, args)[2] % self.parse(1, line, f, sp, args)[2]\n                    \n                    if objfunc == 'floor':\n                        return math.floor(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'ceil':\n                        return math.ceil(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'round':\n                        return round(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'abs':\n                        return abs(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'sin':\n                        return math.sin(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'cos':\n                        return math.cos(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'tan':\n                        return math.tan(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'asin':\n                        return math.asin(self.parse(0, line, f, sp, args)[2])\n                    return '<msnint2 class>'\n                    \n                # gets the type of the first argument passed\n                elif func == 'type':\n                    return type(self.parse(0, line, f, sp, args)[2])\n                 \n                # gets the booting context\n                elif func == 'boot':\n                    while self.parent != None:\n                        self = self.parent\n                    return self\n                \n                # sets an index of an array\n                # first argument is the variable to modify\n                # second is the index to modify\n                # third argument is the value to set\n                elif func == 'set':\n\n                    # obtain varname of array\n                    varname = self.parse(0, line, f, sp, args)[2]\n\n                    # index to set at\n                    ind = self.parse(1, line, f, sp, args)[2]\n\n                    # value to set\n                    val = self.parse(2, line, f, sp, args)[2]\n                    \n                    # perform set operation                                                      \n                    self.vars[varname].value[ind] = val\n                        \n                    return val\n\n                # deletes a variable\n                elif func == 'del':\n                    for i in range(len(args)):\n                        line, as_s, first = self.parse(i, line, f, sp, args)\n                        del self.vars[first]\n                    return True\n\n                # concatinates two strings\n                elif func == 'cat':\n                    \n                    # first argument (required)\n                    first = self.parse(0, line, f, sp, args)[2]\n\n                    # second argument (required)\n                    second = self.parse(1, line, f, sp ,args)[2]\n                    \n                    cat = str(first) + str(second)\n                    \n                    # concatinate rest of arguments\n                    for i in range(2, len(args)):\n                        cat += str(self.parse(i, line, f, sp, args)[2])\n\n                    return cat\n\n                # determines equality of all arguments\n                elif func == 'equals':\n                    line, as_s, arg1 = self.parse(0, line, f, sp, args)\n                    for i in range(1, len(args)):\n                        line, as_s, curr_arg = self.parse(i, line, f, sp, args)\n                        if curr_arg != arg1:\n                            return False\n                    return True\n\n                # negates a bool\n                elif func == 'not':\n                    return not self.parse(0, line, f, sp, args)[2]                    \n\n\n\n\n\n                # ands two bools\n                elif func == 'and':\n                    first = self.parse(0, line, f, sp, args)[2]\n                    for i in range(1, len(args)):\n                        if first and not self.parse(i, line, f, sp ,args)[2]:\n                            return False\n                    return True\n\n                # ors two bools\n                elif func == 'or':\n                    return self.parse(0, line, f, sp, args)[2] or self.parse(1, line, f, sp ,args)[2]\n\n                # inline function, takes any amount of instructions\n                # returns the result of the last instruction\n                elif func == \"=>\":\n                    ret = None\n                    for i in range(len(args)):\n                        arguments = args[i]\n\n                        # current instruction\n                        ins_s = arguments[0]\n\n                        line, ret = self.convert_arg(ins_s, line, f, sp, args)\n                    return ret\n\n                # data structure for holding multiple items\n                elif func == 'class':\n                    # new interpreter\n                    inter = Interpreter()\n                    \n                    # log self\n                    inter.parent = self\n                    \n                    # extract class name\n                    name = self.parse(0, line, f, sp, args)[2]\n\n                    # block at which the class exists\n                    block_s = args[1][0]\n\n                    # execute the block in the private environment\n                    inter.execute(block_s)\n                    \n                    # creates a variable out of the new interpreters resources\n                    obj_to_add = {}\n                    for varname in inter.vars.keys():\n                        val = inter.vars[varname].value\n                        obj_to_add[varname] = Var(varname, val)\n                    \n                    for methodname in inter.methods:\n                        obj_to_add[methodname] = Var(methodname + \"#method\", inter.methods[methodname])\n                    \n                    self.vars[name] = Var(name, obj_to_add)\n                    return obj_to_add\n\n                # gets the first argument at the second argument\n                elif func == 'get':\n                    iterable = self.parse(0, line, f, sp, args)[2]\n                    index = self.parse(1, line, f, sp, args)[2]\n                    return iterable[index]\n\n                # get the keys of the first argument\n                elif func == 'keys':\n                    return self.parse(0, line, f, sp, args)[2].keys()\n\n                # imports resources from another location\n                elif func == 'import' or func == 'launch' or func == 'include' or func == 'using':\n                    \n                    line, as_s, path = self.parse(0, line, f, sp, args)\n                    if path in self.imports:\n                        continue\n                    self.imports.add(path)\n                    contents = ''\n                    with open(path) as f:\n                        contents = f.readlines()\n                        script = ''\n                        for line in contents:\n                            script += line\n                        self.logg(\"importing library\", str(args[0][0]))\n                        self.execute(script)\n                    return\n\n                # interpreter printing mechanism\n                elif func == 'prnt':\n                    for i in range(len(args)):\n                        arguments = args[i]\n                        first = self.interpret(arguments[0])\n                        srep = str(first)\n                        line = line[:f + sp + arguments[1] + 1] + srep + line[f + sp + arguments[2]+ 1:]\n                        if i != len(args) - 1:\n                            self.out += srep + ' '\n                        else:\n                            self.out += srep + '\\n'\n                    return first\n\n                # python print\n                elif func == 'print':\n                    ret = None\n                    for i in range(len(args)):\n                        ret = self.parse(i, line, f, sp, args)[2]\n                        if i != len(args) - 1:\n                            print(ret, end=\" \", flush=True)\n                        else:\n                            print(ret, flush=True)\n                    return ret\n\n                # sleeps the thread for the first argument amount of seconds\n                elif func == \"sleep\":\n                    return time.sleep(self.parse(0, line, f, sp, args)[2])\n\n                # returns this interpreter\n                elif func == 'me':\n                    return self.me()\n\n                # provides a representation of the current environment\n                elif func == 'env':\n                    should_print_s = args[0][0]\n                    line, should_print = self.convert_arg(should_print_s, line, f, sp, args)\n                    strenv = ''                        \n                    strenv += \"--------- environment ---------\"\n                    strenv += \"\\nout:\\n\" + self.out\n                    strenv += \"\\nvariables:\\n\"\n                    for varname, v in self.vars.items():\n                        try:\n                            strenv += \"\\t\" + varname + \" = \" + str(v.value) + '\\n'\n                        except:\n                            None\n\n                    strenv += \"\\nmethods:\\n\"\n                    # printing methods\n                    for methodname, Method in self.methods.items():\n                        strenv += \"\\t\" + methodname + \"(\"\n                        for i in range(len(Method.args)):\n                            arg = Method.args[i]\n                            if i != len(Method.args) - 1:\n                                strenv += \"\" + str(arg) + \", \"\n                            else:\n                                strenv += \"\" + str(arg)\n                        strenv += \")\\n\"\n                        \n                    # printing macros\n                    strenv += \"\\nmacros:\\n\"\n                    for macro in macros:\n                        strenv += \"\\t\" + str(macro) + \": \" + str(macros[macro]) + \"\\n\"\n                    \n                    # printing postmacros\n                    strenv += \"\\npostmacros:\\n\"\n                    for postmacro in postmacros:\n                        strenv += \"\\t\" + str(postmacro) + \": \" + str(postmacros[postmacro]) + \"\\n\"                        \n\n                    # printing syntax\n                    strenv += \"\\nsyntax:\\n\"\n                    for syn in syntax:\n                        strenv += \"\\t\" + str(syn) + \": \" + str(syntax[syn]) + \"\\n\"\n                        \n                    # printing enclosing syntax\n                    strenv += \"\\nenclosing syntax:\\n\"\n                    for syn in enclosed:\n                        strenv += \"\\t\" + str(syn) + \": \" + str(enclosed[syn]) + \"\\n\"\n                        \n                        \n\n                    strenv += \"\\nlog:\\n\" + self.log\n                    strenv +=\"\\n-------------------------------\"\n                    if should_print:\n                        print(strenv)\n                    return strenv\n\n                # executes MSNScript2 from its string representation\n                elif func == '-':\n                    line, as_s, string = self.parse(0, line, f, sp, args)\n                    return self.interpret(string)\n\n                # strips a str\n                elif func == 'strip':\n                    return self.parse(0, line, f, sp, args)[2].strip()\n\n                # returns the MSNScript2 passed as a string\n                elif func == 'async':\n                    return args[0][0]\n\n                # gets the current time\n                elif func == 'now':\n                    return time.time()\n\n                # creates a private execution enviroment\n                # private block will have read access to the enclosing Interpreter's\n                # variables and methods\n                elif func == 'private' or func == 'inherit:all':\n                    block_s = args[0][0]\n                    inter = Interpreter()\n                    inter.parent = self\n                    for vname, entry in self.vars.items():\n                        try:\n                            inter.vars[vname] = Var(vname, entry.value)\n                        except:\n                            inter.vars[vname] = Var(vname, entry)\n                    for mname, entry in self.methods.items():\n                        inter.methods[mname] = entry\n                    return inter.interpret(block_s)\n\n                # breaks out of the working context\n                elif func == 'break':\n                    self.breaking = True\n                    return\n\n                # inherits methods only from the parent context\n                elif func == 'inherit:methods':\n                    for methodname in self.parent.methods:\n                        self.methods[methodname] = self.parent.methods[methodname]\n                    return True\n\n                # inherits variables from parent context\n                elif func == 'inherit:vars':\n                    for varname in self.parent.vars:\n                        self.vars[varname] = self.parent.vars[varname]\n                    return True\n\n                # creates a new execution environment\n                # new env is executed by a fresh interpreter\n                # nothing is inherited from parent context\n                elif func == 'new' or func == 'inherit:none':\n                    inter = Interpreter()\n                    inter.parent = self\n                    return inter.interpret(args[0][0])\n\n                # starts a new process with the first argument as the target\n                elif func == 'process':\n                    \n                    # path to the process to run\n                    path = self.parse(0, line, f, sp, args)[2]\n                \n                    # if windows:\n                    if os.name == 'nt':\n                    \n                        # runs the process\n                        sub = subprocess.run (args=['python', 'msn2.py', path], shell=True)\n                        self.processes[path] = sub \n                        return sub\n\n                    # if linux\n                    elif os.name == 'posix':\n                        \n                        return None\n                    return None\n\n\n                # gets the pid of the working process\n                elif func == 'pid':\n                    return os.getpid()\n                \n                # creates a new thread to execute the block, thread\n                # starts on the same interpreter\n                elif func == \"thread\":\n                    name = self.parse(0, line, f, sp, args)[2]\n                    thread = threading.Thread(target=self.interpret, args=(args[1][0],))\n                    thread.name = name\n                    self.threads[name] = [thread, self]\n                    thread.start()\n                    return True\n\n                # acquires the global lock\n                elif func == 'acquire':\n                    return auxlock.acquire()\n                \n                # releases the global lock\n                elif func == 'release':\n                    return auxlock.release()\n                    \n\n                # joins the current working thread with the thread name specified\n                elif func == 'join':\n                    \n                    for i in range(len(args)):\n                        name = self.parse(i, line, f, sp, args)[2]\n                        thread = self.thread_by_name(name)\n                        while thread == None:\n                            None\n                        thread.join()\n                    return True\n                \n                # exits the working thread\n                elif func == 'stop':\n                    \n                    return os._exit(0)\n                            \n                # tries the first argument, if it fails, code falls to the catch/except block\n                # there is no finally implementation\n                elif func == 'try':\n                    ret = None\n                    try:\n                        ret = self.interpret(args[0][0])\n                    except:\n                        try:\n                            catch_block = args[1][0]\n                            ret = self.interpret(catch_block)\n                        except:\n                            None\n                    return ret\n                    \n                # waits for a certain condition to be true\n                elif func == 'wait':\n\n                    # no block per tick provided\n                    if (len(args)) == 1:\n                        while not self.interpret(args[0][0]):\n                            None\n\n                    # block provided\n                    else:\n                        while not self.interpret(args[0][0]):\n                            self.interpret(args[1][0])\n                    return True\n\n                # exports a quantity of variables or methods from the working context to the parent context,\n                # ex private context -> boot context\n                elif func == 'export':\n                    for i in range(len(args)):\n                        varname = self.parse(i, line, f, sp, args)[2]\n                        if varname in self.vars:\n                            self.parent.vars[varname] = self.vars[varname]\n                        elif varname in self.methods:\n                            self.parent.methods[varname] = self.methods[varname]\n                    return True\n\n                # exports a single value as the variable name\n                # first argument is the new variable name\n                # second is the value to export\n                elif func == 'exportas':\n                    \n                    # variable name\n                    varname = self.parse(0, line, f, sp, args)[2]\n\n                    # value\n                    val = self.parse(1, line, f, sp, args)[2]      \n\n                    # export to parent context\n                    self.parent.vars[varname] = Var(varname, val)\n                    return val\n\n                # exports all variables and methods to the parent context\n                elif func == 'exportall':\n                    for varname in self.vars:\n                        self.parent.vars[varname] = self.vars[varname]\n                    for methodname in self.methods:\n                        self.parent.methods[methodname] = self.methods[methodname]\n                    return True\n\n                # sends a command to the console, console type depends on\n                # executors software of course\n                elif func == 'console':\n                    for i in range(len(args)):\n                        os.system(self.parse(i, line, f, sp, args)[2])\n                    return True\n\n                # performs a get request to an http server\n                # first parameter is the URL\n                # second parameter is a map of parameters to sent as a request\n                elif func == 'request':\n                    \n                    # get URL to request from\n                    url = self.parse(0, line, f, sp, args)[2]\n\n                    try:\n                        # get parameters\n                        params = self.parse(1, line, f, sp, args)[2]\n                    except:\n                        params = None\n\n                    response = requests.get(url=url, params=params)\n                    \n                    # return response\n                    return response.json()\n                \n                # gets the public IP address of the machine\n                elif func == 'pubip':\n                    \n                    # asks an api server for this address\n                    return requests.get('https://api.ipify.org').text\n\n                # gets the private ips of this machine\n                elif func == 'privips':\n                    return socket.gethostbyname_ex(socket.gethostname())[2]\n\n                # starts an api endpoint\n                elif func == 'ENDPOINT':\n                    \n                    # initial API endpoint data\n                    path = None\n                    init_data = {}\n                    port = 5000\n                    host = '127.0.0.1'\n                    \n                    # 1 argument, defaults to 127.0.0.1:5000/path = {}\n                    if len(args) == 1:\n                        \n                        # path to endpoint\n                        path = self.parse(0, line, f, sp, args)[2]\n\n                    # 2 arguments, defaults to 127.0.0.1:5000/path = init_data\n                    elif len(args) == 2:\n                    \n                        # path to endpoint\n                        path = self.parse(0, line, f, sp, args)[2]\n                    \n                        # json to initialize at the endpoint\n                        init_data = self.parse(1, line, f, sp, args)[2]\n                    \n                    # 3 arguments, defaults to host:port/path = init_data\n                    elif len(args) == 4:\n                        \n                        # host to endpoint as first argument\n                        host = self.parse(0, line, f, sp, args)[2]\n                        \n                        # port to endpoint as second argument\n                        port = self.parse(1, line, f, sp, args)[2]\n                        \n                        # path to endpoint\n                        path = self.parse(2, line, f, sp, args)[2]\n                        \n                        # json to initialize at the endpoint\n                        init_data = self.parse(3, line, f, sp, args)[2]                        \n                        \n                    \n                    # prepare endpoint\n                    print('serving on http://' + host +':' + str(port) + path)\n                    app = Flask(__name__)\n                    \n                    # disable flask messages that aren't error-related\n                    log = logging.getLogger('werkzeug')\n                    log.disabled = True\n                    app.logger.disabled = True\n                    \n                    # gets Flask Api\n                    api = Api(app)\n                    \n                    # makes a response to itself, carrying data to endpoint as a response\n                    curr_endpoint = self.EndPoint.make_api(init_data)\n                    \n                    # logs newly created endpoint\n                    self.endpoints[path] = api\n                    \n                    # adds class EndPoint as a Resource to the Api with the specific path\n                    # passes arg2 alongside\n                    api.add_resource(curr_endpoint, path)\n                    \n                    # starting flask server\n                    try:\n                        \n                        # if internal\n                        app.run(host=host, port=port, debug=False, use_reloader=False)\n                        \n                    except:\n                        # if external\n                        try:\n                            if __name__ == '__main__':\n                                app.run(host='0.0.0.0', port=port, debug=False, use_reloader=False)\n                        except:\n                            None\n                    return api\n\n                # posts to an api endpoint\n                elif func == 'POST':\n                    \n                    # url to post to, defaults to localhost\n                    host = self.parse(0, line, f, sp, args)[2]\n                    \n                    # port to post to\n                    port = self.parse(1, line, f, sp, args)[2]\n                    \n                    # path after url\n                    path = self.parse(2, line, f, sp, args)[2]\n                    \n                    # data to post\n                    data = self.parse(3, line, f, sp, args)[2]\n\n                    # if local network\n                    if host == '0.0.0.0':\n                        response = requests.post(url=('http://127.0.0.1:' + str(port) + path), json=data)\n                    \n                    # if localhost\n                    else:\n                        # post to endpoint\n                        response = requests.post(url=('http://' + host + ':' + str(port) + path), json=data)\n                    \n                    # get response\n                    return response.json()\n                    \n                # gets from an api endpoint\n                elif func == 'GET':\n                        \n                    # url to get from, defaults to localhost\n                    host = self.parse(0, line, f, sp, args)[2]\n                        \n                    # port to get from\n                    port = self.parse(1, line, f, sp, args)[2]\n                        \n                    # path after url\n                    path = self.parse(2, line, f, sp, args)[2]\n                                            \n                    # if local network\n                    if host == '0.0.0.0':\n                        return requests.get(url=('http://127.0.0.1:' + str(port) + path)).json()\n                    \n                    # if localhost\n                    else:\n                        return requests.get(url=('http://' + host + ':' + str(port) + path)).json()\n\n                            \n                # deletes from an api endpoint\n                elif func == 'DELETE':\n                    \n                    # url to delete from, defaults to localhost\n                    host = self.parse(0, line, f, sp, args)[2]\n                    \n                    # port to delete from\n                    port = self.parse(1, line, f, sp, args)[2]\n                    \n                    # path after url\n                    path = self.parse(2, line, f, sp, args)[2]\n                    \n                    if host == '0.0.0.0':\n                        response = requests.delete(url=('http://127.0.0.1:' + str(port) + path))\n                    else:\n                        # delete from endpoint\n                        response = requests.delete(url=('http://' + host + ':' + str(port) + path))\n                    \n                    return response.json()\n                    \n\n                # determines if the system is windows or not\n                elif func == 'windows':\n                    return os.name == 'nt'\n                \n                # determines if system is linux    \n                elif func == 'linux':\n                    return os.name == 'posix'\n                \n                # determines if system is mac\n                elif func == 'mac':\n                    return sys.platform == 'darwin'\n                \n\n                \n                # object instance requested\n                elif func in self.vars:\n\n                    # get classname to create\n                    classname = func\n\n                    # template Var obj to create from\n                    var_obj = self.vars[classname].value\n\n                    # new class instance\n                    instance = {}\n\n                    curr_arg_num = 0\n\n                    # attributes to apply\n                    for name in var_obj:\n\n                        # value can be None\n                        try:\n                            instance[name] = self.parse(curr_arg_num, line, f, sp, args)[2]\n\n                        # if not specified, field is default value\n                        except:\n                            try:\n                                instance[name] = var_obj.value[name].copy()\n                            except:\n                                var = var_obj[name]\n                                instance[name] = var.value\n                        curr_arg_num += 1\n\n                    return instance\n\n                # gets an attribute of an instance of a class\n                elif func == 'getattr':\n                    \n                    # name of the object to pull from\n                    name = self.parse(0, line, f, sp, args)[2]\n\n                    # current working object\n                    o = self.vars[name].value\n\n                    # get attribute to pull\n                    attr = self.parse(1, line, f, sp, args)[2]\n                    return o[attr]\n\n                # sets an attribute of an instance of a class\n                elif func == 'setattr':\n                    \n                    # name of the object to set at\n                    name = self.parse(0, line, f, sp, args)[2]\n\n                    # current working object\n                    o = self.vars[name].value\n\n                    # name of attribute to set\n                    attr = self.parse(1, line, f, sp, args)[2]\n\n                    # value to set\n                    val = self.parse(2, line, f, sp, args)[2]\n\n                    # set the value\n                    o[attr] = val\n                    return val\n\n\n                # functional syntax I decided to add to make loops a tiny bit faster,\n                # cannot receive non literal arguments\n                # syntax:     3|5|i (prnt(i))\n                # prnts 3\\n4\\n5\n                elif func.count('|') == 2:\n                    loop_args = func.split('|')\n                    start = eval(loop_args[0])\n                    end = eval(loop_args[1])\n                    loopvar = loop_args[2]\n\n                    # prepare loop variable\n                    self.vars[loopvar] = Var(loopvar, start)\n\n                    # obtain loop block\n                    block_s = args[0][0]\n\n                    if start < end:\n                        for i in range(start, end):\n                            self.vars[loopvar].value = i\n                            self.interpret(block_s)\n\n                    # reversed iteration\n                    else:\n                        for i in reversed(range(end, start)):\n                            self.vars[loopvar].value = i\n                            self.interpret(block_s)\n                    return\n                \n                # quicker conditional operator as functional prefix\n                elif len(func) > 0 and func[0] == '?':\n                    func = func[1:]\n                    ret = None\n                    if self.interpret(func):\n                        ret = self.interpret(args[0][0])\n                    else:\n\n                        # else block is optional\n                        try:\n                            ret = self.interpret(args[1][0])\n                        except:\n                            None\n                    return ret\n                \n                # fallback\n                else:\n                    try:\n                        line = self.replace_vars2(line)\n                        # python piggyback attempt\n                        \n                        return eval(line)\n                    except:\n                        # maybe its a variable?\n                        try:\n                            return self.vars[line].value\n                        except:\n                            # ok hopefully its a string lol\n                            return line\n  \n  \n            if obj != '':\n                objfunc += c\n            else:\n                func += c\n                \n        \n        try:\n            line = self.replace_vars2(line)\n        except:\n            None\n        try:\n            return eval(line)\n        except:\n            try:\n                return eval(str(self.replace_vars(line)))\n            except:\n                return None\n\n    # adds a new program wide syntax\n    def add_syntax(self, token, between, function):                    \n        syntax[token] = [between, function]\n        return [token, between, function]\n\n    def run_syntax(self, key, line):\n                # get everything between after syntax and before next index of syntax\n                # or end of line\n                inside = line[len(key):line.rindex(key)]\n                \n                # variable name\n                invarname = syntax[key][0]\n                \n                # function to be run\n                function = syntax[key][1]\n                \n                # store the in between for the user function\n                self.vars[invarname] = Var(invarname, inside)\n                \n                return self.interpret(function)\n\n\n\n    def replace_vars2(self, line):\n        for varname, var in self.vars.items():\n                try:\n                    val = var.value\n                except:\n                    try:\n                        val = eval(str(var))\n                    except:\n                        val = str(var)\n                if isinstance(val, str):\n                    val = '\"' + val + '\"'\n                line = line.replace('?'+varname+'?', str(val))\n        return line\n\n    def thread_by_name(self, name):\n        try:\n            # thread exists\n            return self.env_by_name(name)[0]\n        except:\n            \n            # thread does not exist (yet)\n            return None\n\n    def env_by_name(self, name):\n        for threadname in self.threads.keys():\n            if threadname == name:\n                return self.threads[threadname]\n        return None\n\n    def parse(self, arg_number, line, f, sp, args):\n        as_s = args[arg_number][0]\n        line, ret = self.convert_arg(as_s, line, f, sp, args)\n        return line, as_s, ret\n\n    def convert_arg(self, ins_s, line, f, sp ,args):\n        ret = self.interpret(ins_s)\n        return line[:f + sp + args[0][1] + 1] + str(ret) + line[f + sp + args[0][2]+ 1:], ret\n\n    def shell(self):\n        ip = None\n        while ip != 'exit':\n            ip = input(\">>> \")\n            self.interpret(ip)\n\n    def logg(self, msg, line):\n        self.log += \"[*] \" + msg + \" : \" + line + \"\\n\"\n\n    def err(self, err, msg, line):\n        if msg == '':\n            errmsg = \"[-] \" + err + \" : \" + line\n        else:\n            errmsg =  \"[-] \" + err + \" : \" + msg + \" : \" + line\n        self.out += errmsg + \"\\n\"\n        self.log += errmsg + \"\\n\"\n        print (errmsg)\n        return errmsg\n    \n    def __del__(self):\n        None\n    \n    def method_args(self, line, j):\n        argstring = '' \n        instring = False\n        for k in range(j + 1, len(line)):\n            if line[k] == '\"' and not instring:\n                instring = True\n            elif line[k] == '\"' and instring:\n                instring = False\n            if not instring:\n                if line[k] != ' ':\n                    if line[k] == ')':\n                        break\n                    argstring += line[k]\n            else:\n                argstring += line[k]\n        return argstring.split(','), k\n\n    def thread_split(self, line):\n        self.interpret(line)\n\n    # splits a process\n    def process_split(self, line):\n        inter = Interpreter()\n        return inter.interpret(line)\n\n    def var_exists(self, varname):\n        if varname in self.vars:\n            return True\n        return False\n\n    def var_names(self):\n        names = []\n        for key in self.vars:\n            names.append(key)\n        return names\n\n    def is_py_str(self, line):\n        try:\n            return line[0] == '\"' and line[len(line) - 1] == '\"'\n        except:\n            return False\n\n    def is_str(self, line):\n        return line[0] == '<' and line[len(line) - 1] == '>'\n\n    # gets the variable value from the variable name\n    def get_var(self, name):\n        return self.vars[name].value\n\n    # extracts the argument lines from the merged arguments passed\n    def get_args(self, line):\n        args = []\n        l = len(line)\n        arg = ''\n        start = 0\n        p = 0\n        a = 0\n\n        s = 0\n        indouble = False\n\n        s2 = 0\n        insingle = False\n\n        b = 0\n        for i in range(l + 1):\n            c = ''\n            try:\n                c = line[i]\n            except:\n                None\n\n            if c == '[' and not s2 > 0 and not s > 0:\n                a += 1\n            if c == ']' and not s2 > 0 and not s > 0:\n                a -= 1\n\n            if c == '(' and not s2 > 0 and not s > 0:\n                p += 1\n            if c == ')' and not s2 > 0 and not s > 0:\n                p -= 1\n\n            if not self.in_string(s, s2):\n                if c == '{':\n                    b += 1\n                if c == '}':\n                    b -= 1\n\n            if not indouble and not s2 > 0 and c == '\"':\n                s += 1\n                indouble = True\n            elif indouble and c == '\"':\n                s -= 1\n                indouble = False\n\n            if not insingle and not s > 0 and c == \"'\":\n                s2 += 1\n                insingle = True\n            elif insingle and c == \"'\":\n                s2 -= 1\n                insingle = False\n\n            # print(line)\n            # print (f\"\"\"\n            # c: {c}\n            # p: {p}\n            # a: {a}\n            # s: {s}\n            # s2: {s2}\n            \n            # \"\"\")\n\n            if c == ',' and s == 0 and s2 == 0 and  p == 0 and a == 0 and b == 0:\n                args.append([arg, start, start + len(arg)])\n                start = i + 1\n                arg = ''\n                continue\n            elif i == l:\n                args.append([arg, start, start + len(arg)])\n            arg += c\n        return args\n\n    def in_string(self, s, s2):\n        return s > 0 or s2 > 0\n\n    def interpret_msnscript_1(self, line):\n        \n        # parse all text in the line for text surrounded by %\n        funccalls = []\n        infunc = False\n        func = ''\n        for i in range(0, len(line)):\n            if line[i] == '|' and not infunc:\n                infunc = True\n            elif line[i] == '|' and infunc:\n                infunc = False\n                funccalls.append(func)\n                func = ''\n            elif infunc:\n                func += line[i]\n            \n        # for each instance of an msn2 reference    \n        for call in funccalls:\n            line = line.replace('|' + call + '|', str(self.interpret(call)))\n        element = ''\n        variable = ''\n\n        for i in range(0, len(line)):\n            c = line[i]\n            if c != ' ':\n                if c == '+' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n\n                    # if element is a number\n                    if isinstance(element, float) or isinstance(element, int):\n                        self.vars[variable].value += self.interpret(element)\n                    # if element is a string\n                    elif isinstance(element, str):\n                        try:\n                            self.vars[variable].value += self.interpret(element)\n                        except:\n                            self.vars[variable].value += self.interpret(element)\n                                \n                    return self.vars[variable].value\n                elif c == '-' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n                    self.vars[variable].value -= self.interpret(element)\n                    return self.vars[variable].value\n                elif c == '*' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n                    self.vars[variable].value *= self.interpret(element)\n                    return self.vars[variable].value\n                elif c == '/' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n                    self.vars[variable].value /= self.interpret(element)\n                    return self.vars[variable].value\n                elif c == '=':\n                    variable = element\n                    element = ''\n                    string = False\n                    array = False\n                    for j in range(i+1, len(line)):\n                        if line[j] == '\"':\n                            string = True\n                        if line[j] == '[':\n                            array = True                     \n                        element += line[j]\n                    self.vars[variable] = Var(variable, self.interpret(element)) \n                    return self.vars[variable].value\n                \n                elif \"{\" in element and \"}\" in element:\n                    if \":\" not in element:\n                        expression = element.replace(\"{\", '').replace(\"}\", '')\n                        willrun = self.boolean(expression)\n                        \n                        if willrun:\n                            line = line[line.index(\"}\") + 1:]\n                            self.interpret(line)\n                    else:\n                        times = self.loop(element)\n                        first = times[0]\n                        last = times[1]\n                        optvar = times[2]\n                        try:\n                            first = self.vars[first].value\n                        except: \n                            None\n                        try:\n                            last = self.vars[last].value\n                        except:\n                            None\n                        first = int(first)\n                        last = int(last)\n                        self.vars[optvar] = Var(optvar, first)\n                        if first <= last:\n                            for i in range(first, last):\n                                if optvar in self.vars:\n                                    self.vars[optvar].value = i\n                                self.interpret_msnscript_1(line.replace(' ', '').replace(element, ''))\n                        else:\n                            for i in range(last, first):\n                                if optvar != '':\n                                    self.vars[optvar].value = i\n                                self.interpret_msnscript_1(line.replace(' ', '').replace(element, ''))\n                    break\n                elif c == \"&\":\n                    None\n\n                else:\n                    element += c\n\n    def boolean(self, expression):\n        first = ''\n        last = ''\n        op = ''\n        for i in range(0, len(expression)):\n            if  expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] != '-' and expression[i + 2] != '+':\n                for j in range(i + 2, len(expression)):\n                    last += expression[j]\n                op = '==' \n                break\n            elif expression[i] == '!' and expression[i + 1] == '&' and expression[i + 2] == '&'  and expression[i + 3] != '-' and expression[i + 3] != '+':\n                for j in range(i + 3, len(expression)):\n                    last += expression[j]\n                op = '!=' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '-' and expression[i + 3] != 'e':\n                for j in range(i + 3, len(expression)):\n                    last += expression[j]\n                op = '<' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '+' and expression[i + 3] != 'e':\n                for j in range(i + 3, len(expression)):\n                    last += expression[j]\n                op = '>' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '-' and expression[i + 3] == 'e':\n                for j in range(i + 4, len(expression)):\n                    last += expression[j]\n                op = '<=' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '+' and expression[i + 3] == 'e':\n                for j in range(i + 4, len(expression)):\n                    last += expression[j]\n                op = '>=' \n                break\n            else:\n                first += expression[i]\n        \n        try:\n            firsteval = self.vars[first].value\n        except KeyError:\n            firsteval = self.evaluate(first, 'string')\n\n        try:\n            lasteval = self.vars[last].value\n        except KeyError:\n            lasteval = self.evaluate(last, 'string')\n\n        if op == '==':\n            return firsteval == lasteval\n        if op == '!=':\n            return firsteval != lasteval\n        if op == '<':\n            return firsteval < lasteval\n        if op == '>':\n            return firsteval > lasteval\n        if op == '<=':\n            return firsteval <= lasteval\n        if op == '>=':\n            return firsteval >= lasteval\n        return False\n\n    # scrapes all html elements from a URL\n    def html_all_elements(self, url):\n        \n        # obtains a response from the URL\n        response = requests.get(url)\n        \n        soup = BeautifulSoup(response.content, 'html5lib')\n        \n        # obtains all html elements\n        return soup.find_all()\n        \n        \n\n    def loop(self, section):\n        first = ''\n        last = ''\n        optvar = ''\n        optvarfound = False\n        for i in range(1, len(section)):\n            if section[i] == ':':\n                for j in range(i + 1, len(section)):\n                    if section[j] == ':':\n                        for k in range(j + 1, len(section)):\n                            if section[k] == '}':\n                                optvarfound = True\n                                break\n                            optvar += section[k]    \n                    if section[j] == '}':\n                        break\n                    if optvarfound:\n                        break\n                    last += section[j]\n                break\n            first += section[i]\n        return first, last, optvar\n        \n    def evaluate(self, postop, type):\n        new = postop\n        try:\n            return eval(new)\n        except:\n            None\n        if type == 'number':\n            new = self.replace_vars(new) \n            try:\n                return eval(new)\n            except:\n                return eval(str(new))\n        elif type == 'string':\n            return self.string(postop)\n        elif type == 'array':\n            return self.array(postop)\n        elif type == 'unknown':\n            new = self.replace_vars(new) \n            try:\n                evaluation = eval(str(self.string(new)))\n            except:\n                try:\n                    evaluation = self.array(self.vars[new])\n                except:\n                    try:\n                        evaluation = self.vars[self.string(eval(new))]\n                    except:\n                        try:\n                            evaluation = eval(new)\n                        except:\n                            evaluation = new\n            \n            return evaluation\n\n    def me(self):\n        return str(self).replace(' ', '').replace('<', '').replace('>', '').replace('Interpreter', '')\n\n    def string(self, string):\n        strn = ''\n        isv = False\n        try:\n            string = self.vars[string]\n            isv = True\n        except KeyError:\n            None\n\n        # if isv and '\"' not in string:\n        #     string = '\"' + string + '\"'\n        try:\n            strn = eval(string);\n        except:\n            None\n        try:\n            for var in self.vars:\n                strn = strn.replace(\"{\" + var + \"}\", str(self.vars[var].value))\n            for method in self.methods.keys():\n                toprint = ''\n                body = self.methods[method].body\n                for line in body:\n                    toprint += line + '\\n'\n                strn = strn.replace(\"{\" + method + \"}\", toprint)\n        except:\n            None\n        return strn\n    def array(self, postop):\n        array = []\n        try:\n            array = eval(postop)\n        except:\n            None\n        return array\n\n    class Method:\n            def __init__(self, name, interpreter):\n                self.name = name\n                self.args = []\n                self.body = []\n                self.returns = []\n                self.ended = False\n                self.interpreter = interpreter\n\n            def add_arg(self, arg):\n                self.args.append(arg)\n\n            def add_body(self, body):\n                self.body.append(body)\n\n            def add_return(self, ret):\n                self.returns.append(ret)\n\n            def run(self, args, inter):\n                for i in range(len(self.args)):\n                    try:\n                        inter.vars[self.args[i]] = inter.vars[args[i]]\n                    except:\n                        try: \n                            inter.vars[self.args[i]] = Var(self.args[i], args[i])\n                        except:\n                            inter.vars[self.args[i]] = args[i]\n                for line in self.body:\n                    inter.interpret(line)\n                    \n                    \n                    \n                    \n\n\n";function Sv(){return Cv.apply(this,arguments)}function Cv(){return(Cv=Ot(Nt().mark((function e(){return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.21.0/full/"});case 2:return wv=e.sent,e.next=5,wv.runPython(jv);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.addEventListener("load",Sv,!1),window.onload=Sv();var Ev=0;function Tv(e){return(0,Je.jsxs)("div",{className:"msn2-execution-display-div",children:[(0,Je.jsx)(Nv,{codeid:e.executionid,code:e.code,codeheight:e.codeheight}),(0,Je.jsx)(_v,{executionid:e.executionid}),(0,Je.jsx)(Mv,{outid:e.executionid,text:"Ready for execution"})]})}function Mv(e){return(0,Je.jsx)("div",{id:e.outid+"out",className:"msn2-out-div"})}function _v(e){return(0,Je.jsx)("div",{className:"msn2-execute-button-div",id:e.executionid+"button",onClick:function(){return function(e){Ev++;var t=document.getElementById(e+"code").value,n=document.getElementById(e+"out");document.getElementById(e+"button");n.innerHTML.includes("Traceback")&&(n.innerHTML="");wv.runPython("inter = Interpreter()"),wv.runPython("sc = "+JSON.stringify(t));try{wv.runPython("thisout = inter.execute(sc)");var r=wv.runPython("sys.stdout.getvalue()");r.split("\n");if(1==Ev){n.innerHTML="\u200e";var i=0,a=setInterval((function(){i<r.length?("\n"==r[i]?n.innerHTML+="<br/>":n.innerHTML+=r[i],i++):(clearInterval(a),Ev--)}),Math.max(1,1e3/r.length))}else Ev--;wv.runPython("sys.stdout.truncate(0)"),wv.runPython("sys.stdout.seek(0)")}catch(o){!function(e,t){t=t.replace(/\n/g,"<br/>"),e.innerHTML+=t}(n,o.message),Ev--,Av=!1,function(e){Ov.apply(this,arguments)}(n),Sv().then((function(){Av=!0;var e=n.innerHTML.split("<br>").pop();n.innerHTML=n.innerHTML.replace(e,"")}))}}(e.executionid)},children:(0,Je.jsx)("p",{Style:"margin: 0.4rem; padding: 1rem;",children:"execute"})})}function Nv(e){return(0,Je.jsxs)("div",{className:"msn2-code-div",style:{height:"fit-content"},children:[(0,Je.jsx)("p",{style:{margin:0,padding:0,fontSize:".7rem",marginLeft:"90%",userSelect:"none"},children:"Edit Me!"}),(0,Je.jsx)("textarea",{id:e.codeid+"code",contentEditable:"true",className:"msn2-code-area",children:e.code})]})}var Av=!1;function Ov(){return(Ov=Ot(Nt().mark((function e(t){var n;return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.innerHTML+="<br/>Please wait, reloading Python...",n=setInterval((function(){t.innerHTML.includes("Traceback")&&!Av?t.innerHTML+=".":Av&&clearInterval(n)}),25);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dv=function(){return(0,Je.jsxs)("div",{className:"msn2docs-div",children:[(0,Je.jsx)(yv,{title:"Basics",subtitle:"Learn the basics!",subtitle2:"Difficulty: Easy",back:"/msn2docs",next:"/msn2systemcalls"}),(0,Je.jsx)(bv,{title:"Interpretation",subtitle:[(0,Je.jsx)("i",{children:"MSN2"}),"'s backend is with Python, meaning much of the syntax is similar to Python, and Python fallback is requested if an instruction is not recognized as syntax of",(0,Je.jsx)("i",{children:"MSN2"}),". However, of course, there are many differences.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("i",{children:"MSN2"}),"'s base syntax generally interprets code line by line, so there's no need for semicolons.",(0,Je.jsx)("br",{}),"If a line of base code needs to continue to the next line, the line must be entirely surrounded by !{} (aggregate"," block syntax), OR the initial line must end with a '(', and eventually end with a ')'.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{})," Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:aggregate",code:["print('Saying ', end='')\n\n!{print(\n'hello ', end=''\n)}\n\nprint(\n\t'to the','world!')"],codeheight:"11rem"})]}),(0,Je.jsx)(bv,{title:"Imports",subtitle:["Imports are a way to import code from other files, and are used to import code from other files.",(0,Je.jsx)("br",{}),"Imports are declared with the import() system call, see the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system call documentation"})," for more information.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(bv,{title:"Assertions",subtitle:["Assertions are a key component in verifying the correctness of your code.",(0,Je.jsx)("br",{}),"Assertions are used to verify that a condition is true, and if it is not, an assertion error will be printed, providing details of the error.",(0,Je.jsx)("br",{}),"assert() takes any amount of arguments separated by a ','. assert() verifies that every argument evaluates to 1.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Find more about assert() in the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system call documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("i",{children:"Note that the working assertion prints nothing, and the failing assertion prints an error message."}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:assert",code:["assert(True, 1, not 0, not(0), not False)"],codeheight:"3.2rem"}),(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:assertfailure",code:["assert(assert(not True))"],codeheight:"3.2rem"})]}),(0,Je.jsx)(bv,{title:"Layout",subtitle:["The base language is laid out in a way where all instructions can be used as arguments to any function or syntax adjustment.",(0,Je.jsx)("br",{}),"This means that instructions and syntax intertwining can become very recursive in nature, and",(0,Je.jsx)("br",{}),"then permits us the ability to program virtually any algorithm with a single line of code.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:layout",code:["assert(1)\nassert(1, 1)\nassert(1, assert(\n\tassert(\n\t\tassert(\n\t\t\t1\n\t\t),\n\t\tassert(1)\n\t)\n))\n\nassert(1 == 1, 5 in [5], 'hello' in 'hello world')\nassert('key' in {'key': -5438.4382})\nassert(20 - 10 == 10, 5 > 3)"],codeheight:"18rem"})]}),(0,Je.jsx)(bv,{title:"Comments",subtitle:["Comments are a way to write notes in your code, and are ignored by the interpreter.",(0,Je.jsx)("br",{}),"Comments are denoted by a #, and should be declared at the beginning of an instruction.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:comment",code:["# prints an assertion result\nprint(assert(1, 1, not 0))"],codeheight:"7rem"})]}),(0,Je.jsx)(bv,{title:"Environment",subtitle:["You can access a string representation of the environment of your code with the env() system call.",(0,Je.jsx)("br",{}),"env() can also be found in the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system call documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"env() takes 0 or 1 argument, the argument being a boolean as to whether the environment should be printed or not.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:env",code:["env()\nenv(True)"],codeheight:"5rem"})]}),(0,Je.jsx)(bv,{title:"Variables",subtitle:["Variables are a way to store data in your code, and are used to store data for later use.",(0,Je.jsx)("br",{}),"Variables are declared with the below syntax: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:variable",code:['var("integer", 5)\nenv(True)'],codeheight:"6.3rem"})]}),(0,Je.jsx)(bv,{title:"Variable Comparison",subtitle:["Variables can be compared with the inline number replacement syntax '??': ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:variablecomparison",code:['var("integer", 5)\n\nassert(?integer? == 5)\nassert(?integer? != 4)\nassert(?integer? > 4)\nassert(?integer? < 6)\nassert(?integer? >= 5)\nassert(?integer? <= 5)\n\nprint("[+] tests passed")'],codeheight:"14rem"}),"The same syntax can be used with boolean expressions: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:variablecomparison2",code:['var("integer", 5)\n\nassert(?integer? == 5 and ?integer? != 4 and ?integer? > 4 and ?integer? < 6 and ?integer? >= 5 and ?integer? <= 5)\n\nprint("[+] tests passed")'],codeheight:"13rem"}),,(0,Je.jsx)("br",{}),"Variables can also be compared methodically, see the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system call documentation"})," for more method definitions.",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:variablecomparison3",code:['var("integer", 10)\nassert(integer.greater(9), integer.less(51))\nprint("[+] test passed")'],codeheight:"10rem"})]}),(0,Je.jsx)(bv,{title:"Variable manipulation",subtitle:["Variables can be manipulated in various ways.",(0,Je.jsx)("br",{}),"Variables can be accessed with the val(name) system call, taking a single string argument being the name of the variable.",(0,Je.jsx)("br",{}),"Variables can also be accessed with the common variable method .val()",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:variablemanipulation",code:['var("integer", 5)\n\nprint(val("integer"))\nprint(integer.val())'],codeheight:"8.5rem"}),"Variables can be altered many different ways, the below code showcases some of these ways.",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:variablemanipulation2",code:["var(\"integer\", 0)\ninteger.add(1)\nassert(equals(integer.val(), 1))\n\nassert(equals(add('integer', 2), 3))\n\n#using the op class\nassert(equals(var('integer', op.add(integer.val(), 3)), 6))\n\n# using the number replacement syntax '??'\nassert(equals(var('integer', ?integer? + 3), 9))"],codeheight:"20rem"})]}),(0,Je.jsx)(bv,{title:"Variable types",subtitle:["Variables can be of any type, and can be changed at any time.",(0,Je.jsx)("br",{}),"Variables are of types and behave the same way as those in Python.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"You can find type specific methods in the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system call documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:variabletypes",code:['var("integer", 5)\nvar("float", 5.0)\nvar("string", "hello")\nvar("boolean", True)\nvar("list", [1, 2, 3])\nvar("dictionary", {"key": "value"})\nvar("function", lambda x: x + 1)\n\nprint(integer.val(), float.val(), string.val(), boolean.val(), list.val(), dictionary.val(), function.val(5))'],codeheight:"17rem"})]}),(0,Je.jsx)(bv,{title:"Inline function",subtitle:["Inline functions are a way to create a function in a single line of code.",(0,Je.jsx)("br",{}),"The inline function system call (=>()), similar to the rest of instructions in the base language, can be used as arguments to any function or syntax adjustment.",(0,Je.jsx)("br",{}),"The inline function takes any amount of arguments returns the evaluation of its last argument.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Again, you can find methodological documentation of any unknown system call or variable method in the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system call documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:inlinefunction",code:['print(=>(\n\tvar("variable", [1, 2, 3]), \n\tvariable.val()\n))\n\n# simplifying the instruction\nprint(var("variable", [1, 2, 3]))'],codeheight:"10rem"})]}),(0,Je.jsx)(bv,{title:"Contexts",subtitle:["MSN2 is split into contexts, you can view the context of a certain line of code with the env(should_print) system call.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"You can isolate a block of code with the new() or private() system calls, which can be found in the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system call documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"In brief, a new context begins with no variables or methods, ",(0,Je.jsx)("br",{}),"and a private context inherits copies of the variables and methods from the parent context. A private context cannot modify the variables owned by the parent context.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:contexts",code:["var(\"global\", 1)\nassert(global.val())\n\n# asserting the global variable is not visible here\nnew(=>(\n\tassert(not(exists(\"global\")))\n))\n\n# asserting the variable is visible here\nprivate(=>(\n\tassert(exists('global')),\n\tvar('private', 0), \n\tglobal.add(5), \n\tassert(equals(global.val(), 6))))\n\n# private variable should not exist\nassert(not(exists('private')))\n\n# global variable should still exist\nassert(exists('global'))\n\n# global variable should still be 1\nassert(equals(global.val(), 1))\nprint('[+] tests passed')"],codeheight:"30rem"})]}),(0,Je.jsx)(bv,{title:"Built in macro: '@'",subtitle:["The @ symbol is a built in macro that can be used to create or adjust a variable.",(0,Je.jsx)("br",{}),"More about the '@' macro can be found in the ",(0,Je.jsx)("a",{href:"/msn2macros/",children:"macros documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"the '@' utilizes the succeeding instruction to effectively fall back to Python's variable declaration and alteration syntax, ",(0,Je.jsx)("br",{}),Tv({executionid:"ex:atmacro",code:["@integer = assert(1)\nprint(assert(integer.val()))"],codeheight:"6.5rem"}),"The '@' macro can also be used to alter a variable.",(0,Je.jsx)("br",{}),Tv({executionid:"ex:atmacrofunction",code:["@integer=4\n@integer += 3 + 2\nprint(integer.val())"],codeheight:"6.5rem"})]}),(0,Je.jsx)(bv,{title:"Built in enclosing syntax: '<<>>'",subtitle:["<<>> enclosing syntax, or the Python fallback syntax, allows for msn2 code insertion to a Python statement for evaluation.",(0,Je.jsx)("br",{}),"More about the '<<>>' syntax can be found in the ",(0,Je.jsx)("a",{href:"/msn2macros/",children:"macros documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"In short, any ",(0,Je.jsx)("i",{children:"MSN2"})," code surrounded by a pair of '|' will be evaluated and the result will be inserted into the Python statement.",(0,Je.jsx)("br",{}),"Simple usage: ",(0,Je.jsx)("br",{}),Tv({executionid:"ex:enclosing",code:['assert(<< 0 + 1 >>)\nassert(equals(<< (|assert(1)| + 2) * "m" >>, "mmm"))\nprint("[+] tests passed")'],codeheight:"5rem"}),(0,Je.jsx)("br",{}),"Demonstrating using both '@' and '<<>>' syntax: ",(0,Je.jsx)("br",{}),Tv({executionid:"ex:enclosing2",code:['@list = << [int(i) for i in "|cat(1, " ", 2, " ", 3)|".split()] >>\nassert(equals(list.val(), [1, 2, 3]))\nprint("[+] test passed")'],codeheight:"8rem"}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(bv,{title:"Built in macro pair: '~' and '--'",subtitle:["The '~' and '--' macros are a pair of macros that can be used to create a function.",(0,Je.jsx)("br",{}),"More about the '~' and '--' macros can be found in the ",(0,Je.jsx)("a",{href:"/msn2macros/",children:"macros documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"In short, the '~' macro is used to declare a function, and the '--' macro is used to add body to the most recently declared function.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:macros",code:["# function that generates a list\n~ generate_list(length) -> return\n\t-- @return = << [i for i in range(|length.val()|)] >>\n\n# we use private() to isolate the function from its parent context\nassert(equals(private(generate_list(5)), [0, 1, 2, 3, 4]))\nassert(equals(private(generate_list(10)), [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]))\nprint('[+] tests passed')\n\n# viewing environment, note the lack of function variables\nprint(env())"],codeheight:"20rem"}),"There is an alternative syntax for declaring a function, which is the system call function().",(0,Je.jsx)("br",{}),"The function() system call creates a function with a different syntax than the '~' and '--' macros.",(0,Je.jsx)("br",{}),"More about the function() and ret() system calls can be found in the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system calls documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:macros2",code:["# function that generates a list\nfunction('generate_list', ret('generate_list', << [i for i in range(|length.val()|)] >>), 'length')\nassert(equals(private(generate_list(5)), [0, 1, 2, 3, 4]))\nassert(equals(private(generate_list(10)), [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]))\nprint('[+] tests passed')"],codeheight:"10rem"})]}),(0,Je.jsx)(bv,{title:"Built in enclosing syntax: <2><2>",subtitle:["<2><2> enclosing syntax is an ",(0,Je.jsx)("i",{children:"MSN2"})," insertion to an ",(0,Je.jsx)("i",{children:"MSN2"})," instruction for evaluation.",(0,Je.jsx)("br",{}),"More about the <2><2> syntax can be found in the ",(0,Je.jsx)("a",{href:"/msn2macros/",children:"macros documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Similarly to <<>> enclosing syntax, any ",(0,Je.jsx)("i",{children:"MSN2"})," code surrounded by a pair of '%' will be evaluated and the result will be inserted into the ",(0,Je.jsx)("i",{children:"MSN2"})," instruction surrounded by the <2><2> tags.",(0,Je.jsx)("br",{}),,(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),Tv({executionid:"ex:enclosing3",code:["print(<2> %1% and %assert(not False)% <2>)"],codeheight:"5rem"}),(0,Je.jsx)("br",{}),"Use cases may seem unclear, however the importance is more noticeable as code complexity increases.",(0,Je.jsx)("br",{})]}),(0,Je.jsx)(bv,{title:"Built in macro: '*'",subtitle:["The '*' macro is used to unpack a variable or amount of variables for evaluation.",(0,Je.jsx)("br",{}),"More about the '*' macro can be found in the ",(0,Je.jsx)("a",{href:"/msn2macros/",children:"macros documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"This macro can be unsafe, as it simply replaces any instance of a variable name with the value of the variable regardless as to whether it may be in a string or not.",(0,Je.jsx)("br",{}),"However the macro is fine when there is nostring within the argument cannot have a variable name within.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),Tv({executionid:"ex:macros3",code:["@integer = 5\nprint(*integer)"],codeheight:"5rem"}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(bv,{title:"Conditionals",subtitle:["Conditionals are a way to control the flow of a program.",(0,Je.jsx)("br",{}),"Conditionals in ",(0,Je.jsx)("i",{children:"MSN2"})," are relatively simple.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"The if(cond, do, else) system call is used to alter the flow of a program.",(0,Je.jsx)("br",{}),"The if() system call takes three arguments: a condition, a block of code to execute if the condition is true, and a block of code to execute if the condition is false.",(0,Je.jsx)("br",{}),"The condition can be any expression that evaluates to a boolean value.",(0,Je.jsx)("br",{}),"The else argument is optional.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"More about the if() system call can be found in the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system calls documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:if",code:["@integer = 5\n@ result = if (?integer? == 5, 'correct')\nassert(equals(result.val(), 'correct'))\nprint('[+] test passed')"],codeheight:"10rem"}),(0,Je.jsx)(Tv,{executionid:"ex:if2",code:["@integer = 5\nif (?integer? == 6, assert(False), print('correct!'))\nprint('[+] test passed')"],codeheight:"10rem"}),"Also, see the ?() system call for a more concise way to write conditionals.",(0,Je.jsx)("br",{}),"The ?() system call can be found in the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system calls documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(bv,{title:"Error Handling",subtitle:[(0,Je.jsx)("i",{children:"MSN2"})," utilizes a try-catch system for error handling.",(0,Je.jsx)("br",{}),"For more information about the try-catch system, see the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system calls documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:trycatch",code:["try([0, 1, 2, 3][9], print('[*] error caught!'))\nprint('hello')"],codeheight:"5rem"})]}),(0,Je.jsx)(bv,{title:"Loops",subtitle:["Loops provide a way to repeat a block of code.",(0,Je.jsx)("br",{}),"Loops in ",(0,Je.jsx)("i",{children:"MSN2"})," are relatively simple.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"The while(cond, do) system call is used to repeat a block of code.",(0,Je.jsx)("br",{}),"The for(start, end, var, do) system call is used to repeat a block of code a certain number of times.",(0,Je.jsx)("br",{}),"See more about the while() and for() system calls in the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system calls documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:while",code:["@i = 0\n# starting a while loop\nwhile (?i? < 5, @i = ?i? + 1)\nassert(equals(i.val(), 5))\nprint('[+] test passed')"],codeheight:"10rem"}),(0,Je.jsx)(Tv,{executionid:"ex:for",code:["# starting a for loop\nfor (0, 5, 'i', print(i.val(), 'hello!'))"],codeheight:"10rem"})]}),(0,Je.jsx)(bv,{title:"Classes",subtitle:["Classes are a way to create objects in ",(0,Je.jsx)("i",{children:"MSN2"}),".",(0,Je.jsx)("br",{}),"In short, classes are created by asking a new context for variables created within it's context.",(0,Je.jsx)("br",{}),"The class(name, environment) system call is used to create a class.",(0,Je.jsx)("br",{}),"The class() system call takes two arguments: a name for the class, and a block of code to execute in the context of the class.",(0,Je.jsx)("br",{}),"See more about the class() system call in the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system calls documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:class",code:["# declaring a class, \n# we use =>() to include multiple instructions within the new context\nclass('Person', =>(@name='',@age=-1))\n\n# creating a new instance of the Person class\n@ john = Person('john', 40)\nassert(equals(john.name(), 'john'))\nassert(equals(john.age(), 40))\nprint('[+] test passed')"]}),"Altering an instance of a class:",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:class2",code:["# declaring a class, \n# we use =>() to include multiple instructions within the new context\nclass('Person', =>(@name='',@age=-1))\n\n# creating a new instance of the Person class\n@ john = Person('john', 40)\n# altering the instance of the class\njohn.name('johnny')\njohn.age(41)\nassert(equals(john.name(), 'johnny'))\nassert(equals(john.age(), 41))\nprint('[+] test passed')"]}),"A class is simply a dictionary indexing a specific key.\nTo illustrate this, we can print the class:",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:class3",code:["# declaring a class, \nclass('Person', =>(@name='',@age=-1))\n\n# creating a new instance of the Person class\n@ john = Person('john', 40)\nprint(john.val())"]}),"The same task can be achieved with the below syntax:",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:class4",code:["# creating an instance of a class\n@ john = {'name': 'john', 'age': 40}\n\nprint('name:', john.name())\nprint('age:', john.age())"]})]}),(0,Je.jsx)(bv,{title:"Macros",subtitle:["Macros serve as a mechanism to add or adjust syntax in ",(0,Je.jsx)("i",{children:"MSN2"}),".",(0,Je.jsx)("br",{}),"There are several different types of macros, each with their own use cases.",(0,Je.jsx)("br",{}),"See more about macros in the macros documentation: ",(0,Je.jsx)("a",{href:"/msn2macros/",children:"macros documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"A regular, pre-instruction macro can be created with the macro(token, instruction_var_name, do) system call.",(0,Je.jsx)("br",{}),"When a macro is defined, its token will be searched for in each following instruction.\nIf the token is found, the instruction will be replaced with evaluation of the do argument.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"The -(instruction) system call takes a string as an instruction of ",(0,Je.jsx)("i",{children:"MSN2"})," and returns the result of the instruction.",(0,Je.jsx)("br",{}),"To see more about the -(instruction) system call, see the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system calls documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:macroasdf",code:["# defining a macro\nmacro('!', 'line', print(-(line.val())))\n\n# invoking the macro\n! 'hello,'\n! 'world!'\n"]}),"With this, we can simplify the amount of code needed to be written to execute an instruction.",(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:macroasdf2",code:["# simplifying an assertion\nmacro('test', 'line', if(not(-(line.val())), print('[-] assertion error : ', line.val())))\n\n# invoking the macro with a correct assertion\ntest 1 == 1\n# invoking the macro with an incorrect assertion\ntest 1 == 2\n\n# more tests\ntest 5 in [1, 2, 3, 4, 5]\ntest 6 in [1, 2, 3, 4, 5]"]})]}),(0,Je.jsx)(bv,{title:"Redirection",subtitle:["Interpreter redirection allows for a line of code to be redirected to a custom interpreter for a specific amount of lines.",(0,Je.jsx)("br",{}),"A few system calls are used for Interpreter redirection, and you can see more about them in both the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system calls documentation"})," and the ",(0,Je.jsx)("a",{href:"/msn2redirect/",children:"redirection documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"In short, the interpreter redirection system calls are:",(0,Je.jsx)("br",{}),(0,Je.jsxs)("ul",{children:[(0,Je.jsx)("li",{children:"redirect(line_var_name, function)"}),(0,Je.jsx)("li",{children:"stopredirect()"}),(0,Je.jsx)("li",{children:"startredirect()"})]}),"All code found between redirect() and stopredirect() will be redirected to the function specified in the function argument.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:redirect",code:["# example of a redirection\nredirect('line', =>(print('redirected: ', line.val())))\n\nHello, World!\nThis line is being redirected.\nThis is also being redirected.\n\nstopredirect()\nstartredirect()"]}),"Simplifying with macros make redirection appear much more friendly.",(0,Je.jsx)("br",{}),"Macros cannot be used inside of a redirection, see more about this in the ",(0,Je.jsx)("a",{href:"/msn2redirect/",children:"redirection documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Example: ",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:redirect2",code:["# setting up macros\nmacro('print:', '__unused', redirect('rline', print(rline.val())))\nmacro('end', '__unused', =>(stopredirect(), startredirect()))\n\n# invoking the macros\nprint: \n\tHello, World!\n\tThis line is being redirected.\n\tThis is also being redirected.\nend"]})]}),(0,Je.jsx)(bv,{title:["The purpose of MSN2"],subtitle:["The below code shows a more complex example of how the SHOWN ",(0,Je.jsx)("i",{children:"MSN2"})," features can be combined to create new syntax.",(0,Je.jsx)("br",{}),"The code demonstrates the Collatz Conjecture, showing that for an arbitrary positive integer, if the integer is even, divide it by 2, and if the integer is odd, multiply it by 3 and add 1, the sequence will always reach 1.",(0,Je.jsx)("br",{}),"See more about the random() system call in the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system calls documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:complex",code:["# base language code\n@num = 100\nwhile (?num? != 1, if (?num? % 2 == 0, @num/=2,=>(@num*=3,@num+=1)))\nprint('[-] num:', num)"]}),(0,Je.jsx)(Tv,{executionid:"ex:complex2",code:["# simplifying with functions\n\n# even function\n~ iseven(number) -> result\n\t-- var('result', number % 2 == 0)\n\n~ collatz (number) -> result\n\t-- while (?number? != 1, if (private(iseven(number.val())), @number/=2,=>(@number*=3,@number+=1)))\n\t-- var('result', number.val())\n\n# testing the Collatz Conjecture\nprint(private(collatz(random(1, 100,)))))"]}),"The below code shows the same Collatz Conjecture example, but provides the Collatz algorithm as a function to a macro.",(0,Je.jsx)("br",{}),"See information about system calls used in the below code in the ",(0,Je.jsx)("a",{href:"/msn2systemcalls/",children:"system calls documentation"}),".",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:complex3",code:["# simplifying with macros\n\n# defining a macro\nmacro('collatz', 'number', =>(\n\t@number=-(number.val()),\n\twhile (?number? != 1,\n\t\tif (?number? % 2 == 0, @number/=2,=>(\n\t\t\t@number*=3,@number+=1))),\n\tnumber.val()\n\t\n))\n\n# adding another macro to simplify printing\nmacro('p ', 'line', print(-(line.val())))\n\n# testing the Collatz Conjecture\np cat('testing Collatz Conjecture with ', 1000, ': ', collatz 1000)\np cat('testing Collatz Conjecture with ', @rint1=random(0,1000,), ': ', collatz ?rint1?)\np cat('testing Collatz Conjecture with ', @rint2=random(0,1000,), ': ', collatz ?rint2?)\n\n# the final simplification\nmacro('testcollatz ', 'cnumber', =>(@cnumber=-(cnumber.val()), p cat('testing Collatz Conjecture with ', ?cnumber?, ': ', collatz ?cnumber?)))\ntestcollatz 1000\ntestcollatz random(0,1000,)\ntestcollatz random(0,1000,)\n\nprint()\n\n# environment variables\nenv(True)"]})]}),(0,Je.jsx)(bv,{title:"Those were the basics! Onto the next topic?",subtitle:[(0,Je.jsx)($e,{to:"/msn2systemcalls",className:"msn2-big-title",style:{color:"white",margin:0,marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Next Topic"})]})]})},Pv=n(315),Rv=[];function Lv(){var e;return(0,Je.jsx)("div",{style:(e={display:"flex",justifyContent:"center",alignItems:"center",padding:"0.5rem",position:"fixed",bottom:"0",right:"0",margin:"1rem",cursor:"pointer",color:"white",backgroundColor:"black"},vu(e,"padding","0.5rem"),vu(e,"borderRadius","0.5rem"),vu(e,"boxShadow","0 0 0.5rem black"),vu(e,"zIndex","1000"),vu(e,"fontSize","1.5rem"),vu(e,"fontFamily","Segoe UI"),e),onClick:Iv,children:"Scroll to top"})}function Iv(){document.getElementById("scrolltotop").scrollIntoView({behavior:"smooth"})}function zv(e){return(0,Je.jsx)(Pv.Z,{id:"dropdown",onChange:Fv,arrowClassName:"msn2-arrow",arrowClosed:(0,Je.jsx)(Bv,{text:"show all"}),arrowOpen:(0,Je.jsx)(Bv,{text:"hide all"}),placeholderClassName:"msn2-drop-place",controlClassName:"msn2-drop-control",menuClassName:"msn2-drop-menu",options:e.options,placeholder:"Select a system call"})}function Bv(e){return(0,Je.jsx)("h2",{style:{fontSize:"1.1rem"},children:e.text})}function Fv(e){for(var t=e.value,n=document.getElementsByTagName("*"),r=0;r<n.length;r++)if(n[r].id==t)return n[r].scrollIntoView(),void(document.getElementsByClassName("Dropdown-placeholder msn2-drop-place").item(0).innerHTML="Select a system call")}function Wv(e){return(0,Je.jsx)("div",{children:(0,Je.jsx)(bv,{title:[(0,Je.jsx)("h2",{style:{fontSize:"1.1rem"},children:"Arguments"})],subtitle:[e.args.map((function(e,t){return(0,Je.jsxs)("h2",{style:{fontWeight:"normal",fontSize:"1rem"},children:[t+1,". ",(0,Je.jsx)("b",{children:e[0]})," : ",(0,Je.jsx)("b",{children:e[1]})," -> ",e[2]]})}))]})})}function Vv(e){return(0,Je.jsx)("div",{children:(0,Je.jsx)(bv,{title:[(0,Je.jsx)("h2",{children:"Known Issues"})],subtitle:e.issues})})}function Hv(e){for(var t="",n=0;n<e.args.length;n++)t+=e.args[n],n!=e.args.length-1&&(t+=", ");return(0,Je.jsxs)("div",{id:e.name,children:[(0,Je.jsx)(bv,{title:(0,Je.jsxs)("h1",{Style:"font-size: 4rem",children:[e.name," (",t,") -> ",e.return]}),subtitle:[(0,Je.jsx)("h2",{Style:"font-size: 2rem",children:e.type})],subtitle2:e.description}),e.example]})}var qv=function(){for(var e=(0,Je.jsxs)("div",{style:{width:"100%"},children:[(0,Je.jsx)(Hv,{style:{},type:"System Call",name:"print",args:["any","..."],return:"str",description:["Prints any amount of strings to the console.",(0,Je.jsx)("br",{}),"Returns the last string printed.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"It is important to note that there is a different between ",(0,Je.jsx)("i",{children:"MSN2"}),"'s print() and Python's print().",(0,Je.jsx)("br",{}),"as both are able to be utilized.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("i",{children:"MSN2"}),"'s print() is invoked by nesting ",(0,Je.jsx)("i",{children:"MSN2"})," code as arguments to print(), otherwise Python's print() is invoked.",(0,Je.jsx)("br",{}),"It should be noted that when Python's print() is invoked, print()'s return value is None, which is not the same as the base language",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:printsystemcall",code:"print('Hello,', 'World!')"})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"redirect",args:["str","block"],return:"list",description:["Redirects each line after redirect() and before stopredirect() as a variable to the block passed as a second parameter with a variable name that is the first parameter.",(0,Je.jsx)("br",{}),"Returns a list that is [arg1, arg2]",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"This method is Interpreter specific, however should not be nested.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"This method works in unison with stopredirect() and startredirect().",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"This is essentially powerful because it grants the opportunity to save a large amount of time when writing code.",(0,Je.jsx)("br",{}),"This is because it allows you to write code that is more readable and easier to understand in the long term.",(0,Je.jsx)("br",{}),"It also allows for possible multi-line interpretations.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)(Vv,{issues:(0,Je.jsxs)("ul",{children:[(0,Je.jsx)("li",{children:"Though not necessarily a massive issue, macros invoked within a redirected context can create problems for the rest of the code that will be interpreted in the future"}),(0,Je.jsx)("li",{children:"an Interpreter's redirection can be tedious and prove to be a fragile component of the language because of a certain kink in msn2's design:"}),(0,Je.jsx)("li",{children:"Priority handling within the backend accepts macros before recognizing an active Interpreter redirection request. this was implemented to simplify the redirection cancellation process, being two system calls, stopredirect() and startredirect() by enabling a getaway mechanism via macros"}),(0,Je.jsx)("li",{children:"This restricts all macros from being used within redirected code including built in @, python fallback and embedded syntax and user defined macros/ postmacros / syntax and enclosed syntax. this is specifically because macros were developed to interpret multiple instructions as a single, stringed argument. however when an Interpreter is asked to redirect an instruction, and the instruction is a one of the macro types listed above, it will incorrectly proceed to adhere to the macro's instructions instead of redirecting the instruction to a block of code, as it was designed. "}),(0,Je.jsx)("li",{children:"There is a fix to this issue, being that each macro used within the redirected context should be have a private() block overseeing the logic performed, see below for examples"}),(0,Je.jsx)("li",{children:"The issue is not the case when a macro is tasked with ending the redirection. as this instruction is not a component of redirected code"})]})}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:redirectsystemcall",code:["@ l = []\n\n# start redirection\nredirect('rline', each(-(rline.val()), 'rel', l.add(rel.val())))\n\n# in redirected context\n[i for i in range(0, 3)]\n[int(i) for i in '3 4 5'.split()]\n[6, 7, 8]\n\nstopredirect()\nstartredirect()\n\nif(assert(l.equals([0, 1, 2, 3, 4, 5, 6, 7, 8])), print('[+] test passed!'))\nl.print()"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"stopredirect",args:[],return:"True",description:["stopredirect() goes hand in hand with redirect() and startredirect().",(0,Je.jsx)("br",{}),"stopredirect() is used to stop the redirection of instructions to a block of code.",(0,Je.jsx)("br",{}),"stopredirect() always returns True.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"This method is Interpreter specific, however should not be nested.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example"})," with redirect() and startredirect()",(0,Je.jsx)(Tv,{executionid:"ex:stopredirectsystemcall",code:["# starting redirection\nredirect('__unused', print('Hello, World!'))\n\n...\n...\n...\n\n# stopping redirection\nstopredirect()\n\nprint('[*] Starting redirection block...')\n\nstartredirect()"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"startredirect",args:[],return:"any",description:["Starts a recorded block for redirection to a block of code.",(0,Je.jsx)("br",{}),"Returns the redirect block's evaluation for the last line redirected.",(0,Je.jsx)("br",{}),"This method is Interpreter specific, however should not be nested.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example"})," with redirect() and stopredirect()",(0,Je.jsx)(Tv,{executionid:"ex:startredirectsystemcall",code:["# starting redirection\nredirect('__unused', print('Hello, World!'))\n\n...\n...\n\nstopredirect()\n\n# invoking the redirected block to the function specified in redirect()\nstartredirect()\nstartredirect()"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"function",args:["str","block","str","..."],return:"str",description:[(0,Je.jsx)(Wv,{args:[["fname","str","serves as the new function's name"],["function body","block","the function that will be interpreted when the function is called"],["function arg 1","str","A string name for the variable that will be used as the first argument to this function"],["function arg x","str","A string name for the variable that will be used as the rest of the arguments to this function"]]}),"function() creates a function that can be exactly replicated with '~' and '--' function definition syntax",(0,Je.jsx)("br",{}),"function() is used to create a new function that can be called later on.",(0,Je.jsx)("br",{}),"function() as a system call was created to allow for nested user defined functions.",(0,Je.jsx)("br",{}),"function() returns the name of the function that was created.",(0,Je.jsx)("br",{}),"After the second argument, function() takes any amount of arguments, being variable names for arguments corresponding to the function.that will be created.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"function() should be used in unison with system call ret(), which returns a value to a function",(0,Je.jsx)("br",{}),"function() will be switched to a zero-argument system call if any of the function variable name arguments are None",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:functionsystemcall",code:["# defining a function that takes two arguments\nfunction('printf', print(arg1.val(), arg2.val()), 'arg1', 'arg2')\n\n# calling the function\nprintf('Hello, ', 'World!')\n\n# privately calling the function to replicate a Pythonic function call, hiding function variables from other contexts\nprivate(printf('Hello, ', 'World!'))"]}),(0,Je.jsx)("b",{children:"Example with ret():"}),(0,Je.jsx)(Tv,{executionid:"ex:functionsystemcall2",code:["# defining a function that takes two arguments and returns to add()\nfunction('addnum', ret('addnum', arg1.add(arg2.val())), 'arg1', 'arg2')\n\n# calling the function\nprint(@v1 = random(0,10,), '+', @v2 = random(0,10,), '=', addnum(v1.val(), v2.val()))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"ret",args:["str","any"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["function name","str","the name of the function that will be returned to"],["return value","any","the value that will be returned to the function"]]}),"ret() works in unison with function() to return a value to a function.",(0,Je.jsx)("br",{}),"See the above example for usage of ret() with function()"]}),(0,Je.jsx)(Hv,{type:"System Call",name:"from",args:["any","..."],return:"list",description:["from() creates a list with the arguments provided",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:fromsystemcall",code:["print(from(1, -5.3, {}, [], 'Hello, World!', @v=random(0, 10,)))"]}),"It's worth noting that {} and [] syntax cannot accept base language code, which further emphasizes the need for from()",(0,Je.jsx)("br",{}),"Fortunately there are many ways to create a list, as shown below:",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:fromsystemcall2",code:["# literals only\nprint([1, -5.3, {}, [], 'Hello, World!', 10])\n\n# with <<>> Python fallback enclosing syntax\nprint(<< [1, -5.3, {}, [], 'Hello, World!', |random(10, 10,)|] >>)\n\n# with <2><2> msn2 embedding syntax\nprint(<2> [1, -5.3, {}, [], 'Hello, World!', %random(10,10,)%] <2>)\n\n# by adding msn2 values to a list\nprint(=>(@a=[1,-5.3,{},[],'Hello, World!'], a.add(random(10,10,))))\n\n"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"dictfrom",args:["any","..."],return:"dict",description:[(0,Je.jsx)(Wv,{args:[["even index","str","the key for the dictionary"],["odd index","any","the value for the dictionary"]]}),"dictfrom() creates a dictionary with the arguments provided",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Similarly to from(), dictfrom() was created to fix issues with {} syntax",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:dictfromsystemcall",code:["print(dictfrom('a', 1, 'b', 2, 'c', 3))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"split",args:["str","str"],return:"list",description:[(0,Je.jsx)(Wv,{args:[["string","str","the string to split"],["delimiter","str","the delimiter to split the string by"]]}),"split() splits a string by a delimiter and returns a list",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:splitsystemcall",code:["print(split('Hello, World!', ', '))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"between",args:["str","str"],return:"str",description:[(0,Je.jsx)(Wv,{args:[["token","str","a token that should be paired within the string, tokens should surround text to extract into the return list"],["string","str","the string to extract text from"]]}),"between() extracts all occurances of text between two tokens and returns it",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:bewtweensystemcall",code:["print(between('--', '--Hello--, --World--!'))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"isstr",args:["any"],return:"bool",description:[(0,Je.jsx)(Wv,{args:[["value","any","the value to check if it is a string"]]}),"isstr() checks if a value is a string and returns a boolean",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:isstrsystemcall",code:["print(isstr('Hello, World!'))\nprint(isstr(1))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"islist",args:["any"],return:"bool",description:[(0,Je.jsx)(Wv,{args:[["value","any","the value to check if it is a list"]]}),"islist() checks if a value is a list and returns a boolean",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:islistsystemcall",code:["print(islist([1, 2, 3]))\nprint(islist(1))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"isdict",args:["any"],return:"bool",description:[(0,Je.jsx)(Wv,{args:[["value","any","the value to check if it is a dictionary"]]}),"isdict() checks if a value is a dictionary and returns a boolean",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:isdictsystemcall",code:["print(isdict({1: 2, 3: 4}))\nprint(isdict(1))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"isfloat",args:["any"],return:"bool",description:[(0,Je.jsx)(Wv,{args:[["value","any","the value to check if it is a float"]]}),"isfloat() checks if a value is a float and returns a boolean",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:isfloatsystemcall",code:["print(isfloat(1.0))\nprint(isfloat(1))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"isint",args:["any"],return:"bool",description:[(0,Je.jsx)(Wv,{args:[["value","any","the value to check if it is an integer"]]}),"isint() checks if a value is an integer and returns a boolean",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:isintsystemcall",code:["print(isint(1))\nprint(isint(1.0))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"sum",args:["list","..."],return:"num",description:[(0,Je.jsx)(Wv,{args:[["list","list","the list to sum"],["...","any","any number of lists to add to the sum"]]}),"sum() sums a list of numbers and returns the sum",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:sumsystemcall",code:["print(sum([1, 2, 3]))\nprint(sum([1, 2, 3], [3, 2, 1]))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"var",args:["str","any"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["name","str","the name of the variable"],["value","any","the value of the variable"]]}),"var() creates a variable with a name and value",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:varsystemcall",code:["var('x', 1)\nx.print()"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"list",args:["any"],return:"list",description:[(0,Je.jsx)(Wv,{args:[["value","any","the value to convert to a list"]]}),"list() converts a value to a list",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:listsystemcall",code:["print(list(range(0, 5)))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"exists",args:["str"],return:"bool",description:[(0,Je.jsx)(Wv,{args:[["name","str","the name of the variable to check if it exists"]]}),"exists() checks if a variable exists and returns a boolean",(0,Je.jsx)("br",{}),"This method checks only the scope of the current Interpreter, and cannot detect variables existing in an isolated context",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:existssystemcall",code:["var('x', 1)\nassert(exists('x'))\nassert(not(exists('y')))\n\n# checking in a new context\nnew(=>(print(exists('x'), '\\n', exists('y'))))\n\n# checking in a private() context\nprivate(=>(print(exists('x'), '\\n', not(exists('y')))))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"len",args:["indexable"],return:"int",description:[(0,Je.jsx)(Wv,{args:[["indexable","indexable","the indexable to get the length of"]]}),"len() gets the length of an indexable",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:lensystemcall",code:["print(len([1, 2, 3]))\nprint(len('hello'))\nprint(len({'key': 3, 'key2': 4}))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"assert",args:["any","..."],return:"bool",description:[(0,Je.jsx)(Wv,{args:[["value","any","the value to check if it is true"],["...","any","any number of values to check if they are true"]]}),"assert() checks if all arguments evaluate to True, if this does not happen, an assertion error is printing with details about the assertion",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:assertsystemcall",code:["assert(1 == 1)\nassert(1 == 1, 2 == 2)\nassert(1 == 1, 2 == 3)"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"if",args:["bool","block","(opt) block"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["condition","bool","the condition to check if it is true"],["block","block","the block to execute if the condition is true"],["(opt) block","block","the block to execute if the condition is false"]]}),"if() checks if a condition is true, and executes a block if it is",(0,Je.jsx)("br",{}),"The else block is optional, and if it is not provided, nothing will be executed if the condition is false",(0,Je.jsx)("br",{}),"Returns the value of the block that was executed",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:ifsystemcall",code:["if(1==1, print('Hello, World!'))\nif(1==2,, print('Hello, World!'))\n"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"while",args:["bool","block"],return:"True",description:[(0,Je.jsx)(Wv,{args:[["condition","bool","the condition to check if it is true"],["block","block","the block to execute if the condition is true"]]}),"while() constantly checks if a condition is true, and executes a block if it is",(0,Je.jsx)("br",{}),"Returns True when the loop is finished",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:whilesystemcall",code:["@ x = 0\nwhile(x < 5, print(@x += 1))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"for",args:["int","int","str","block"],return:"int",description:[(0,Je.jsx)(Wv,{args:[["start","int","the starting value"],["end","int","the ending value"],["var","str","the name of the index variable to use"],["block","block","the block to execute for each value"]]}),"for() iterates over a range of integers, and executes a block for each integer",(0,Je.jsx)("br",{}),"Returns the last value of the index variable",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:forsystemcall",code:["for (0, 5, 'x', x.print())"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"each",args:["indexable","str","block"],return:"indexable",description:[(0,Je.jsx)(Wv,{args:[["indexable","indexable","the indexable to iterate over"],["var","str","the name of the index variable to use"],["block","block","the block to execute for each value"]]}),"each() iterates over an indexable, and executes a block for each value",(0,Je.jsx)("br",{}),"Returns the indexable",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:eachsystemcall",code:["each([1, 2, 3], 'x', x.print())"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"add",args:["str","any"],return:"num",description:[(0,Je.jsx)(Wv,{args:[["var","str","the variable to add to"],["value","any","the value to add to the variable"]]}),"add() adds a value to a variable",(0,Je.jsx)("br",{}),"Returns the new value of the variable",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:addsystemcall",code:["@ x = 0\nadd('x', 1)\nx.print()"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"sub",args:["str","any"],return:"num",description:[(0,Je.jsx)(Wv,{args:[["var","str","the variable to subtract from"],["value","any","the value to subtract from the variable"]]}),"sub() subtracts a value from a variable",(0,Je.jsx)("br",{}),"Returns the new value of the variable",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:subsystemcall",code:["@ x = 0\nsub('x', 1)\nx.print()"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"mul",args:["str","any"],return:"num",description:[(0,Je.jsx)(Wv,{args:[["var","str","the variable to multiply"],["value","any","the value to multiply the variable by"]]}),"mul() multiplies a variable by a value",(0,Je.jsx)("br",{}),"Returns the new value of the variable",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:mulsystemcall",code:["@ x = 2\nmul('x', 2)\nx.print()"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"div",args:["str","any"],return:"num",description:[(0,Je.jsx)(Wv,{args:[["var","str","the variable to divide"],["value","any","the value to divide the variable by"]]}),"div() divides a variable by a value",(0,Je.jsx)("br",{}),"Returns the new value of the variable",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:divsystemcall",code:["@ x = 2\ndiv('x', 2)\nx.print()"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"append",args:["str","any"],return:"indexable",description:[(0,Je.jsx)(Wv,{args:[["var","str","the variable to append to"],["value","any","the value to append to the variable"]]}),"append() appends a value to a variable",(0,Je.jsx)("br",{}),"Returns the new value of the variable",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:appendsystemcall",code:["@ x = [1, 2, 3]\nappend('x', 4)\nx.print()"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"->",args:["indexable","any"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["indexable element","indexable","the element to get"],["value","any","the value to get from the indexable"]]}),"->() indexes an indexable",(0,Je.jsx)("br",{}),"Returns the value at the index specified",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:arrow",code:["@ x = [1, 2, 3]\nprint(->(x.val(), 1))\n\n@ y = {'a': 1, 'b': 2, 'c': 3}\nprint(->(y.val(), 'b'))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"version",args:[],return:"num",description:["version() returns the version of the interpreter",(0,Je.jsx)("br",{}),"Returns the version of the interpreter",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:versionsystemcall",code:["print(version())"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"destroy",args:["str","..."],return:"True",description:[(0,Je.jsx)(Wv,{args:[["var","str","the variable to destroy"],["...","...","any other variables to destroy"]]}),"destroy() destroys a variable for the working context",(0,Je.jsx)("br",{}),"if provided with '__' as an argument, it will destroy all variables beginning with '__'",(0,Je.jsx)("br",{}),"Returns True",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:destroysystemcall",code:["@ x = 1\nenv(True)\ndestroy('x')\nenv(True)"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"random",args:["num","num","(opt) any"],return:"num",description:[(0,Je.jsx)(Wv,{args:[["min","num","the minimum value"],["max","num","the maximum value"],["(opt) type","any","used as a switch for return type"]]}),"random() returns a random number between the min and max values",(0,Je.jsx)("br",{}),"random() will return a float if provided with the default 2 arguments",(0,Je.jsx)("br",{}),"If provided with a third argument, regardless of what that argument may be, random() will return an integer",(0,Je.jsx)("br",{}),"Returns a random number",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:randomsystemcall",code:["# random float\nprint(random(1, 10))\n\n# random integer return invoked\nprint(random(1, 10,))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"syntax",args:["str","str","block"],return:"list",description:[(0,Je.jsx)(Wv,{args:[["token","str","the token that will invoke the macro block"],["name","str","the name of the variable to store the interpreting line in"],["block","block","the block to execute when the token is found surrounding text"]]}),"syntax() creates a macro that will execute a block of code when a token is found surrounding a piece of text",(0,Je.jsx)("br",{}),"The token specified in the macro is highly recommended to be unique to avoid conflicts with other macros or base language syntax",(0,Je.jsx)("br",{}),"Returns a list of the token, name, and block",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:syntaxsystemcall",code:["syntax('$$', 'x', x.print())\n$$Hello, World!$$\n\nsyntax('$$', 'x', op.div(-(x.val()), 2))\nprint($$16$$)\nprint($$ 8 $$)"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"enclosedsyntax",args:["str","str","str","block","(opt) any"],return:"list",description:[(0,Je.jsx)(Wv,{args:[["start","str","the token that will invoke the macro block"],["end","str","the token that will end the macro block"],["name","str","the name of the variable to store the interpreting line in"],["block","block","the block to execute when the start and end tokens are found surrounding text"],["(opt) return","any","used as a switch for what will be returned"]]}),"enclosedsyntax() creates a macro that will execute a block of code when a start and end token are found surrounding a piece of text as an instruction",(0,Je.jsx)("br",{}),"enclosedsyntax() will return a list of the start, end, name, and block if provided with the default 4 arguments",(0,Je.jsx)("br",{}),"If provided with a fifth argument enclosedsyntax() will return the value passed as the 5th argument instead of the the evaluation of the block.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"The token specified in the macro is highly recommended to be unique to avoid conflicts with other macros or base language syntax",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:enclosedsyntaxsystemcall",code:["# creating an enclosing syntax for creating a range of numbers\nenclosedsyntax('rng[', ']', 'encline', private(=>(@sp=encline.split(' '), @i1=-(sp.get(0)), @i2=-(sp.get(1)), <<list(range(|i1.val()|, |i2.val()|))>>)))\n\nprint(rng[1 5])\nprint(rng[5 10])"]}),"an enclosedsyntax() call should usually utilize only 4 arguments, the 5th argument can become useful with nested enclosing syntax calls",(0,Je.jsx)("br",{}),"This won't be demonstrated here, however it has been demonstrated in my GitHub",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Another enclosedsyntax() example:",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:enclosedsyntaxsystemcall2",code:["# defining new variable syntax up to 10\nfor(0, 10, 'i', enclosedsyntax('number ', i.str(), '__unused',, i.val()))\n\nprint(number 3)\nprint(number 5)\nprint(number 9)"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"macro",args:["str","str","block","(opt) any"],return:"list",description:[(0,Je.jsx)(Wv,{args:[["token","str","the token that will invoke the macro block"],["name","str","the name of the variable to store the interpreting line in"],["block","block","the block to execute when the token is found surrounding text"],["(opt) return","any","used as a switch for what will be returned"]]}),"macro() creates a starting token for the working Interpreter to recognize as the Interpreter consumes each line of code",(0,Je.jsx)("br",{}),"macro() will return a list of the token, name, and block if provided with the default 3 arguments",(0,Je.jsx)("br",{}),"If provided with a fourth argument macro() will return the value passed as the 4th argument instead of the the evaluation of the block, similar to enclosedsyntax().",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"The token specified in the macro is highly recommended to be unique to avoid conflicts with other macros or base language syntax",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:macrosystemcall",code:["# defining a macro\nmacro('$$', 'x', x.print())\n\n$$Hello, World!"]}),"macro() calls should usually utilize only 3 arguments, the 4th argument can become useful with nested macro calls",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:macrosystemcall2",code:["# creates new syntax to set a variable\n# new syntax specifically evaluates the first two arguments provided\n# as per C syntax, the variable name cannot contain spaces\nmacro('define', '__def', =>(\n\n    # prepares the variable definition\n    __def.replace('\"', ''),\n    __def.strip(),\n\n    # prepare to create the new variable\n    @vn = '',\n    @vl = '',\n    @at_value = 0,\n\n    # using val() for complex return values\n    each( val ('__def'), 'char', =>(\n        if (not(?at_value?), =>(\n            if (?char? == ' ',  @at_value = 1),\n            if (?char? != ' ', vn.add(?char?))\n        ), vl.add(?char?))\n    )),\n\n    # strip value and evaluate according to the type contained in the value string \n    vl.strip(),\n\n    if (?vl? != 'None' and ?vl? != None, =>(\n        var('__ev', -(?vl?)),\n        if (?__ev? != None, var('vl', ?__ev?))\n    )),\n\n    print('[+] creating macro:', ?vn?, 'with value:', ?vl?),\n\n    # creates a new macro that will replace the variable name specified\n    # with the value stored\n    # note that macro can take a fourth argument in place of the third\n    # to return a specific value as opposed to running a block of code\n    macro(?vn?, '__unused', None , ?vl?)\n))\n\ndefine hello 'Hello'\ndefine world 'World!'\n\nprint(cat(hello, ','), world)"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"postmacro",args:["str","str","block","(opt) any"],return:"list",description:[(0,Je.jsx)(Wv,{args:[["token","str","the token that will invoke the macro block"],["name","str","the name of the variable to store the interpreting line in"],["block","block","the block to execute when the token is found surrounding text"],["(opt) return","any","used as a switch for what will be returned"]]}),"postmacro(), as opposed to macro(), creates an ending token that should be placed at the end of the line that will invoke the macro block",(0,Je.jsx)("br",{}),"postmacro() will return a list of the token, name, and block if provided with the default 3 arguments",(0,Je.jsx)("br",{}),"If provided with a fourth argument postmacro() will return the value passed as the 4th argument instead of the the evaluation of the block, similar to enclosedsyntax().",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"The token specified in the postmacro is highly recommended to be unique to avoid conflicts with other macros or base language syntax",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:postmacrosystemcall",code:["\n# defining a postmacro that makes assertions\npostmacro('??', '__line', if(not(-(__line.val())), print('[!] assertion failed:', __line.val())))\n\n# this line will print '[!] assertion failed: 1 == 2'\n1 == 2 ??\n\n# this line will not print anything\n1 == 1 ??\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"val",args:["str"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["variable name","str","the string name of the variable's value to return"]]}),"val() returns the value of the variable specified by the string argument",(0,Je.jsx)("br",{}),"val() is different from any ?? number replacement syntax, as it's used to retrieve a value from any complex variable type",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:valsystemcall",code:["var('x', [1, 2, 3])\nprint(val('x'))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"type",args:["any"],return:"class",description:[(0,Je.jsx)(Wv,{args:[["variable","any","the variable to return the type of"]]}),"type() returns the type of the variable specified by the argument",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:typesystemcall",code:["print(type(1))\nprint(type('Hello'))\nprint(type([1, 2, 3]))\nprint(type({1: 'one', 2: 'two'}))\nprint(type(1.0))\nprint(type(True))\nprint(type(None))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"set",args:["indexable","any","any"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["indexable","any","the indexable variable to set the value of"],["index","any","the index to set the value at"],["value","any","the value to set at the index"]]}),"set() sets the value of the indexable variable at the index specified to the value specified",(0,Je.jsx)("br",{}),"set() returns the value that was set",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:setsystemcall",code:["var('x', [1, 2, 3])\nprint(<<setting index |@i1=1| to>>, set('x', i1.val(), 5))\nprint('resulting list:', x.val())"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"del",args:["str","..."],return:"True",description:[(0,Je.jsx)(Wv,{args:[["variable name","str","the name of the variable to delete"],["...","...","any additional variables to delete"]]}),"del() deletes the variables specified by the string arguments",(0,Je.jsx)("br",{}),"del() is the same as destroy(), however destroy() implements '__' deletion",(0,Je.jsx)("br",{}),"del() returns True",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:delsystemcall",code:["var('x', 1)\nvar('y', 2)\nprint('x:', x.val())\nprint('y:', y.val())\nprint('deleting x and y...')\ndel('x', 'y')\n\n# x and y do not exist anymore, so the Interpreter proceeds to interpret the invalid code as a string\nprint('x:', x.val())\nprint('y:', y.val())"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"cat",args:["any","..."],return:"str",description:[(0,Je.jsx)(Wv,{args:[["variable","any","the variable to concatenate"],["...","...","any additional variables to concatenate"]]}),"cat() concatenates the variables specified by the arguments",(0,Je.jsx)("br",{}),"cat() returns the concatenated string",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:catsystemcall",code:["print(cat('Hello,', ' ', 'World!'))\n\n# printing literals\nprint(cat(1, [1, 2, 3], {'key': 3}, -5.7))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"equals",args:["any","..."],return:"bool",description:[(0,Je.jsx)(Wv,{args:[["value","any","the value to compare"],["...","...","any additional value to compare"]]}),"equals() compares the values passed",(0,Je.jsx)("br",{}),"equals() returns True if all values are equal, False otherwise",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:equalssystemcall",code:["print(equals(1, 1, 1, 1))\nprint(equals(1, 1, 1, 2))\n"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"not",args:["bool"],return:"bool",description:[(0,Je.jsx)(Wv,{args:[["value","bool","the value to negate"]]}),"not() negates the value passed",(0,Je.jsx)("br",{}),"not() returns the negated value",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:notsystemcall",code:["print(not(True))\nprint(not(False))\n\n"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"and",args:["bool","..."],return:"bool",description:[(0,Je.jsx)(Wv,{args:[["value","bool","the value to compare"],["...","...","any additional value to compare"]]}),"and() compares the values passed",(0,Je.jsx)("br",{}),"and() returns True if all values are True, False otherwise",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:andsystemcall",code:["print(and(True, True, True, True))\nprint(and(True, True, True, False))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"or",args:["bool","bool"],return:"bool",description:[(0,Je.jsx)(Wv,{args:[["value","bool","the value to compare"],["value 2","bool","the value to compare"]]}),"or() compares the values passed",(0,Je.jsx)("br",{}),"or() returns True if any value is True, False otherwise",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:orsystemcall",code:["print(or(True, True))\nprint(or(True, False))\nprint(or(False, False))"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"=>",args:["any","..."],return:"any",description:[(0,Je.jsx)(Wv,{args:[["instruction","any","the instruction to execute"],["...","...","any additional instructions to execute"]]}),"=>() is called the inline function system call",(0,Je.jsx)("br",{}),"=>() executes the instructions passed",(0,Je.jsx)("br",{}),"=>() returns the value of the last instruction executed",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:arrowfunctionsystemcall",code:["\n@ lst = [1, 2, 3, 4, 5]\n\n# using the inline function to summarize objective of algorithm\n@ a = private(=>(\n\n    # creating a slice of the list\n    @ tmp = lst.slice(0, 3),\n    tmp.each('el', el.print()),\n    sum(tmp.val())\n))\n\na.print()\n\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"class",args:["str","any"],return:"dict",description:[(0,Je.jsx)(Wv,{args:[["name","str","the name of the class"],["body","any","the body of the class"]]}),"class() is used to define a class",(0,Je.jsx)("br",{}),"class() returns the dict of the variables defined in the class's body",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)(Vv,{issues:["As of 2.0, there are some setbacks to the class system:",(0,Je.jsxs)("ul",{children:[(0,Je.jsx)("li",{children:"Variables are the only resource recorded in the class body"}),(0,Je.jsx)("li",{children:"Default values of variables don't always work properly, so it's best not to have a default value"})]})]}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:classsystemcall",code:["\n# defining the class\nclass('person', =>(\n    @ name =,\n    @ age =\n))\n\n# creating an instance of the class\n@ p = person()\n\np.print()\n                "]}),"Creating an instance of a class is similar to that of Python",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:classsystemcall2",code:["\n# defining the class\nclass('person', =>(@name=,@age=))\n\n# creating an instance of the class\n@ p = person('joe', 20)\np.print()\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"get",args:["indexable","any"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["indexable","indexable","the indexable to get the value from"],["index","any","the index to get the value from"]]}),"get() is used to get the value at the index of the indexable",(0,Je.jsx)("br",{}),"get() returns the value at the index of the indexable",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:getsystemcall",code:["\n@ lst = [1, 2, 3, 4, 5]\n@a = get(lst.val(), 2)\na.print()\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"keys",args:["dict"],return:"dict_keys",description:[(0,Je.jsx)(Wv,{args:[["dict","dict","the dict to get the keys from"]]}),"keys() is used to get the keys of the dict",(0,Je.jsx)("br",{}),"keys() returns the dict_keys of the dict",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:keyssystemcall",code:["\n@ d = {1: 'a', 2: 'b', 3: 'c'}\n@ k = keys(d.val())\nk.print()\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"import",args:["str"],return:"None",description:[(0,Je.jsx)(Wv,{args:[["path","str","the path to the file to import (relative to the directory at which the .msn2 program is executed)"]]}),"import() is used to import",(0,Je.jsx)("i",{children:"MSN2"}),"code from another file",(0,Je.jsx)("br",{}),"import() returns None",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"import() simply executes the code in the file in the working context as import() can be called from anywhere",(0,Je.jsx)("br",{}),"import() can be invoked on one path more than one time, but if the Interpreter has already imported a file, it will not import it again",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:importsystemcall",code:["\n# importing a file\n# import('test.msn2')\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"prnt",args:["any","..."],return:"any",description:[(0,Je.jsx)(Wv,{args:[["value","any","the value to print"],["...","...","any additional values to print"]]}),"prnt() is used to add the values passed to the internal memory buffer exclusive to each Interpreter, equivalent to that of an STDOUT",(0,Je.jsx)("br",{}),"prnt() returns the last value passed",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:prntsystemcall",code:["\nprnt('Hello,', 'World!')\nenv(True)\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"print",args:["any","..."],return:"any",description:[(0,Je.jsx)(Wv,{args:[["value","any","the value to print"],["...","...","any additional values to print"]]}),"print() is used to print the values passed to the console",(0,Je.jsx)("br",{}),"This is the base languages version of print(), and not that of a Python fallback print()",(0,Je.jsx)("br",{}),"print() returns the last value passed",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:printsystemcall2",code:["\nprint('Hello,', 'World!')\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"sleep",args:["num"],return:"None",description:[(0,Je.jsx)(Wv,{args:[["time","num","the time to sleep for in seconds"]]}),"sleep() is used to sleep the Interpreter for a specified amount of seconds",(0,Je.jsx)("br",{}),"Use parameters below 1 to sleep for a specified amount of milliseconds",(0,Je.jsx)("br",{}),"sleep() is thread specific, and will not affect other threads",(0,Je.jsx)("br",{}),"sleep() returns None",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"me",args:[],return:"str",description:["me() gets a string representation of the working Interpreter",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:mesystemcall",code:["print(me())"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"env",args:["bool"],return:"str",description:[(0,Je.jsx)(Wv,{args:[["(opt) print environment","bool","whether or not to print the environment"]]}),"env() gets a string representation of the environment",(0,Je.jsx)("br",{}),"env() returns the string representation of the environment",(0,Je.jsx)("br",{}),"env() can be passed a boolean to print the environment",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:envsystemcall",code:["env(True)"]}),"The code above is the same as the code below",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:envsystemcall2",code:["print(env())"]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"-",args:["str"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["value","any","the string representation of MSN2 code to execute"]]}),"-() is used to execute ",(0,Je.jsx)("i",{children:"MSN2"})," code",(0,Je.jsx)("br",{}),"-() returns the return value of the code executed",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:systemcall",code:["\n-('print(\"Hello, World!\")')\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"strip",args:["str"],return:"str",description:[(0,Je.jsx)(Wv,{args:[["value","str","the string to strip"]]}),"strip() is used to strip whitespace from the beginning and end of a string",(0,Je.jsx)("br",{}),"strip() returns the stripped string",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:stripsystemcall",code:["\nprint(strip(' Hello, World! '))\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"async",args:["block"],return:"str",description:[(0,Je.jsx)(Wv,{args:[["block","block","the block to obtain to be executed later, asynchronously"]]}),"async() is used to execute a block asynchronously",(0,Je.jsx)("br",{}),"async() returns the string representation of the block",(0,Je.jsx)("br",{}),"async() is used mainly by the processes library to launch processes",(0,Je.jsx)("br",{}),"See ",(0,Je.jsx)("i",{children:"MSN2"})," in my GitHub for more information on the processes library",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:asyncsystemcall",code:["\nprint(async(=>(\n    assert(1 == 1),\n    print('Hello, World!')\n)))\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"now",args:[],return:"num",description:["now() is used to get the number of seconds since the last epoch",(0,Je.jsx)("br",{}),"now() is used to time portions of code",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:nowsystemcall",code:["\nprint(now())\nprint(now())\n                "]}),"Example of now() being used to time code",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:nowsystemcall2",code:["\n# sorting array of 500,000 numbers\n@ arr = list(reversed([i for i in range(500000)]))\n\n@ start = now()\narr.sort()\n\nprint('time taken:', op.sub(now(), start.val()), 'seconds')\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"private",args:["block"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["block","block","the block to privately execute"]]}),"private() is used to privately execute a block of code",(0,Je.jsx)("br",{}),"private() returns the return value of the block",(0,Je.jsx)("br",{}),"Inside a private context, all variables and methods are inherited from the parent context.",(0,Je.jsx)("br",{}),"Once inside a private context, however, the private context cannot modify the same variables and methods in the parent context.",(0,Je.jsx)("br",{}),"This is useful for creating a private context for a block of code that you do not want to modify the parent context.",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:privatesystemcall",code:["\n@ a = 1\n@ b = 2\n\nprint('a:', a.val(), 'b:', b.val())\n\n@ c = private(=>(\n    print('private a:', a.val(), 'b:', b.val()),\n    @a = 3,\n    @b = 4,\n    print('private a:', a.val(), 'b:', b.val()),\n    b.val()\n))\n\nprint('a:', a.val(), 'b:', b.val())\nprint('c:', c.val())\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"new",args:["block"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["block","block","the block to execute in a new context"]]}),"new() is used to execute a block in a new context",(0,Je.jsx)("br",{}),"new() returns the return value of the block",(0,Je.jsx)("br",{}),"Inside a new context, no variables and methods are inherited from the parent context.",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:newsystemcall",code:["\n@ a = 1\n@ b = 2\n\nprint('a:', a.val(), 'b:', b.val())\n\n@ c = new(=>(\n\n    # a and b are not defined in this context, so the Interpreter\n    # will fail to recognize them and will return a string representation\n    print('new a:', a.val(), 'b:', b.val()),\n    @a = 3,\n    @b = 4,\n    print('new a:', a.val(), 'b:', b.val()),\n    b.val()\n))\n\nprint('a:', a.val(), 'b:', b.val())\nprint('c:', c.val())\n\n            "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"break",args:[],return:"None",description:["break() is used to leave an Interpreter's context",(0,Je.jsx)("br",{}),"break() returns None",(0,Je.jsx)("br",{}),"break() is used to leave a context and return to the parent context",(0,Je.jsx)("br",{}),"break() can be used for many things, from complex Interpreter redirections to exiting a loop",(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:breaksystemcall",code:["\n# create a private context\nprivate(=>(\n    @ n = 0,\n    for(0, 100, 'i', if(n.greater(50), =>(\n\n        # bring n to the parent context\n        export('n'), break()\n    ), n.++())),\n    assert(False)\n))\nn.print()\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"inherit:vars",args:[],return:"True",description:["inherit:vars() is used to inherit all variables from the parent context",(0,Je.jsx)("br",{}),"inherit:vars() returns True",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:inheritvarssystemcall",code:["\n@ a = 1\n@ b = 2\nnew(=>(\n    inherit:vars(),\n    print('a:', a.val(), 'b:', b.val())\n))\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"inherit:methods",args:[],return:"True",description:["inherit:methods() is used to inherit all methods from the parent context",(0,Je.jsx)("br",{}),"inherit:methods() returns True",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:inheritmethodssystemcall",code:["\nfunction('ADD', ret('ADD', op.add(a.val(), b.val())), 'a', 'b')\nprint(ADD(1, 2))\nnew(=>(\n    inherit:methods(),\n    print(ADD(3, 4))\n))\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"process",args:["path"],return:"subprocess",description:[(0,Je.jsx)(Wv,{args:[["path","string","the path to the file to execute"]]}),"process() is used to execute a .msn2 file in a new context",(0,Je.jsx)("br",{}),"process() returns a subprocess object",(0,Je.jsx)("br",{}),(0,Je.jsx)(Vv,{issues:[(0,Je.jsxs)("ul",{children:[(0,Je.jsx)("li",{children:"process() is only implemented for Windows"}),(0,Je.jsx)("li",{children:"There can be issues with nested processes"})]})]}),"See my GitHub for more information on process()",(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"pid",args:[],return:"int",description:["pid() is used to get the current process's id",(0,Je.jsx)("br",{}),"pid() returns an int",(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"thread",args:["str","block"],return:"True",description:[(0,Je.jsx)(Wv,{args:[["str","string","the name of the thread"],["block","block","the block to execute in a new thread"]]}),"thread() is used to execute a block in a new thread",(0,Je.jsx)("br",{}),"A new thread of execution is created to execute the specified block upon interpreting thread()",(0,Je.jsx)("br",{}),"thread() returns True",(0,Je.jsx)("br",{}),"See the threads documentation ",(0,Je.jsx)("a",{href:"/msn2threads",children:"here"}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"acquire",args:[],return:"bool",description:["acquire() is used to acquire the global lock designed for the processing library",(0,Je.jsx)("br",{}),"See more about the processing library on my GitHub",(0,Je.jsx)("br",{}),"acquire() returns True if the lock was acquired, False otherwise",(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"release",args:[],return:"bool",description:["release() is used to release the global lock designed for the processing library",(0,Je.jsx)("br",{}),"See more about the processing library on my GitHub",(0,Je.jsx)("br",{}),"release() returns True if the lock was released, False otherwise",(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"join",args:["str","..."],return:"True",description:[(0,Je.jsx)(Wv,{args:[["str","string","the name of the thread to join"],["...","...","any number of strings, each representing a thread to join"]]}),"join() is used to wait for a thread to finish executing",(0,Je.jsx)("br",{}),"join() returns True",(0,Je.jsx)("br",{}),"See the threads documentation ",(0,Je.jsx)("a",{href:"/msn2threads",children:"here"}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"stop",args:[],return:"death",description:["stop is the all powerful off button for an ",(0,Je.jsx)("i",{children:"MSN2"})," program",(0,Je.jsx)("br",{}),"stop() returns nothing to the calling process",(0,Je.jsx)("br",{}),"stop() is not required to stop an ",(0,Je.jsx)("i",{children:"MSN2"})," program",(0,Je.jsx)("br",{}),"stop() is normally used to stop remaining / lost threads / processes",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"try",args:["block","block"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["try","block","the block to try to execute"],["catch","block","the block to execute if the first block fails"]]}),"try() is used to execute a block and catch any errors that occur",(0,Je.jsx)("br",{}),"try() returns the result of the first block if it succeeds, otherwise it returns the result of the second block",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Examples:"}),(0,Je.jsx)(Tv,{executionid:"ex:trysystemcall",code:["\ntry(\n    print('try'),\n    print('catch')\n)\n                "]}),(0,Je.jsx)(Tv,{executionid:"ex:trysystemcall2",code:["\ntry(=>(\n    print('try'),\n    @ list = [1, 2, 3],\n\n    # index() throws an error, as opposed to find()\n    list.index(4)\n), \n    print('catch')\n)\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"wait",args:["bool","(opt) block"],return:"True",description:[(0,Je.jsx)(Wv,{args:[["bool","bool","the boolean to wait to be True"],["(opt) block","block","the block to execute while waiting"]]}),"wait() is used to wait for a boolean to be True",(0,Je.jsx)("br",{}),"wait() returns True",(0,Je.jsx)("br",{}),"wait() is used within the multiprogramming features of ",(0,Je.jsx)("i",{children:"MSN2"}),(0,Je.jsx)("br",{}),"See the threads documentation ",(0,Je.jsx)("a",{href:"/msn2threads",children:"here"}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"export",args:["str","..."],return:"True",description:[(0,Je.jsx)(Wv,{args:[["str","string","the name of the variable or function to export to the parent context"],["...","...","any number of strings, each representing a variable or function to export to the parent context"]]}),"export() is used to export variables or functions to the parent context",(0,Je.jsx)("br",{}),"export() returns True",(0,Je.jsx)("br",{}),"export() is used in a multicontext environment when a variable or function needs to be brought out from say, a private() context",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Examples:"}),(0,Je.jsx)(Tv,{executionid:"ex:export",code:["\n# create child context\nprivate(=>(\n    @ v = 0,\n    export('v')\n))\nv.print()\n                "]}),(0,Je.jsx)(Tv,{executionid:"ex:export2",code:["\n# create child context\nprivate(=>(\n    @ v = 0,\n    function('zero', ret('zero', 0),),\n    export('v', 'zero')\n))\nv.print()\nprint(zero())\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"exportas",args:["str","any"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["str","string","the name of the new variable to export to the parent context"],["any","any","the value of the new variable to export to the parent context"]]}),"exportas() is used to export a value to the parent context as a variable with the name specified as the first argument",(0,Je.jsx)("br",{}),"exportas() returns the value of the second argument",(0,Je.jsx)("br",{}),"exportas() is used in a multicontext environment when a variable needs to be brought out from say, a private() context",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"exportas() cannot accept function names as arguments",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:exportas",code:["\n# create child context\nprivate(exportas('v', 0))\n\n# print the value of v in parent context\nv.print()\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"exportall",args:[],return:"True",description:["exportall() is used to export all variables and functions to the parent context",(0,Je.jsx)("br",{}),"exportall() returns True",(0,Je.jsx)("br",{}),"exportall() is used in a multicontext environment when all variables and functions need to be brought out from say, a private() context",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:exportall",code:["\n# create child context\nprivate(=>(\n    @ v = 0,\n    function('zero', ret('zero', 0),),\n    exportall()\n))\n\nv.print()\nprint(zero())\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"console",args:["str","..."],return:"True",description:[(0,Je.jsx)(Wv,{args:[["str","string","the console / terminal command to execute"],["...","...","any number of strings, each representing a command to the console / terminal"]]}),"console() is used to execute command(s) in the console / terminal",(0,Je.jsx)("br",{}),"console() returns True",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"console() executes a command on your personal computer's terminal, so it is operating system specific, ",(0,Je.jsx)("br",{}),"meaning you should be wary of the operating system of those who you share your code with.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"See the windows(), linux() and mac() system calls for handling this."]}),(0,Je.jsx)(Hv,{type:"System Call",name:"request",args:["str","(opt) dict"],return:"dict",description:[(0,Je.jsx)(Wv,{args:[["str","string","the url to request"],["(opt) dict","dict","the headers to send with the request"]]}),"request() is used to send a request to a url",(0,Je.jsx)("br",{}),"request() returns a dict containing the response",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"pubip",args:[],return:"str",description:["pubip() is used to get the public ip address of the machine executing a .msn2 program",(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"privips",args:[],return:"list",description:["privips() is used to get the private ip addresses of the machine executing a .msn2 program",(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"ENDPOINT",args:["str","(opt)","(opt)","(opt)"],return:"None",description:[(0,Je.jsx)(Wv,{args:[["1 arg supplied:","ENDPOINT(str)",(0,Je.jsx)(Wv,{args:[["path","string","the path on the 127.0.0.1:5000 to the endpoint"]]})],["2 args supplied:","ENDPOINT(str, dict)",(0,Je.jsx)(Wv,{args:[["path","string","the path on 127.0.0.1:5000 to the endpoint"],["initial data","dict","the json to initialize at the endpoint"]]})],["4 args supplied:","ENDPOINT(str, int, str, dict)",(0,Je.jsx)(Wv,{args:[["host","string","the host"],["port","int","the port"],["path","string","the path on the host:port/path to the endpoint"],["initial data","dict","the json to initialize at the endpoint"]]})]]}),"ENDPOINT() is used to create a Flask server endpoint on either the network or local machine",(0,Je.jsx)("br",{}),"ENDPOINT() returns None",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"ENDPOINT() halts the process in it's tracks, so manipulating the endpoint after calling ENDPOINT() will not work.",(0,Je.jsx)("br",{}),"To work around this, the endpoint can be started in a separate process, see the threads documentation: ",(0,Je.jsx)("a",{href:"/msn2threads",children:"here"}),(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)(Vv,{issues:[(0,Je.jsxs)("ul",{children:[(0,Je.jsx)("li",{children:"HTTP endpoints can only exist on localhost or the local machine's network due to server safety reasons"}),(0,Je.jsx)("li",{children:"Endpoints aren't required to be started in another process, this is only true if the same file wishes to manipulate the endpoint. Regardless, processes, as of 2.0, can only be started on Windows"})]})]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"POST",args:["str","int","str","dict"],return:"dict",description:[(0,Je.jsx)(Wv,{args:[["host","string","the host"],["port","int","the port"],["path","string","the path on the host:port/path to the endpoint"],["data","dict","the json to send to the endpoint, updating it"]]}),"POST() is used to send a POST request to an endpoint",(0,Je.jsx)("br",{}),"POST() returns the response from the endpoint",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"POST() is used to update the data at an endpoint",(0,Je.jsx)("br",{}),"Internally, POST() essentially calls .update() on the existing dict at the endpoint",(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"GET",args:["str","int","str"],return:"dict",description:[(0,Je.jsx)(Wv,{args:[["host","string","the host"],["port","int","the port"],["path","string","the path on the host:port/path to the endpoint"]]}),"GET() is used to send a GET request to an endpoint",(0,Je.jsx)("br",{}),"GET() returns the response from the endpoint",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"GET() is used to get the data at an endpoint",(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"DELETE",args:["str","int","str"],return:"dict",description:[(0,Je.jsx)(Wv,{args:[["host","string","the host"],["port","int","the port"],["path","string","the path on the host:port/path to the endpoint"]]}),"DELETE() is used to send a DELETE request to an endpoint",(0,Je.jsx)("br",{}),"DELETE() returns the response from the endpoint",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"DELETE() is used to delete the data at an endpoint",(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"windows",args:[],return:"bool",description:["windows() is used to check if the current machine is running Windows",(0,Je.jsx)("br",{}),"windows() returns a bool",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"linux",args:[],return:"bool",description:["linux() is used to check if the current machine is running Linux",(0,Je.jsx)("br",{}),"linux() returns a bool",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"mac",args:[],return:"bool",description:["mac() is used to check if the current machine is running Mac",(0,Je.jsx)("br",{}),"mac() returns a bool",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"getattr",args:["indexable","any"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["object","indexable","the indexable to get the attribute from"],["attr","any","the attribute to get from the object"]]}),"getattr() is used to get an attribute from an object",(0,Je.jsx)("br",{}),"getattr() returns the attribute",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:getattrsystemcall",code:["\n@ obj = {'key': 'value'}\nprint(getattr('obj', 'key'))\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"setattr",args:["indexable","any","any"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["indexable","indexable","the indexable to set the attribute on"],["attr","any","the attribute to set on the object"],["value","any","the value to set the attribute to"]]}),"setattr() is used to set an attribute on an object",(0,Je.jsx)("br",{}),"setattr() returns the value set",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:setattrsystemcall",code:["\n@ obj = {'key': 'value'}\nobj.print()\nprint(setattr('obj', 'key', 'newvalue'))\nobj.print()\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"start|end|var",args:["block"],return:"None",description:[(0,Je.jsx)(Wv,{args:[["value","any","the block to repeatedly execute"]]}),"||() is used to repeatedly execute a block a literal amount of times",(0,Je.jsx)("br",{}),"The arguments inside '||' cannot contain parenthases, as this would disrupt the parsing of the loops functional arguments",(0,Je.jsx)("br",{}),"||() returns None",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"This is one of the few system calls that can have a varying name",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:loopsystemcall",code:["\n# loop with variable\n0|5|i (i.print())\n\n# loop with unused variable\n0 | 5 | _ (print('hello'))\n                "]})]}),(0,Je.jsx)(Hv,{type:"System Call",name:"?",args:["block","(opt) block"],return:"any",description:[(0,Je.jsx)(Wv,{args:[["true block","block","block to execute if the prefunction argument is True"],["false block","(opt) block","block to execute if the prefunction argument is False"]]}),"The prefunctional argument to ?() goes after the '?' and before the first parenthases",(0,Je.jsx)("br",{}),"The prefunctional argument to ?() can be any valid expression that doesn't include parenthases",(0,Je.jsx)("br",{}),"?() is used to execute a block if a prefunction is True",(0,Je.jsx)("br",{}),"?() returns the result of the interpretedblock",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)("b",{children:"Example:"}),(0,Je.jsx)(Tv,{executionid:"ex:if?sytemcall",code:["\n# if statement\n? True (print('True'))\n?0(assert(False), print(assert(True)))\n                "]}),"Testing ?() with variables",(0,Je.jsx)("br",{}),(0,Je.jsx)(Tv,{executionid:"ex:if?sytemcall2",code:["\n# example using ?? number replacement syntax\n@ a = 1\n? ?a? (print('True'))\n                "]})]})]}),t=e.props.children,n=[],r=0;r<t.length;r++)n.push(t[r].props.name);for((n=f(new Set(n))).sort(),r=0;r<n.length;r++)Rv.push(n[r]);return(0,Je.jsxs)("div",{className:"msn2docs-div",style:{margin:"0 auto",position:"relative",overflow:"hidden"},children:[(0,Je.jsx)(yv,{title:"System Calls",subtitle:"Tools for you!",subtitle2:"Difficulty: Medium",back:"/msn2docs",next:"/msn2threads"}),(0,Je.jsx)("div",{id:"scrolltotop"}),(0,Je.jsx)(bv,{title:"Introduction",subtitle:["System calls, as well as object methods make up the majority of the computation in ",(0,Je.jsx)("i",{children:"MSN2"}),".",(0,Je.jsx)("br",{}),"They are the tools that you use to manipulate data and perform actions.",(0,Je.jsx)("br",{}),"System calls are the functions that are built into the ",(0,Je.jsx)("i",{children:"MSN2"})," base language.",(0,Je.jsx)("br",{}),"This means that they are the functions that you can use without importing any modules.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Object methods are the functions that are built into the ",(0,Je.jsx)("i",{children:"MSN2"})," base language.",(0,Je.jsx)("br",{}),"Objects methods are attached to either a specific type of object, or all objects (a global method).",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"You will see different method types listed in the documentation, here are some definitions: ",(0,Je.jsx)("br",{}),(0,Je.jsxs)("ul",{children:[(0,Je.jsxs)("li",{children:[(0,Je.jsx)("b",{children:"System Call"})," - A function that is built into the base language"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("b",{children:"Global Method"})," - A method attached to all types"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("b",{children:"Number Method"})," - A method attached to all numbers (int and float)"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("b",{children:"String Method"})," - A method attached to a str"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("b",{children:"List Method"})," - A method attached to a list"]}),(0,Je.jsxs)("li",{children:[(0,Je.jsx)("b",{children:"Object Method"})," - A method attached to an object or dict"]})]}),(0,Je.jsx)("br",{}),"Also note that the documentation utilizes the type of ",(0,Je.jsx)("b",{children:"block"})," as a parameter type.",(0,Je.jsx)("br",{}),"This means that the parameter will be used as a function that is invoked when the method conditions are met.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"This is a complete list of tools that are built into the ",(0,Je.jsx)("i",{children:"MSN2"})," base language.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"Use the search bar below to search for a specific method.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),(0,Je.jsx)(zv,{options:n}),(0,Je.jsx)("br",{})]}),e,(0,Je.jsx)(Lv,{})]})};var Uv=function(){return(0,Je.jsx)("div",{children:(0,Je.jsx)(yv,{title:"Examples",subtitle:"Finally, why you came!",subtitle2:"Difficulty: Hard",back:"/msn2docs",next:"/msn2docs"})})},$v=function(e){var n=e.children,r=je();return(0,t.useLayoutEffect)((function(){document.documentElement.scrollTo(0,0)}),[r.pathname]),n};i.createRoot(document.getElementById("root")).render((0,Je.jsx)(Ue,{children:(0,Je.jsx)($v,{children:(0,Je.jsxs)(Be,{children:[(0,Je.jsx)(Ie,{path:"/",element:(0,Je.jsx)(gt,{})}),(0,Je.jsx)(Ie,{path:"/resume",element:(0,Je.jsx)(Ye,{})}),(0,Je.jsx)(Ie,{path:"/github",element:(0,Je.jsx)(_t,{})}),(0,Je.jsx)(Ie,{path:"/msnscript1",element:(0,Je.jsx)(gv,{})}),(0,Je.jsx)(Ie,{path:"/msn2docs",element:(0,Je.jsx)(kv,{})}),(0,Je.jsx)(Ie,{path:"/msn2basics",element:(0,Je.jsx)(Dv,{})}),(0,Je.jsx)(Ie,{path:"/msn2systemcalls",element:(0,Je.jsx)(qv,{})}),(0,Je.jsx)(Ie,{path:"/msn2examples",element:(0,Je.jsx)(Uv,{})})]})})})),yt()}()}();
//# sourceMappingURL=main.3cc14d92.js.map