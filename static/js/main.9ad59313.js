/*! For license information please see main.9ad59313.js.LICENSE.txt */
!function(){var e={463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),M=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,I=Object.assign;function B(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function F(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case j:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function U(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=U(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=U(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ce=null;function je(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function Me(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Ee(e,t){return e(t)}function Ae(){}var Te=!1;function Ne(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ee(e,t,n)}finally{Te=!1,(null!==Se||null!==Ce)&&(Ae(),Me())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){De=!1}function Re(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,Ie=null,Be=!1,ze=null,Fe={onError:function(e){Le=!0,Ie=e}};function Ve(e,t,n,r,i,o,a,s,l){Le=!1,Ie=null,Re.apply(Fe,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(We(e)!==e)throw Error(o(188))}function Ue(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,Ct,jt,_t=!1,Mt=[],Et=null,At=null,Tt=null,Nt=new Map,Ot=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function It(e){var t=yi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void jt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function zt(e,t,n){Bt(e)&&n.delete(t)}function Ft(){_t=!1,null!==Et&&Bt(Et)&&(Et=null),null!==At&&Bt(At)&&(At=null),null!==Tt&&Bt(Tt)&&(Tt=null),Nt.forEach(zt),Ot.forEach(zt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Wt(e){function t(t){return Vt(t,e)}if(0<Mt.length){Vt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Vt(Et,e),null!==At&&Vt(At,e),null!==Tt&&Vt(Tt,e),Nt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)It(n),null===n.blockedOn&&Dt.shift()}var Ht=k.ReactCurrentBatchConfig,qt=!0;function Ut(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function $t(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Kt(e,t,n,r){if(qt){var i=Jt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Et=Lt(Et,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Tt=Lt(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Lt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Lt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Jt(e,t,n,r))&&qr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=yi(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),fn=I({},un,{view:0,detail:0}),hn=on(fn),dn=I({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),vn=on(I({},dn,{dataTransfer:0})),mn=on(I({},fn,{relatedTarget:0})),gn=on(I({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=I({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),kn=on(I({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function jn(){return Cn}var _n=I({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=on(_n),En=on(I({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(I({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),Tn=on(I({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=I({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Nn),Dn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Rn,In=c&&(!Pn||Rn&&8<Rn&&11>=Rn),Bn=String.fromCharCode(32),zn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Un(e,t,n,r){_e(r),0<(t=$r(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Kn=null;function Gn(e){Br(e,0)}function Jn(e){if(K(ki(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Kn=$n=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Un(t,Kn,e,we(e)),Ne(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function or(e,t){if("click"===e)return Jn(t)}function ar(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=$r(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Cr={};function jr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Sr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=jr("animationend"),Mr=jr("animationiteration"),Er=jr("animationstart"),Ar=jr("transitionend"),Tr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Tr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Nr.length;Dr++){var Pr=Nr[Dr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(_r,"onAnimationEnd"),Or(Mr,"onAnimationIteration"),Or(Er,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var c=Ie;Le=!1,Ie=null,Be||(Be=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Ir(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Ir(i,s,u),o=l}}}if(Be)throw e=ze,Be=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var i=Ut;break;case 4:i=$t;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=o,i=we(n),a=[];e:{var s=Tr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case _r:case Mr:case Er:l=gn;break;case Ar:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&c.push(Ur(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(f=We(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=En,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==l?s:ki(l),d=null==u?s:ki(u),(s=new c(v,p+"leave",l,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=d,c.relatedTarget=f,v=c),f=v,l&&u)e:{for(h=u,p=0,d=c=l;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)c=Kr(c),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==l&&Gr(a,s,l,c,!1),null!==u&&null!==f&&Gr(a,f,u,c,!0)}if("select"===(l=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Qn;else if(qn(s))if(Yn)m=ar;else{m=ir;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Un(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ki(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(a,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(In&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Wn=!0)),0<(g=$r(r,b)).length&&(b=new kn(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Pn&&Fn(e,t)?(e=en(),Zt=Xt=Yt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Br(a,t)}))}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Ur(e,o,i)),null!=(o=Oe(e,t))&&r.push(Ur(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Oe(n,o))&&a.unshift(Ur(n,l,s)):i||null!=(l=Oe(n,o))&&a.push(Ur(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Jr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var xi=[],Si=-1;function Ci(e){return{current:e}}function ji(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function _i(e,t){Si++,xi[Si]=e.current,e.current=t}var Mi={},Ei=Ci(Mi),Ai=Ci(!1),Ti=Mi;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){ji(Ai),ji(Ei)}function Pi(e,t,n){if(Ei.current!==Mi)throw Error(o(168));_i(Ei,t),_i(Ai,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return I({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Ti=Ei.current,_i(Ei,e),_i(Ai,Ai.current),!0}function Ii(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,ji(Ai),ji(Ei),_i(Ei,e)):ji(Ai),_i(Ai,n)}var Bi=null,zi=!1,Fi=!1;function Vi(e){null===Bi?Bi=[e]:Bi.push(e)}function Wi(){if(!Fi&&null!==Bi){Fi=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,zi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ke(Ze,Wi),i}finally{bt=t,Fi=!1}}return null}var Hi=[],qi=0,Ui=null,$i=0,Ki=[],Gi=0,Ji=null,Qi=1,Yi="";function Xi(e,t){Hi[qi++]=$i,Hi[qi++]=Ui,Ui=e,$i=t}function Zi(e,t,n){Ki[Gi++]=Qi,Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ji=e;var r=Qi;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Yi=o+e}else Qi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Ui;)Ui=Hi[--qi],Hi[qi]=null,$i=Hi[--qi],Hi[qi]=null;for(;e===Ji;)Ji=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null,Qi=Ki[--Gi],Ki[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=k.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ci(null),bo=null,ko=null,wo=null;function xo(){wo=ko=bo=null}function So(e){var t=yo.current;ji(yo),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function jo(e,t){bo=e,wo=ko=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function _o(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===ko){if(null===bo)throw Error(o(308));ko=e,bo.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var Mo=null;function Eo(e){null===Mo?Mo=[e]:Mo.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Eo(t)):(n.next=i.next,i.next=n),t.interleaved=n,To(e,r)}function To(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var No=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Po(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,To(e,n)}return null===(i=r.interleaved)?(t.next=t,Eo(r)):(t.next=i.next,i.next=t),r.interleaved=t,To(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Io(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,r){var i=e.updateQueue;No=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var f=i.baseState;for(a=0,c=u=l=null,s=o;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=I({},f,h);break e;case 2:No=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=d,l=f):c=c.next=d,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=f}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Fo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Wo={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Po(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(nu(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Po(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(nu(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Po(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ro(e,i,r))&&(nu(t,e,r,n),Lo(t,e,r))}};function Ho(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function qo(e,t,n){var r=!1,i=Mi,o=t.contextType;return"object"===typeof o&&null!==o?o=_o(o):(i=Oi(t)?Ti:Ei.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Uo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wo.enqueueReplaceState(t,t.state,null)}function $o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=_o(o):(o=Oi(t)?Ti:Ei.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Wo.enqueueReplaceState(i,i.state,null),Bo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Fo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Iu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&Jo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Pu(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Iu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pu(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case x:return(t=Bu(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ru(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function v(i,o,s,l){for(var u=null,c=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],l);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===c?u=g:c.sibling=g,c=g,f=m}if(v===s.length)return n(i,f),io&&Xi(i,v),u;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],l))&&(o=a(f,o,v),null===c?u=f:c.sibling=f,c=f);return io&&Xi(i,v),u}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],l))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?u=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),io&&Xi(i,v),u}function m(i,s,l,u){var c=R(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var f=c=null,v=s,m=s=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,u);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),io&&Xi(i,m),c;if(null===v){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,u))&&(s=a(y,s,m),null===f?c=y:f.sibling=y,f=y);return io&&Xi(i,m),c}for(v=r(i,v);!y.done;m++,y=l.next())null!==(y=p(v,i,m,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===S){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&Jo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Ko(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===S?((o=Ru(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Pu(a.type,a.key,a.props,null,r.mode,l)).ref=Ko(r,o,a),l.return=r,r=l)}return s(r);case x:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bu(a,r.mode,l)).return=r,r=o}return s(r);case O:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return v(r,o,a,l);if(R(a))return m(r,o,a,l);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Iu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Yo=Qo(!0),Xo=Qo(!1),Zo={},ea=Ci(Zo),ta=Ci(Zo),na=Ci(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(_i(na,t),_i(ta,e),_i(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ji(ea),_i(ea,t)}function oa(){ji(ea),ji(ta),ji(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(_i(ta,e),_i(ea,n))}function sa(e){ta.current===e&&(ji(ea),ji(ta))}var la=Ci(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function fa(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var ha=k.ReactCurrentDispatcher,da=k.ReactCurrentBatchConfig,pa=0,va=null,ma=null,ga=null,ya=!1,ba=!1,ka=0,wa=0;function xa(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ca(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),ba){a=0;do{if(ba=!1,ka=0,25<=a)throw Error(o(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=us,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==ma&&null!==ma.next,pa=0,ga=ma=va=null,ya=!1,t)throw Error(o(300));return e}function ja(){var e=0!==ka;return ka=0,e}function _a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?va.memoizedState=ga=e:ga=ga.next=e,ga}function Ma(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?va.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?va.memoizedState=ga=e:ga=ga.next=e}return ga}function Ea(e,t){return"function"===typeof t?t(e):t}function Aa(e){var t=Ma(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var f=c.lane;if((pa&f)===f)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=r):u=u.next=h,va.lanes|=f,Ll|=f}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Ma(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ks=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function Oa(e,t){var n=va,r=Ma(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ks=!0),r=r.queue,qa(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,za(9,Pa.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&pa)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Ia(e)}function Ra(e,t,n){return n((function(){La(t)&&Ia(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ia(e){var t=To(e,1);null!==t&&nu(t,e,1,-1)}function Ba(e){var t=_a();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return Ma().memoizedState}function Va(e,t,n,r){var i=_a();va.flags|=e,i.memoizedState=za(1|t,n,void 0,void 0===r?null:r)}function Wa(e,t,n,r){var i=Ma();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=za(t,n,o,r))}va.flags|=e,i.memoizedState=za(1|t,n,o,r)}function Ha(e,t){return Va(8390656,8,e,t)}function qa(e,t){return Wa(2048,8,e,t)}function Ua(e,t){return Wa(4,2,e,t)}function $a(e,t){return Wa(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wa(4,4,Ka.bind(null,t,e),n)}function Ja(){}function Qa(e,t){var n=Ma();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Ma();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Ll|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function es(){return Ma().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ao(e,t,n,r))){nu(n,e,r,eu()),os(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Eo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ao(e,t,i,r))&&(nu(n,e,r,i=eu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:_o,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:_o,useCallback:function(e,t){return _a().memoizedState=[e,void 0===t?null:t],e},useContext:_o,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=_a();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_a();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_a().memoizedState=e},useState:Ba,useDebugValue:Ja,useDeferredValue:function(e){return _a().memoizedState=e},useTransition:function(){var e=Ba(!1),t=e[0];return e=Za.bind(null,e[1]),_a().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=_a();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&pa)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ha(Ra.bind(null,r,a,e),[e]),r.flags|=2048,za(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=_a(),t=Al.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=ka++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:_o,useCallback:Qa,useContext:_o,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Ua,useLayoutEffect:$a,useMemo:Ya,useReducer:Aa,useRef:Fa,useState:function(){return Aa(Ea)},useDebugValue:Ja,useDeferredValue:function(e){return Xa(Ma(),ma.memoizedState,e)},useTransition:function(){return[Aa(Ea)[0],Ma().memoizedState]},useMutableSource:Na,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1},us={readContext:_o,useCallback:Qa,useContext:_o,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Ua,useLayoutEffect:$a,useMemo:Ya,useReducer:Ta,useRef:Fa,useState:function(){return Ta(Ea)},useDebugValue:Ja,useDeferredValue:function(e){var t=Ma();return null===ma?t.memoizedState=e:Xa(t,ma.memoizedState,e)},useTransition:function(){return[Ta(Ea)[0],Ma().memoizedState]},useMutableSource:Na,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Po(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Ul=r),hs(0,t)},n}function vs(e,t,n){(n=Po(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ju.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Po(-1,1)).tag=2,Ro(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Yo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return jo(t,i),r=Ca(e,t,n,r,o,i),n=ja(),null===e||ks?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ou(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cs(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Du(o,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ms(e,t,n,r,i)}function js(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,_i(Dl,Ol),Ol|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_i(Dl,Ol),Ol|=r;return ws(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ms(e,t,n,r,i){var o=Oi(n)?Ti:Ei.current;return o=Ni(t,o),jo(t,i),n=Ca(e,t,n,r,o,i),r=ja(),null===e||ks?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Es(e,t,n,r,i){if(Oi(n)){var o=!0;Li(t)}else o=!1;if(jo(t,i),null===t.stateNode)Hs(e,t),qo(t,n,r),$o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=_o(u):u=Ni(t,u=Oi(n)?Ti:Ei.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Uo(t,a,r,u),No=!1;var h=t.memoizedState;a.state=h,Bo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ai.current||No?("function"===typeof c&&(Vo(t,n,c,r),l=t.memoizedState),(s=No||Ho(t,n,s,r,h,l,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:go(t.type,s),a.props=u,f=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=_o(l):l=Ni(t,l=Oi(n)?Ti:Ei.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==l)&&Uo(t,a,r,l),No=!1,h=t.memoizedState,a.state=h,Bo(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||No?("function"===typeof d&&(Vo(t,n,d,r),p=t.memoizedState),(u=No||Ho(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,i)}function As(e,t,n,r,i,o){_s(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ii(t,n,!1),qs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Ii(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ia(e,t.containerInfo)}function Ns(e,t,n,r,i){return po(),vo(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Ds,Ps,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Is(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_i(la,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lu(l,i,0,null),e=Ru(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Rs,e):Bs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lu({mode:"visible",children:r.children},i,0,null),(a=Ru(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Rs,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ks||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,To(e,i),nu(r,e,i,-1))}return vu(),zs(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Mu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Gi++]=Qi,Ki[Gi++]=Yi,Ki[Gi++]=Ji,Qi=e.id,Yi=e.overflow,Ji=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Du(r,s):(s=Ru(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i}return e=(s=e.child).sibling,i=Du(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&vo(r),Yo(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ws(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Us(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $s(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(t),null;case 1:case 17:return Oi(t.type)&&Di(),$s(t),null;case 3:return r=t.stateNode,oa(),ji(Ai),ji(Ei),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),$s(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return $s(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)zr(Rr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ie(r,a),zr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":$(r),Z(r,a,!0);break;case"textarea":$(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)zr(Rr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Q(e,r),i=J(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=I({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(a in ye(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?me(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&zr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $s(t),null;case 6:if(e&&null!=t.stateNode)Ps(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return $s(t),null;case 13:if(ji(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$s(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Pl&&(Pl=3):vu())),null!==t.updateQueue&&(t.flags|=4),$s(t),null);case 4:return oa(),null===e&&Wr(t.stateNode.containerInfo),$s(t),null;case 10:return So(t.type._context),$s(t),null;case 19:if(ji(la),null===(a=t.memoizedState))return $s(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Us(a,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ua(e))){for(t.flags|=128,Us(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Wl&&(t.flags|=128,r=!0,Us(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Us(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return $s(t),null}else 2*Ye()-a.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Us(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=la.current,_i(la,r?1&n|2:1&n),t):($s(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&($s(t),6&t.subtreeFlags&&(t.flags|=8192)):$s(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gs(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),ji(Ai),ji(Ei),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(ji(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ji(la),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=J(e,i),r=J(e,r),a=[];break;case"select":i=I({},i,{value:void 0}),r=I({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Qs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,fl=!1;function hl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Zs(n,t);case 6:var r=cl,i=fl;cl=null,hl(e,t,n),fl=i,null!==(cl=r)&&(fl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(fl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Wt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=fl,cl=n.stateNode.containerInfo,fl=!0,hl(e,t,n),cl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cu(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Eu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,fl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));dl(a,s,i),cl=null,fl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Cu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Cu(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Cu(e,e.return,m)}}break;case 1:vl(t,e),gl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vl(t,e),gl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Cu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(i,a),be(l,s);var c=be(l,a);for(s=0;s<u.length;s+=2){var f=u[s],h=u[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,c)}switch(l){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){Cu(e,e.return,m)}}break;case 6:if(vl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Cu(e,e.return,m)}}break;case 3:if(vl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){Cu(e,e.return,m)}break;case 4:default:vl(t,e),gl(e);break;case 13:vl(t,e),gl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Ye())),4&r&&pl(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||f,vl(t,e),Qs=c):vl(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(h=Xs=f;null!==Xs;){switch(p=(d=Xs).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Cu(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wl(h);continue}}null!==p?(p.return=d,Xs=p):wl(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",s))}catch(m){Cu(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Cu(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Cu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Js;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Js;var u=Qs;if(Js=a,(Qs=l)&&!u)for(Xs=i;null!==Xs;)l=(a=Xs).child,22===a.tag&&null!==a.memoizedState?xl(i):null!==l?(l.return=a,Xs=l):xl(i);for(;null!==o;)Xs=o,bl(o,t,n),o=o.sibling;Xs=i,Js=s,Qs=u}kl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):kl(e)}}function kl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&zo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&il(t)}catch(d){Cu(t,t.return,d)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function xl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Cu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cu(t,i,l)}}var o=t.return;try{il(t)}catch(l){Cu(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Cu(t,a,l)}}}catch(l){Cu(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Sl,Cl=Math.ceil,jl=k.ReactCurrentDispatcher,_l=k.ReactCurrentOwner,Ml=k.ReactCurrentBatchConfig,El=0,Al=null,Tl=null,Nl=0,Ol=0,Dl=Ci(0),Pl=0,Rl=null,Ll=0,Il=0,Bl=0,zl=null,Fl=null,Vl=0,Wl=1/0,Hl=null,ql=!1,Ul=null,$l=null,Kl=!1,Gl=null,Jl=0,Ql=0,Yl=null,Xl=-1,Zl=0;function eu(){return 0!==(6&El)?Ye():-1!==Xl?Xl:Xl=Ye()}function tu(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Nl?Nl&-Nl:null!==mo.transition?(0===Zl&&(Zl=vt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nu(e,t,n,r){if(50<Ql)throw Ql=0,Yl=null,Error(o(185));gt(e,n,r),0!==(2&El)&&e===Al||(e===Al&&(0===(2&El)&&(Il|=n),4===Pl&&su(e,Nl)),ru(e,r),1===n&&0===El&&0===(1&t.mode)&&(Wl=Ye()+500,zi&&Wi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Al?Nl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){zi=!0,Vi(e)}(lu.bind(null,e)):Vi(lu.bind(null,e)),ai((function(){0===(6&El)&&Wi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xl=-1,Zl=0,0!==(6&El))throw Error(o(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=El;El|=2;var a=pu();for(Al===e&&Nl===t||(Hl=null,Wl=Ye()+500,hu(e,t));;)try{yu();break}catch(l){du(e,l)}xo(),jl.current=a,El=i,null!==Tl?t=0:(Al=null,Nl=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Rl,hu(e,0),su(e,r),ru(e,Ye()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(a=pt(e))&&(r=a,t=ou(e,a))),1===t))throw n=Rl,hu(e,0),su(e,r),ru(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wu(e,Fl,Hl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Vl+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wu.bind(null,e,Fl,Hl),t);break}wu(e,Fl,Hl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(wu.bind(null,e,Fl,Hl),r);break}wu(e,Fl,Hl);break;default:throw Error(o(329))}}}return ru(e,Ye()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Fl,Fl=n,null!==t&&au(t)),e}function au(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function su(e,t){for(t&=~Bl,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&El))throw Error(o(327));xu();var t=ht(e,0);if(0===(1&t))return ru(e,Ye()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Rl,hu(e,0),su(e,t),ru(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Fl,Hl),ru(e,Ye()),null}function uu(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Wl=Ye()+500,zi&&Wi())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&El)&&xu();var t=El;El|=1;var n=Ml.transition,r=bt;try{if(Ml.transition=null,bt=1,e)return e()}finally{bt=r,Ml.transition=n,0===(6&(El=t))&&Wi()}}function fu(){Ol=Dl.current,ji(Dl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:oa(),ji(Ai),ji(Ei),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:ji(la);break;case 10:So(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Al=e,Tl=e=Du(e.current,null),Nl=Ol=t,Pl=0,Rl=null,Bl=Il=Ll=0,Fl=zl=null,null!==Mo){for(t=0;t<Mo.length;t++)if(null!==(r=(n=Mo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Mo=null}return e}function du(e,t){for(;;){var n=Tl;try{if(xo(),ha.current=as,ya){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ga=ma=va=null,ba=!1,ka=0,_l.current=null,null===n||null===n.return){Pl=1,Rl=t,Tl=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Nl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,f=l,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(a,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){ms(a,c,t),vu();break e}u=Error(o(426))}else if(io&&1&l.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,l,0,t),vo(cs(u,l));break e}}a=u=cs(u,l),4!==Pl&&(Pl=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Io(a,ps(0,u,t));break e;case 1:l=u;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===$l||!$l.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Io(a,vs(a,l,t));break e}}a=a.return}while(null!==a)}ku(n)}catch(k){t=k,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function pu(){var e=jl.current;return jl.current=as,null===e?as:e}function vu(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Al||0===(268435455&Ll)&&0===(268435455&Il)||su(Al,Nl)}function mu(e,t){var n=El;El|=2;var r=pu();for(Al===e&&Nl===t||(Hl=null,hu(e,t));;)try{gu();break}catch(i){du(e,i)}if(xo(),El=n,jl.current=r,null!==Tl)throw Error(o(261));return Al=null,Nl=0,Pl}function gu(){for(;null!==Tl;)bu(Tl)}function yu(){for(;null!==Tl&&!Je();)bu(Tl)}function bu(e){var t=Sl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?ku(e):Tl=t,_l.current=null}function ku(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Ol)))return void(Tl=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Pl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Pl&&(Pl=5)}function wu(e,t,n){var r=bt,i=Ml.transition;try{Ml.transition=null,bt=1,function(e,t,n,r){do{xu()}while(null!==Gl);if(0!==(6&El))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Al&&(Tl=Al=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Au(tt,(function(){return xu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ml.transition,Ml.transition=null;var s=bt;bt=1;var l=El;El|=4,_l.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(u=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(l=s),d===a&&++f===r&&(u=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:go(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(o(163))}}catch(w){Cu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=tl,tl=!1}(e,n),ml(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),El=l,bt=s,Ml.transition=a}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Jl=i),a=e.pendingLanes,0===a&&($l=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Ul,Ul=null,e;0!==(1&Jl)&&0!==e.tag&&xu(),a=e.pendingLanes,0!==(1&a)?e===Yl?Ql++:(Ql=0,Yl=e):Ql=0,Wi()}(e,t,n,r)}finally{Ml.transition=i,bt=r}return null}function xu(){if(null!==Gl){var e=kt(Jl),t=Ml.transition,n=bt;try{if(Ml.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Jl=0,0!==(6&El))throw Error(o(331));var i=El;for(El|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xs=c;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:nl(8,f,a)}var h=f.child;if(null!==h)h.return=f,Xs=h;else for(;null!==Xs;){var d=(f=Xs).sibling,p=f.return;if(ol(f),f===c){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var k=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Xs=k;else e:for(s=b;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Cu(l,l.return,x)}if(l===s){Xs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xs=w;break e}Xs=l.return}}if(El=i,Wi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ml.transition=t}}return!1}function Su(e,t,n){e=Ro(e,t=ps(0,t=cs(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function Cu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=Ro(t,e=vs(t,e=cs(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function ju(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Nl&n)===n&&(4===Pl||3===Pl&&(130023424&Nl)===Nl&&500>Ye()-Vl?hu(e,0):Bl|=n),ru(e,t)}function _u(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=To(e,t))&&(gt(e,t,n),ru(e,n))}function Mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_u(e,n)}function Eu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),_u(e,n)}function Au(e,t){return Ke(e,t)}function Tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Tu(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ou(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ru(n.children,i,a,t);case C:s=8,i|=8;break;case j:return(e=Nu(12,n,t,2|i)).elementType=j,e.lanes=a,e;case A:return(e=Nu(13,n,t,i)).elementType=A,e.lanes=a,e;case T:return(e=Nu(19,n,t,i)).elementType=T,e.lanes=a,e;case D:return Lu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case M:s=9;break e;case E:s=11;break e;case N:s=14;break e;case O:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ru(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Iu(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,i,o,a,s,l){return e=new zu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Vu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Wu(e){if(!e)return Mi;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ri(e,n,t)}return t}function Hu(e,t,n,r,i,o,a,s,l){return(e=Fu(n,r,!0,e,0,o,0,s,l)).context=Wu(null),n=e.current,(o=Po(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Ro(n,o,i),e.current.lanes=i,gt(e,i,r),ru(e,r),e}function qu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Wu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Po(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ro(i,t,a))&&(nu(e,i,a,o),Lo(e,i,a)),a}function Uu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),po();break;case 5:aa(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Is(e,t,n):(_i(la,1&la.current),null!==(e=qs(e,t,n))?e.sibling:null);_i(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,js(e,t,n)}return qs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,io&&0!==(1048576&t.flags)&&Zi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ni(t,Ei.current);jo(t,n),i=Ca(null,t,r,e,i,n);var a=ja();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=Wo,t.stateNode=i,i._reactInternals=t,$o(t,r,e,n),t=As(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===N)return 14}return 2}(r),e=go(r,e),i){case 0:t=Ms(null,t,r,e,n);break e;case 1:t=Es(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(Ts(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Do(e,t),Bo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ns(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),_s(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Is(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,_i(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){t=qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Po(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Co(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Co(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,jo(t,n),r=r(i=_o(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),Ss(e,t,r,i=go(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),Hs(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,jo(t,n),qo(t,r,i),$o(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return js(e,t,n)}throw Error(o(156,t.tag))};var Gu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ju(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Uu(a);s.call(e)}}qu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Uu(a);o.call(e)}}var a=Hu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=a,e[pi]=a.current,Wr(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Uu(l);s.call(e)}}var l=Fu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[pi]=l.current,Wr(8===e.nodeType?e.parentNode:e),cu((function(){qu(t,l,n,r)})),l}(n,t,e,i,r);return Uu(a)}Qu.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qu(e,t,null,null)},Qu.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){qu(null,e,null,null)})),t[pi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&It(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ye()),0===(6&El)&&(Wl=Ye()+500,Wi()))}break;case 13:cu((function(){var t=To(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Ku(e,1)}},xt=function(e){if(13===e.tag){var t=To(e,134217728);if(null!==t)nu(t,e,134217728,eu());Ku(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=To(e,t);if(null!==n)nu(n,e,t,eu());Ku(e,t)}},Ct=function(){return bt},jt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));K(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=uu,Ae=cu;var tc={usingClientEntryPoint:!1,Events:[bi,ki,wi,_e,Me,uu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(o(200));return Vu(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(o(299));var n=!1,r="",i=Gu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Ju(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ue(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},87:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=2)}([function(e,t,n){"use strict";e.exports=n(3)},function(e,t,n){e.exports=n(5)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=l(i),a=l(n(1)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={index:0,displayText:""},n.getRawText=n.getRawText.bind(n),n.type=n.type.bind(n),n.erase=n.erase.bind(n),n.startTyping=n.startTyping.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.startTyping()}},{key:"componentWillUnmount",value:function(){this._timeout&&clearTimeout(this._timeout)}},{key:"startTyping",value:function(){var e=this;this._timeout=setTimeout((function(){e.type()}),this.props.typingDelay)}},{key:"getRawText",value:function(){var e=this.props.text;return"string"==typeof e?[e]:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}},{key:"type",value:function(){var e=this,t=this.state,n=t.index,r=t.displayText,i=this.getRawText()[n];i.length>r.length?(r=i.substr(0,r.length+1),this.setState({displayText:r},(function(){e._timeout=setTimeout((function(){e.type()}),e.props.speed)}))):this._timeout=setTimeout((function(){e.erase()}),this.props.eraseDelay)}},{key:"erase",value:function(){var e=this,t=this.state,n=t.index,r=t.displayText;0===r.length?(n=n+1===this.getRawText().length?0:n+1,this.setState({index:n},(function(){e.startTyping()}))):(r=r.substr(-r.length,r.length-1),this.setState({displayText:r},(function(){e._timeout=setTimeout((function(){e.erase()}),e.props.eraseSpeed)})))}},{key:"render",value:function(){var e=this.props,t=(e.speed,e.eraseSpeed,e.typingDelay,e.eraseDelay,e.staticText),n=(e.text,e.cursor),r=e.displayTextRenderer,i=e.cursorClassName,a=e.cursorRenderer,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["speed","eraseSpeed","typingDelay","eraseDelay","staticText","text","cursor","displayTextRenderer","cursorClassName","cursorRenderer"]),u=this.state,c=u.displayText,f=u.index;return o.default.createElement("span",l,t?o.default.createElement("span",null,t,"\xa0"):null,o.default.createElement("div",{style:{display:"inline-block"}},r?r(c,f):c),o.default.createElement(s.default,{cursor:n,cursorRenderer:a,className:i}))}}]),t}();t.default=u,u.defaultProps={speed:200,eraseSpeed:200,eraseDelay:5e3,typingDelay:2500},u.propTypes={speed:a.default.number.isRequired,eraseSpeed:a.default.number.isRequired,typingDelay:a.default.number.isRequired,eraseDelay:a.default.number.isRequired,staticText:a.default.string,text:a.default.oneOfType([a.default.arrayOf(a.default.string),a.default.string]).isRequired,cursor:a.default.string,cursorClassName:a.default.string,displayTextRenderer:a.default.func,cursorRenderer:a.default.func}},function(e,t,n){"use strict";var r=n(4),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function k(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=k.prototype;var S=x.prototype=new w;S.constructor=x,r(S,k.prototype),S.isPureReactComponent=!0;var C={current:null},j=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)j.call(t,r)&&!_.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:C.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,T=[];function N(e,t,n,r){if(T.length){var i=T.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>T.length&&T.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return r(i,t,""===n?"."+P(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+P(s=t[u],u);l+=e(s,c,r,i)}else if("function"==typeof(c=null===t||"object"!=typeof t?null:"function"==typeof(c=m&&t[m]||t["@@iterator"])?c:null))for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+P(s,u++),r,i);else if("object"===s)throw r=""+t,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?I(e,r,n,(function(e){return e})):null!=e&&(E(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function I(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),D(e,L,t=N(t,o,r,i)),O(t)}var B={current:null};function z(){var e=B.current;if(null===e)throw Error(g(321));return e}var F={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return I(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,R,t=N(null,null,t,n)),O(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return I(e,t,null,(function(e){return e})),t},only:function(e){if(!E(e))throw Error(g(143));return e}},t.Component=k,t.Fragment=s,t.Profiler=u,t.PureComponent=x,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,n){if(null==e)throw Error(g(267,e));var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)j.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return z().useCallback(e,t)},t.useContext=function(e,t){return z().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return z().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return z().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return z().useLayoutEffect(e,t)},t.useMemo=function(e,t){return z().useMemo(e,t)},t.useReducer=function(e,t,n){return z().useReducer(e,t,n)},t.useRef=function(e){return z().useRef(e)},t.useState=function(e){return z().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){"use strict";var r=n(6);function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=s(i),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={display:!0},n.animateCursor=n.animateCursor.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.animateCursor()}},{key:"componentWillUnmount",value:function(){this._interval&&clearInterval(this._interval)}},{key:"animateCursor",value:function(){var e=this;this._interval=setInterval((function(){e.setState({display:!e.state.display})}),500)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cursor,r=e.cursorRenderer,i=this.state.display,a=n||"|";return o.default.createElement("span",{className:t,style:u(i)},r?r(a):a)}}]),t}();t.default=l;var u=function(){return{display:"inline-block",MsTransition:"opacity 0.5s",WebkitTransition:"opacity 0.5s",MozTransition:"opacity 0.5s",transition:"opacity 0.5s",opacity:arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?0:1}};l.propTypes={cursor:a.default.string,className:a.default.string,cursorRenderer:a.default.func}}])},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.jsx=u,t.jsxs=u},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+E(l,0):o,w(a)?(i="",null!=e&&(i=e.replace(M,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(M,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+E(s=e[u],u);l+=A(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,c=o+E(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(m=!1,k(e),!v)if(null!==r(u))v=!0,D(x);else{var t=r(c);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(_),_=-1),p=!0;var o=d;try{for(k(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!A());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(u)&&i(u),k(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var f=r(c);null!==f&&P(w,f.startTime-n),l=!1}return l}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,j=null,_=-1,M=5,E=-1;function A(){return!(t.unstable_now()-E<M)}function T(){if(null!==j){var e=t.unstable_now();E=e;var n=!0;try{n=j(!0,e)}finally{n?S():(C=!1,j=null)}}else C=!1}if("function"===typeof b)S=function(){b(T)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,O=N.port2;N.port1.onmessage=T,S=function(){O.postMessage(null)}}else S=function(){g(T,0)};function D(e){j=e,C||(C=!0,S())}function P(e,n){_=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(m?(y(_),_=-1):m=!0,P(w,o-a))):(e.sortIndex=s,n(u,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".98651143.chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="application:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var f=u[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],l=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkapplication=self.webpackChunkapplication||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e,t=n(791),r=n.t(t,2),i=n(250);function o(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||s(e,t)||l()}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){return function(e){if(Array.isArray(e))return a(e)}(e)||c(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function S(e){var t=k();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function C(e,t,n){return C=k()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},C.apply(null,arguments)}function j(e){var t="function"===typeof Map?new Map:void 0;return j=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return C(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,e)},j(e)}function _(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var E,A="popstate";function T(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function N(e){return{usr:e.state,key:e.key}}function O(e,t,n,r){return void 0===n&&(n=null),M({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?P(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function D(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function P(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"===typeof e?e:D(e);return T(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function L(t,n,r,i){void 0===i&&(i={});var o=i,a=o.window,s=void 0===a?document.defaultView:a,l=o.v5Compat,u=void 0!==l&&l,c=s.history,f=e.Pop,h=null;function d(){f=e.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return t(s,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(A,d),h=e,function(){s.removeEventListener(A,d),h=null}},createHref:function(e){return n(s,e)},encodeLocation:function(e){var t=R("string"===typeof e?e:D(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;var i=O(p.location,t,n);r&&r(i,t);var o=N(i),a=p.createHref(i);try{c.pushState(o,"",a)}catch(l){s.location.assign(a)}u&&h&&h({action:f,location:p.location})},replace:function(t,n){f=e.Replace;var i=O(p.location,t,n);r&&r(i,t);var o=N(i),a=p.createHref(i);c.replaceState(o,"",a),u&&h&&h({action:f,location:p.location})},go:function(e){return c.go(e)}};return p}function I(e,t,n){void 0===n&&(n="/");var r=$(("string"===typeof t?P(t):t).pathname||"/",n);if(null==r)return null;var i=B(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=H(i[a],U(r));return o}function B(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,o){var a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(T(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var s=Y([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(T(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),B(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:W(s,e.index),routesMeta:l})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,o=_(z(e.path));try{for(o.s();!(r=o.n()).done;){var a=r.value;i(e,t,a)}}catch(s){o.e(s)}finally{o.f()}}else i(e,t)})),t}function z(e){var t=e.split("/");if(0===t.length)return[];var n,r=o(n=t)||c(n)||s(n)||l(),i=r[0],a=r.slice(1),u=i.endsWith("?"),h=i.replace(/\?$/,"");if(0===a.length)return u?[h,""]:[h];var d=z(a.join("/")),p=[];return p.push.apply(p,f(d.map((function(e){return""===e?h:[h,e].join("/")})))),u&&p.push.apply(p,f(d)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(E||(E={}));var F=/^:\w+$/,V=function(e){return"*"===e};function W(e,t){var n=e.split("/"),r=n.length;return n.some(V)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!V(e)})).reduce((function(e,t){return e+(F.test(t)?3:""===t?1:10)}),r)}function H(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],l=a===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=q({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var f=s.route;o.push({params:r,pathname:Y([i,c.pathname]),pathnameBase:X(Y([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=Y([i,c.pathnameBase]))}return o}function q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);K("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],l=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return K(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:l,pattern:e}}function U(e){try{return decodeURI(e)}catch(t){return K(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function $(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function K(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function G(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function J(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Q(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=P(e):(T(!(i=M({},e)).pathname||!i.pathname.includes("?"),G("?","pathname","search",i)),T(!i.pathname||!i.pathname.includes("#"),G("#","pathname","hash",i)),T(!i.search||!i.search.includes("#"),G("#","search","hash",i)));var o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(r||null==s)o=n;else{var l=t.length-1;if(s.startsWith("..")){for(var u=s.split("/");".."===u[0];)u.shift(),l-=1;i.pathname=u.join("/")}o=l>=0?t[l]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?P(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:Z(o),hash:ee(s)}}(i,o),f=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var Y=function(e){return e.join("/").replace(/\/\/+/g,"/")},X=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Z=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ee=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},te=function(e){y(n,e);var t=S(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(j(Error));var ne=m((function e(t,n,r,i){h(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function re(e){return e instanceof ne}var ie=["post","put","patch","delete"],oe=(new Set(ie),["get"].concat(ie));new Set(oe),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}var se="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},le=t.useState,ue=t.useEffect,ce=t.useLayoutEffect,fe=t.useDebugValue;function he(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!se(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var de=t.createContext(null);var pe=t.createContext(null);var ve=t.createContext(null);var me=t.createContext(null);var ge=t.createContext(null);var ye=t.createContext(null);var be=t.createContext({outlet:null,matches:[]});var ke=t.createContext(null);function we(){return null!=t.useContext(ye)}function xe(){return we()||T(!1),t.useContext(ye).location}function Se(){we()||T(!1);var e=t.useContext(ge),n=e.basename,r=e.navigator,i=t.useContext(be).matches,o=xe().pathname,a=JSON.stringify(J(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);return t.useEffect((function(){s.current=!0})),t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=Q(e,JSON.parse(a),o,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:Y([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,a,o])}var Ce=t.createContext(null);function je(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(be).matches,o=xe().pathname,a=JSON.stringify(J(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return Q(e,JSON.parse(a),o,"path"===r)}),[e,a,o,r])}function _e(){var e=function(){var e,n=t.useContext(ke),r=Oe(Ee.UseRouteError),i=De(Ee.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=re(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:a},"errorElement")," props on\xa0",t.createElement("code",{style:a},"<Route>")))}var Me,Ee,Ae=function(e){y(r,e);var n=S(r);function r(e){var t;return h(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return m(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(be.Provider,{value:this.props.routeContext},t.createElement(ke.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Te(e){var n=e.routeContext,r=e.match,i=e.children,o=t.useContext(de);return o&&r.route.errorElement&&(o._deepestRenderedBoundaryId=r.route.id),t.createElement(be.Provider,{value:n},i)}function Ne(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,o=null==r?void 0:r.errors;if(null!=o){var a=i.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));a>=0||T(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((function(e,a,s){var l=a.route.id?null==o?void 0:o[a.route.id]:null,u=r?a.route.errorElement||t.createElement(_e,null):null,c=n.concat(i.slice(0,s+1)),f=function(){return t.createElement(Te,{match:a,routeContext:{outlet:e,matches:c}},l?u:void 0!==a.route.element?a.route.element:e)};return r&&(a.route.errorElement||0===s)?t.createElement(Ae,{location:r.location,component:u,error:l,children:f(),routeContext:{outlet:null,matches:c}}):f()}),null)}function Oe(e){var n=t.useContext(ve);return n||T(!1),n}function De(e){var n=function(e){var n=t.useContext(be);return n||T(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||T(!1),r.route.id}!function(e){e.UseRevalidator="useRevalidator"}(Me||(Me={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ee||(Ee={}));var Pe;function Re(e){return function(e){var n=t.useContext(be).outlet;return n?t.createElement(Ce.Provider,{value:e},n):n}(e.context)}function Le(e){T(!1)}function Ie(n){var r=n.basename,i=void 0===r?"/":r,o=n.children,a=void 0===o?null:o,s=n.location,l=n.navigationType,u=void 0===l?e.Pop:l,c=n.navigator,f=n.static,h=void 0!==f&&f;we()&&T(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof s&&(s=P(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,b=void 0===y?"":y,k=v.hash,w=void 0===k?"":k,x=v.state,S=void 0===x?null:x,C=v.key,j=void 0===C?"default":C,_=t.useMemo((function(){var e=$(g,d);return null==e?null:{pathname:e,search:b,hash:w,state:S,key:j}}),[d,g,b,w,S,j]);return null==_?null:t.createElement(ge.Provider,{value:p},t.createElement(ye.Provider,{children:a,value:{location:_,navigationType:u}}))}function Be(n){var r=n.children,i=n.location,o=t.useContext(pe);return function(n,r){we()||T(!1);var i,o=t.useContext(ge).navigator,a=t.useContext(ve),s=t.useContext(be).matches,l=s[s.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/"),f=(l&&l.route,xe());if(r){var h,d="string"===typeof r?P(r):r;"/"===c||(null==(h=d.pathname)?void 0:h.startsWith(c))||T(!1),i=d}else i=f;var p=i.pathname||"/",v=I(n,{pathname:"/"===c?p:p.slice(c.length)||"/"}),m=Ne(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Y([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Y([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,a||void 0);return r&&m?t.createElement(ye.Provider,{value:{location:ae({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},m):m}(o&&!r?o.router.routes:Fe(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Pe||(Pe={}));var ze=new Promise((function(){}));t.Component;function Fe(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Le&&T(!1),e.props.index&&e.props.children&&T(!1);var o=[].concat(f(n),[i]),a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=Fe(e.props.children,o)),r.push(a)}else r.push.apply(r,Fe(e.props.children,n))})),r}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function We(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var He=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function qe(e){var n,r=e.basename,i=e.children,o=e.window,a=t.useRef();null==a.current&&(a.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),L((function(e,t){var n=e.location;return O("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:D(t)}),null,n)));var s=a.current,l=u(t.useState({action:s.action,location:s.location}),2),c=l[0],f=l[1];return t.useLayoutEffect((function(){return s.listen(f)}),[s]),t.createElement(Ie,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:s})}var Ue=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,o=e.reloadDocument,a=e.replace,s=e.state,l=e.target,u=e.to,c=e.preventScrollReset,f=We(e,He),h=function(e,n){var r=(void 0===n?{}:n).relative;we()||T(!1);var i=t.useContext(ge),o=i.basename,a=i.navigator,s=je(e,{relative:r}),l=s.hash,u=s.pathname,c=s.search,f=u;return"/"!==o&&(f="/"===u?o:Y([o,u])),a.createHref({pathname:f,search:c,hash:l})}(u,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=r.preventScrollReset,l=r.relative,u=Se(),c=xe(),f=je(e,{relative:l});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==o?o:D(c)===D(f);u(e,{replace:n,state:a,preventScrollReset:s,relative:l})}}),[c,u,f,o,a,i,e,s,l])}(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i});return t.createElement("a",Ve({},f,{href:h,onClick:o?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:l}))}));var $e,Ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})($e||($e={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ke||(Ke={}));var Ge=n(184),Je=function(){return(0,Ge.jsxs)("div",{children:[(0,Ge.jsxs)("div",{className:"resume-navbar",children:[(0,Ge.jsx)("h3",{Style:"margin-left: 1rem",children:"R\xe9sum\xe9"}),(0,Ge.jsx)("h3",{Style:"margin-right: 1rem",children:"Last Updated 7/5/22"})]}),(0,Ge.jsx)("div",{Style:"display: flex",children:(0,Ge.jsx)(Ue,{to:"/",className:"download-button",Style:"color: white; width: 6rem; margin-right: 1rem; font-size: 1.2rem",children:"Back"})})]})},Qe=function(){return(0,Ge.jsx)("div",{className:"resume-body",children:(0,Ge.jsx)(Je,{})})};var Ye=function(){return(0,Ge.jsxs)("div",{className:"navbar",children:[(0,Ge.jsx)("h4",{className:"navbar-title",Style:"margin-bottom: 0",children:(0,Ge.jsx)("i",{children:"Hi! Most people call me"})}),(0,Ge.jsx)("h1",{className:"name-title",Style:"margin-top: 0",children:"\u2014 Mason Marker \u2014"})]})},Xe=function(){return(0,Ge.jsxs)("div",{className:"about-div",children:[(0,Ge.jsx)("h1",{children:"Who am I?"}),(0,Ge.jsx)("p",{Style:"font-weight: bold;",children:"I'm a passionate and driven junior computer science major at James Madison University."}),(0,Ge.jsx)("p",{children:"In entering my senior year, my yearning for knowledge continues to grow. I believe that while understanding new logical concepts in math and computer science, one can find this newly obtained logic applicable to countless ideas outside of the areas in which they have been learned."}),(0,Ge.jsx)("p",{children:(0,Ge.jsx)("i",{children:"Computer Science is a gateway to a better ability to apply logic to non-logical concepts."})})]})},Ze=function(){return(0,Ge.jsx)("div",{className:"my-ventures",children:(0,Ge.jsx)("h1",{children:"My Education"})})},et=function(){return(0,Ge.jsxs)("div",{className:"education",children:[(0,Ge.jsx)("div",{className:"education2-div",children:(0,Ge.jsx)("img",{alt:"JMU",onClick:ft,className:"education-img",src:"https://gray-wvir-prod.cdn.arcpublishing.com/resizer/LP2hwjsI6I17ybSZV5UAqVKd2ic=/1200x675/smart/filters:quality(85)/cloudfront-us-east-1.images.arcpublishing.com/gray/AL5AMJZCXBBPNOZQ7DRYAGGAYI.png"})}),(0,Ge.jsxs)("div",{className:"education-desc",children:[(0,Ge.jsx)("h2",{className:"no-margin",children:"James Madison University"}),(0,Ge.jsx)("h3",{className:"no-margin",children:"Student - Senior"}),(0,Ge.jsx)("h5",{className:"no-margin",Style:"color: var(--gray)",children:"Computer Science Major"}),(0,Ge.jsx)("h5",{className:"no-margin",Style:"color: var(--gray)",children:"2019 - Present"}),(0,Ge.jsx)("p",{className:"education-p",children:"In high school, I was positive I wanted to attend university with hopes for success in the medical field."}),(0,Ge.jsx)("p",{className:"education-p",children:"My first semester in the biology curriculum was an experience, however did not satisfy me academically nor mentally."}),(0,Ge.jsx)("p",{className:"education-p",children:"While my thirst for knowledge was high, I needed to find a major that would prove beneficial to my future, serving as not just work, but enjoyable work, and offering potential for vast expansion within the field."}),(0,Ge.jsx)("p",{className:"education-p",children:"Nearly everyone in my dorm was majoring in computer science, I was the only one focused on the medical field. This most definitely swayed my decision to major in computer science, as they explained to me the seemingly endless benefits of studying computer science."}),(0,Ge.jsx)("p",{className:"education-p",children:"I thought it wouldn't hurt to take a few entry level classes, and in doing so, I fell in love with the art of programming. As a kid, I would always assist my brothers, parents, and grandparents with issues they were having with any devices they owned. This made me question why I hadn't dug deeper into the intricacies of computer science earlier!"})]})]})},tt=function(){return(0,Ge.jsxs)("div",{className:"my-ventures",children:[(0,Ge.jsx)("h1",{children:"My Ventures"}),(0,Ge.jsx)("p",{children:(0,Ge.jsx)("b",{children:"In my years, I have contributed my complete efforts to several companies' visions."})})]})},nt=function(){return(0,Ge.jsxs)("div",{className:"ventures-container",children:[(0,Ge.jsx)(vt,{children:(0,Ge.jsxs)("div",{className:"job-div",children:[(0,Ge.jsx)("img",{onClick:ht,alt:"genworth",className:"ventures-img",src:"https://content.fortune.com/wp-content/uploads/2020/05/F500-2020-364-Genworth-Financial.jpg"}),(0,Ge.jsxs)("div",{className:"desc-div",children:[(0,Ge.jsx)("h2",{Style:"margin-bottom: 0",children:"Genworth"}),(0,Ge.jsx)("h3",{className:"job-title",children:"IT Development Program Intern"}),(0,Ge.jsx)("h4",{className:"job-duration",children:"May 2022 - Present"}),(0,Ge.jsx)("h5",{className:"job-desc",children:"I worked as a Robotics Process Automation (RPA) engineer. I would be given briefings of business processes that needed to be automated, and I would be instructed to find an efficient and optimized way of completing these tasks by constructing virtual bots."}),(0,Ge.jsx)("h5",{className:"job-desc",children:"I began the internship with little experience in intelligent automation, however quickly adapted to the several softwares assigned to me, including Automation Anywhere (A360), Power Automate, and many applications included in the Microsoft 365 Apps for Enterprise collection."})]})]})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsxs)("div",{className:"job-div",children:[(0,Ge.jsx)("img",{onClick:dt,alt:"winchester medical center",className:"ventures-img",src:"https://www.dreamweaverteam.com/wordpress/wp-content/uploads/2017/08/Winchester-Medical-Center.jpg"}),(0,Ge.jsxs)("div",{className:"desc-div",children:[(0,Ge.jsx)("h2",{Style:"margin-bottom: 0",children:"Winchester Medical Center"}),(0,Ge.jsx)("h3",{className:"job-title",children:"Volunteer"}),(0,Ge.jsx)("h4",{className:"job-duration",children:"May 2018 - August 2018"}),(0,Ge.jsx)("h5",{className:"job-desc",children:"I volunteered at the Winchester Medical Center to both gain experience in the medical field and obtain volunteer hours. The experience was enjoyable, as I was able to grasp a better understanding on how roles in the medical field merge into a functional medical system."}),(0,Ge.jsx)("h5",{className:"job-desc",children:"My duties included attending to emergency center patients non-medical needs while simultaneously cleaning the area, and sorting and boxing several sizes of blood vials for use by the medical professionals while following HIPAA guidelines."})]})]})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsxs)("div",{className:"job-div",children:[(0,Ge.jsx)("img",{alt:"walgreens",className:"ventures-img",src:"https://gray-kait-prod.cdn.arcpublishing.com/resizer/2MX1aIfwKyIEzosEF_uS8gkNuJM=/1200x675/smart/filters:quality(85)/cloudfront-us-east-1.images.arcpublishing.com/gray/65FAKKQDN5HR5GVLZI4KUHWIVM.jpg"}),(0,Ge.jsxs)("div",{className:"desc-div",children:[(0,Ge.jsx)("h2",{Style:"margin-bottom: 0",children:"Walgreens Pharmacy"}),(0,Ge.jsx)("h3",{className:"job-title",children:"Pharmacy Cashier / Customer Service Associate"}),(0,Ge.jsx)("h4",{className:"job-duration",children:"May 2020 - Present"}),(0,Ge.jsx)("h5",{className:"job-desc",children:"My duties involved operation of a cash register and receive payment from customers in cash or credit card, accurately count and provide change to customers as required,then use the RX system to locate customer medical profiles and distribute prescribed medications accordingly while following HIPAA guidelines and maintaining constant social interaction. "})]})]})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsxs)("div",{className:"job-div",children:[(0,Ge.jsx)("img",{onClick:pt,alt:"chick-fil-a",className:"ventures-img",src:"https://live.staticflickr.com/5328/8928862580_4cd0791484.jpg"}),(0,Ge.jsxs)("div",{className:"desc-div",children:[(0,Ge.jsx)("h2",{Style:"margin-bottom: 0",children:"Chick-Fil-A"}),(0,Ge.jsx)("h3",{className:"job-title",children:"Cashier"}),(0,Ge.jsx)("h4",{className:"job-duration",children:"July 2017 - August 2018"}),(0,Ge.jsx)("h5",{className:"job-desc",children:"Operated a cash register and receive payment from customers in cash or credit card, accurately count and provide change to customers as required, and follow all cash handling policies and procedures while working quickly and maintaining constant social interaction."})]})]})})]})},rt=function(){return(0,Ge.jsx)("div",{className:"my-services",children:(0,Ge.jsx)("h1",{children:"My Projects"})})},it=function(){return(0,Ge.jsxs)("div",{className:"github",children:[(0,Ge.jsx)("div",{className:"job-div",Style:"margin-top: 1rem",children:(0,Ge.jsx)("img",{alt:"github",className:"ventures-img",src:"https://avatars.githubusercontent.com/u/9919?s=280&v=4",Style:"height: 10rem; width: 10rem",onClick:ct})}),(0,Ge.jsxs)("div",{className:"desc-div",children:[(0,Ge.jsx)("h2",{Style:"margin-bottom: 0",children:"The Msn Project"}),(0,Ge.jsx)("h3",{className:"job-title",children:"Github Repository"}),(0,Ge.jsx)("h5",{className:"job-desc",children:"You can find nearly every side project I've ever developed on my Github. While these projects are limited to Java, each folder that can be found in my repository proves useful to nearly any project one might consider developing. With tens of thousands of lines of code, these collections can be utilized by anyone seeking their usage in their own projects."}),(0,Ge.jsx)("h5",{className:"job-desc",children:"From general methods to complex neural network computation and application, my repository holds powerful tools that can be used by anyone."}),(0,Ge.jsx)("h5",{className:"job-desc",children:"This repository contains, but is most definitely not limited to,"}),(0,Ge.jsx)("h5",{className:"job-desc",Style:"font-weight: bold; text-align: left",children:(0,Ge.jsxs)("ul",{children:[(0,Ge.jsx)("li",{children:"Wide variety of self-created data structures, unoriginal and original"}),(0,Ge.jsx)("li",{children:"10,000 - 15,000 lines of methods dedicated to supporting current or future projects"}),(0,Ge.jsx)("li",{children:"Several original, fully capable programming languages designed for ease of programming."}),(0,Ge.jsx)("li",{children:"Various levels of artificial intelligence management and application utilities involving multi-layer perceptron network construction and implementation to real world scenarios."}),(0,Ge.jsx)("li",{children:"And much more!"})]})}),(0,Ge.jsx)("h3",{className:"download-button",Style:"color: white; width: 5rem",onClick:ct,children:"Visit"}),(0,Ge.jsx)(Ue,{to:"/github",className:"download-button",Style:"color: white; font-weight: bold; width: 15rem; padding: 1rem",children:"I don't want to read anymore, just show me!"})]})]})},ot=function(){return(0,Ge.jsx)("div",{className:"my-ventures",children:(0,Ge.jsx)("h1",{children:"My Languages"})})},at=function(){return(0,Ge.jsxs)("div",{className:"languages",children:[(0,Ge.jsx)(vt,{children:(0,Ge.jsxs)("div",{className:"lang-desc",children:[(0,Ge.jsx)("img",{alt:"Java",className:"lang-img",src:"https://www.oracle.com/oce/press/assets/CONT6C95347B9ECC40CF8E7272A74FD80BDE/native/rc24-java-logo.gif"}),(0,Ge.jsx)(st,{level:"90%",color:"darkorange",completion:"fluent"}),(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("p",{children:"Java was my first programming language, and was heavily used throughout my first 2 years at JMU"}),(0,Ge.jsx)("p",{children:"I've accumulated an estimated 2,000 - 3,000 hours in Java development inside and outside of school, and doing so provided me with a firm grasp on programming concepts including:"}),(0,Ge.jsxs)("ul",{Style:"text-align:left; font-weight: bold",children:[(0,Ge.jsx)("li",{children:"Object-oriented programming"}),(0,Ge.jsx)("li",{children:"Algorithmic design and optimization"}),(0,Ge.jsx)("li",{children:"Importance and implementation of data structures"}),(0,Ge.jsx)("li",{children:"The art of code debugging"}),(0,Ge.jsx)("li",{children:"Scrum based development"}),(0,Ge.jsx)("li",{children:"Unit and integration testing"}),(0,Ge.jsx)("li",{children:"And many other concepts"})]}),(0,Ge.jsxs)("p",{children:["Java continues to serve as the primary language in my main GitHub project,",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("a",{href:"https://github.com/masonmarker/TheMsnProject",children:"TheMsnProject"})]})]})]})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsxs)("div",{className:"lang-desc",children:[(0,Ge.jsx)("img",{alt:"HTML/CSS/JS",className:"lang-img",Style:"padding-top: 1.2rem",src:"https://www.freepnglogos.com/uploads/html5-logo-png/html5-logo-devextreme-multi-purpose-controls-html-javascript-3.png"}),(0,Ge.jsx)(st,{level:"55%",color:"blue",completion:"intermediate"}),(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("p",{children:"Upon enrollment in my web development class, it became clear that website development was a large gray area for me waiting to be explored."}),(0,Ge.jsx)("p",{children:"Before class had begun, I had already been informed of the concepts that would be covered in the class from some of my upper-classman friends. To get a head-start of these concepts, I undertook several front-end development projects on the side that I could use as a baseline for concepts that may be touched on when class started. The outcome of the websites were underwhelming from a user-experience perspective, however I'm happy to have been learned an incredible portion of basics concepts as well as implementation."}),(0,Ge.jsx)("p",{children:"It felt great to have entered the class having a grasp on this vital area of computer science. However after discovering ReactJS, I quickly shifted away from HTML/CSS/JavaScript to React when the class concluded."})]})]})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsxs)("div",{className:"lang-desc",children:[(0,Ge.jsx)("img",{alt:"C Language",className:"lang-img",Style:"width: 10rem; padding-top: 1rem;",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/C_Programming_Language.svg/695px-C_Programming_Language.svg.png"}),(0,Ge.jsx)(st,{level:"45%",color:"lightblue",completion:"beginner - intermediate"}),(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("p",{children:"C has been used widely throughout my past 2 years of schooling in the computer science curriculum."}),(0,Ge.jsx)("p",{children:"Though not my favorite language to code in, I believe C was vital in understanding the importance of pointers, memory management, and the use of system calls."}),(0,Ge.jsx)("p",{children:"C gave me not only this vital understanding, but also diciplined me when it comes to programming. I may not solve school projects in C for days on end, coming with times when I would just want to give up. C forced me to find a way to push through and solve the problem regardless of how many hours of coding I may rack up."})]})]})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsxs)("div",{className:"lang-desc",children:[(0,Ge.jsx)("img",{alt:"Ruby",className:"lang-img",src:"https://miro.medium.com/max/540/1*7e9D-oPWPIKBe2AQv862aA.png"}),(0,Ge.jsx)(st,{level:"37%",color:"red",completion:"beginner - intermediate"}),(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("p",{children:"Ruby was a required language to learn in my programming languages class at JMU."}),(0,Ge.jsx)("p",{children:"As an incredibly high-level language, I instantly fell in love with its simplicity as a programmer. Though short lived, my experience with Ruby has helped me understand the tradeoffs between programming languages, being that higher the level of the language, the more likely the language is to have a slower runtime than a lower level language."}),(0,Ge.jsx)("p",{children:"This understanding brought to me the proper reasoning as to why languages such as C, C++, and Rust execute their programs fundamentally faster than languages such as Ruby and Python."})]})]})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsxs)("div",{className:"lang-desc",children:[(0,Ge.jsx)("img",{alt:"ReactJS",className:"lang-img",src:"https://www.datocms-assets.com/45470/1631110818-logo-react-js.png"}),(0,Ge.jsx)(st,{level:"25%",color:"#08dcfc",completion:"beginner, currently studying"}),(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("p",{children:"I would often ask myself,"}),(0,Ge.jsx)("p",{children:(0,Ge.jsx)("b",{children:'"Why does web development require several different languages?'})}),(0,Ge.jsx)("p",{children:(0,Ge.jsx)("b",{children:'"Why didn\'t early developers create a medium between all aspects of web development instead of a language for each?"'})}),(0,Ge.jsx)("p",{children:"These questions were quickly answered as it became known to me that ReactJS was in development. As a meeting point between HTML, CSS, and JavaScript, ReactJS proved more efficient to me than utilizing the 3 independently while creating this website you're currently browsing in."}),(0,Ge.jsx)("p",{children:'React is now known as "the future of web creation," and in realizing the sheer benefits of component reusability, I cannot see myself bringing my studies of React to a halt any time soon.'})]})]})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsxs)("div",{className:"lang-desc",Style:"height: fit-content",children:[(0,Ge.jsx)("img",{alt:"Rust",className:"lang-img",src:"https://blog.altabel.com/wp-content/uploads/2020/08/1.png"}),(0,Ge.jsx)(st,{level:"25%",color:"black",completion:"beginner"}),(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("p",{children:"I've been wanting to learn the in's and out's of the blockchain, and I've realized I would eventually need to understand a language capable of hosting smart contracts on the blockchain."}),(0,Ge.jsx)("p",{children:"After some digging, I found Rust, a generally efficient, pointer based language capable of doing exactly that. Due to my previous experience with C, I was able to quickly learn the syntax and concepts of Rust."}),(0,Ge.jsx)("p",{children:"I'm not currently studying Rust, as I have other languages on my hands, however I am eager to learn more about it in the future."})]})]})})]})},st=function(e){return(0,Ge.jsxs)("div",{children:[(0,Ge.jsx)("h3",{Style:"margin: 0; text-decoration: italic; font-style: italic; font-size: 1rem; margin-bottom: .3rem",children:e.completion}),(0,Ge.jsx)("hr",{className:"lang-prof",style:{width:e.level,border:"3px solid "+e.color,margin:0}})]})},lt=function(){return(0,Ge.jsx)("div",{className:"footer",children:(0,Ge.jsxs)("div",{className:"footer-container",children:[(0,Ge.jsx)("h1",{children:"Mason Marker"}),(0,Ge.jsx)("h1",{children:"2022"}),(0,Ge.jsx)(ut,{name:"LinkedIn",loc:"https://www.linkedin.com/in/masonmarker/"}),(0,Ge.jsx)(ut,{name:"GitHub",loc:"https://github.com/masonmarker/TheMsnProject"}),(0,Ge.jsx)(ut,{name:"Instagram",loc:"https://www.instagram.com/mxs.n/"})]})})},ut=function(e){return(0,Ge.jsx)("div",{onClick:function(){return t=e.loc,void(window.location.href=t);var t},className:"download-button",children:(0,Ge.jsx)("h3",{Style:"color: white; letter-spacing: .05rem",children:e.name})})};function ct(){window.location.href="https://github.com/masonmarker/TheMsnProject"}function ft(){window.location.href="https://www.jmu.edu/"}function ht(){window.location.href="https://www.genworth.com/"}function dt(){window.location.href="https://www.valleyhealthlink.com/winchester-medical-center/"}function pt(){window.location.href="https://www.chick-fil-a.com/"}var vt=function(e){var n=e.children,r=t.useRef(),i=u(t.useState(!1),2),o=i[0],a=i[1];t.useEffect((function(){var e=new IntersectionObserver((function(t){try{t[0].isIntersecting&&(a(!0),e.unobserve(r.current))}catch(n){}}));try{e.observe(r.current)}catch(t){return function(){return e.unobserve(r.current)}}}),[]);try{return(0,Ge.jsx)("section",{ref:r,className:o?" is-visible":"",children:n})}catch(s){return(0,Ge.jsx)("div",{})}},mt=function(){return document.body.style="background: white;",(0,Ge.jsxs)("div",{className:"App",children:[(0,Ge.jsx)("style",{children:"@import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Poppins:wght@500;700;800&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Poppins:wght@200;500;700;800&display=swap');"}),(0,Ge.jsx)(Ye,{}),(0,Ge.jsx)(vt,{children:(0,Ge.jsx)(Xe,{})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsx)(Ze,{})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsx)(et,{})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsx)(tt,{})}),(0,Ge.jsx)(nt,{}),(0,Ge.jsx)(vt,{children:(0,Ge.jsx)(rt,{})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsx)(it,{})}),(0,Ge.jsx)(vt,{children:(0,Ge.jsx)(ot,{})}),(0,Ge.jsx)(at,{}),(0,Ge.jsx)(vt,{children:(0,Ge.jsx)(lt,{})}),(0,Ge.jsx)(Re,{})]})},gt=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))},yt=n(87),bt=n.n(yt);function kt(e,t){var n=e.length;return e+new Array(t-n+1).join("\n")}function wt(){return(0,Ge.jsxs)("div",{className:"msn2-grid",children:[(0,Ge.jsx)(xt,{text:"What is MSN2?",children:(0,Ge.jsxs)("ul",{className:"msn2-ul",children:[(0,Ge.jsx)("li",{children:"MSNScript2 was developed to bring to light the advantages of it's predecessors, as well as incorporate safer and more optimized syntactical advantages."}),(0,Ge.jsx)("li",{children:"After researching more efficient interpretation methods than that of MSNC and MSN1, MSN2 could then recursively interpret nested functions."}),(0,Ge.jsx)("li",{children:"With this, capabilities of the language grew beyond that of base syntax. Pro's of having a backend language as Python and recursive interpretation grant even deepter capabilities."}),(0,Ge.jsx)("li",{children:"Inspiration to continue the MSN programming language projects stemmed from the increase in public awareness involving the concept of AI and machine learning. Considering the potential of AI and complex modern day usage of AI API's by programmers, I decided to craft what could be a more easily accessible programming interface for working with API's such as these."})]})}),(0,Ge.jsx)(xt,{text:"Advantages",children:(0,Ge.jsxs)("ul",{className:"msn2-ul",children:[(0,Ge.jsx)("li",{children:"As advertised, MSN2 offers the capability to write your own syntax to program with"}),(0,Ge.jsx)("li",{children:"With countless syntactical adjustments to be made, advantages to writing code only increase"}),(0,Ge.jsx)("li",{children:"MSNScript2 is a recursively interpreting language, meaning that it can now interpret nested functions"}),(0,Ge.jsx)("li",{children:"Incorporates inline functions"}),(0,Ge.jsx)("li",{children:"Simplified the thread / process creation mechanism"}),(0,Ge.jsx)("li",{children:"Simplified starting a local HTTP server on localhost and on network IP's"}),(0,Ge.jsx)("li",{children:"Simplified HTTP API service call convention (GET, POST, DELETE)"}),(0,Ge.jsx)("li",{children:"Added classes"}),(0,Ge.jsx)("li",{children:"More safety and confidence with dictionary setting and indexing"})]})}),(0,Ge.jsx)(xt,{text:"Limitations",children:(0,Ge.jsxs)("ul",{className:"msn2-ul",children:[(0,Ge.jsx)("li",{children:"Though you can implement your own syntax, the syntax at which you can create is limited to your imagination beyond, but not including the base language. This means that you can create your own syntax for your personal use, however this syntax cannot involve tokens, symbols, or keywords that are already used in the base language. Finding such tokens are not difficult, its simply recommended to grasp an understanding of the base language before you should create your own."}),(0,Ge.jsx)("li",{children:"Processes can only be forked in a Windows OS"}),(0,Ge.jsx)("li",{children:"This language has not been massively tested, as it has 1 constributor, leaving an unbelievable amount of room for interpretation error with code variety"}),(0,Ge.jsx)("li",{children:"HTTP API endpoints can only be started on localhost and local network as of 12/28/2022"})]})}),(0,Ge.jsxs)(xt,{text:"Documentation",children:[(0,Ge.jsx)("ul",{className:"msn2-ul",children:(0,Ge.jsx)("li",{children:"Current documentation explains how the language works under the hood, as well as provide information regarding system calls, classes, types, threads, processes, API's, AI, and more"})}),(0,Ge.jsx)(Ue,{to:"/msn2docs",className:"msn2-big-title",style:{color:"white",margin:0,marginTop:"4.5vh",marginBottom:"10vh",fontSize:"2rem",textDecoration:"none"},children:"Go to the docs"})]})]})}function xt(e){return(0,Ge.jsxs)("div",{className:"msn2-card",children:[(0,Ge.jsx)("h",{className:"msn2-small-non-typing-title",children:e.text}),e.children]})}function St(){return(0,Ge.jsxs)("div",{className:"msn2-big-title-div",children:[(0,Ge.jsx)("h",{className:"msn2-big-title",children:"MSNScript2"}),(0,Ge.jsx)("p",{className:"msn2-big-title",style:{color:"white",marginTop:0,marginBottom:"10vh",marginLeft:"50vw",fontSize:"2vw"},children:"12/28/2022"})]})}function Ct(e){return(0,Ge.jsx)(bt(),{className:"msn2-title",speed:100,eraseSpeed:25,typingDelay:50,cursor:" _",text:e.messages,style:e._style})}var jt=function(){var e='print("CODE YOUR WAY")',t='function("foo", =>(), "arg")',n='for(0, 10, "i", print())',r='thread("t1", print())',i='fork("p1", print())';return(0,Ge.jsxs)("div",{className:"msn2-div",children:[(0,Ge.jsx)(St,{}),(0,Ge.jsx)(Ct,{messages:[e,t,n,r,i],_style:{fontSize:"3vw",marginBottom:"1rem"}}),(0,Ge.jsx)(Ct,{messages:[kt('log: "CODE YOUR WAY"',e.length),kt("function foo(arg)",t.length),kt("0|10|i (print())",n.length),kt("/t print()",r.length),kt("proc p1 : print()",i.length)],_style:{fontSize:"3vw",marginBottom:"1rem"}}),(0,Ge.jsx)(Ct,{messages:[kt('print "CODE YOUR WAY"',e.length),kt("func foo(arg)",t.length),kt("loop 0|10: print()",n.length),kt("thread t1: print()",r.length),kt("process: print()",i.length)],_style:{fontSize:"3vw",marginBottom:"1rem"}}),(0,Ge.jsx)(Ct,{messages:[kt('disp "CODE YOUR WAY"',e.length),kt("f foo : arg",t.length),kt("FROM 0 -> 10 DO print()",n.length),kt("thrd t1 does print()",r.length),kt('proc("p1", print())',i.length)],_style:{fontSize:"3vw",marginBottom:"1rem"}}),(0,Ge.jsx)(Ct,{messages:[kt("-> CODE YOUR WAY",e.length),kt("f foo : arg -> __result",t.length),kt("for -0- -10- -i- print()",n.length),kt(":t1 prnt()",r.length),kt("p p1 print()",i.length)],_style:{fontSize:"3vw"}}),(0,Ge.jsx)(wt,{})]})};function _t(){window.location.href="https://github.com/masonmarker/TheMsnProject"}var Mt=function(e){var n=e.children,r=t.useRef(),i=u(t.useState(!1),2),o=i[0],a=i[1];t.useEffect((function(){var e=new IntersectionObserver((function(t){try{t[0].isIntersecting&&(a(!0),e.unobserve(r.current))}catch(n){}}));try{e.observe(r.current)}catch(t){return function(){return e.unobserve(r.current)}}}),[]);try{return(0,Ge.jsx)("section",{ref:r,className:o?" is-visible":"",children:n})}catch(s){return(0,Ge.jsx)("div",{})}},Et=function(){return(0,Ge.jsxs)("div",{className:"github-body",children:[(0,Ge.jsx)("div",{className:"github-nav",children:(0,Ge.jsxs)("div",{className:"github-nav-container",children:[(0,Ge.jsx)(Ue,{to:"/",className:"download-button",Style:"background-color: var(--darkpurple); color: white",children:"Back"}),(0,Ge.jsxs)("div",{className:"github-nav-title",children:[(0,Ge.jsx)("h1",{Style:"margin-bottom: .5rem;",children:"The Msn Project"}),(0,Ge.jsx)("h5",{Style:"margin-top: 0;",children:"GitHub Repository"})]}),(0,Ge.jsx)("div",{className:"download-button",Style:"background-color: var(--darkpurple)",onClick:_t,children:"Visit"})]})}),(0,Ge.jsx)(Mt,{children:(0,Ge.jsxs)("div",{className:"github-msnc",children:[(0,Ge.jsx)("div",{className:"msnc-img"}),(0,Ge.jsx)("div",{Style:"margin-left: 1rem;",children:(0,Ge.jsxs)("div",{className:"github-msnc-desc",children:[(0,Ge.jsx)("h1",{Style:"margin-bottom: 0",children:"MSN Code (MSNC)"}),(0,Ge.jsx)("h3",{Style:"margin-top: 0",children:"Programming Language"}),(0,Ge.jsx)("h4",{className:"github-msnc-h4",children:"With my desire to improve my programming ability, I was determined to challenge myself."}),(0,Ge.jsx)("h4",{className:"github-msnc-h4",children:"After exploring the vast abyss of project ideas, I settled on... none of them. I had previously recognized the complexities of language creation, and I was well aware of my abilities in Java's front and back end. With this, I made the decision to make an attempt at creating a language, even if it may not follow conventional standards."}),(0,Ge.jsx)("h4",{className:"github-msnc-h4",children:"Over several months, committing hundreds of hours of full-stack coding, I had slowly but surely began building a functional, object capable language using Java as a backend."}),(0,Ge.jsxs)("h4",{className:"github-msnc-h4",children:["The obstacles in creating this language seemed endless, but when the baseline code became stable, the potential of the language soared. While only embedded in my GitHub, you can still code in MSN Code ",(0,Ge.jsx)("a",{href:"https://github.com/masonmarker/TheMsnProject",children:"here"}),"."]}),(0,Ge.jsx)("h4",{className:"github-msnc-h4",children:"The question as of 4/19/2022 remains as to whether I should continue with the concept, but for now I will do my best to repair any existing bugs. You can find a demonstration of the languages features below."})]})})]})}),(0,Ge.jsx)(Mt,{children:(0,Ge.jsxs)("div",{className:"msnc-vid-desc",children:[(0,Ge.jsx)("h1",{children:"Demonstration"}),(0,Ge.jsx)("iframe",{className:"msnc-vid",width:"560",height:"315",src:"https://www.youtube.com/embed/WRMVIQCrjL0",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})}),(0,Ge.jsxs)("div",{className:"msnscript-div",children:[(0,Ge.jsx)("style",{children:"@import url('https://fonts.googleapis.com/css2?family=Silkscreen:wght@700&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Rubik&display=swap');"}),(0,Ge.jsx)("h1",{className:"msnscript-title",children:"MSNScript"}),(0,Ge.jsxs)("div",{className:"msnscript-sub",children:[(0,Ge.jsx)("h3",{Style:"margin-left: 20vw; width: 25%;",children:"MSNC 2.0"}),(0,Ge.jsx)("h3",{Style:"margin-right: 20vw; width: 25%;",children:"8-19-2022"})]}),(0,Ge.jsxs)("div",{className:"msnscript-desc",children:[(0,Ge.jsx)("p",{children:"After contemplating further advancements of MSN Code, I decided to redevelop the language into a higher level, and less error-prone language."}),(0,Ge.jsx)("p",{children:"In transferring MSNC 1.0 to a higher level language, it became clear that the cleanliness of the language could be improved by moving the backend to Python. With the transition to Python and stability of baseline code, MSNScript's versatility grew far beyond that of its predecessor."}),(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),(0,Ge.jsx)("h2",{Style:"font-size: 3rem; font-family: 'Silkscreen', cursive; color:var(--lightpurple)",children:"Improvements"}),(0,Ge.jsxs)("div",{className:"msnscript-imp",children:[(0,Ge.jsx)("h3",{Style:"color:var(--lightpurple) ;text-align:left; margin-left: 1rem",children:"Differences from MSNC 1.0 (JAVA):"}),(0,Ge.jsxs)("ul",{Style:"text-align: left",children:[(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"no longer a need for semicolons"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"no spaces required in any syntax, script is read character by character regardless"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"supports multiple loops / conditions on the same line"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"supports multiple lines of code on the same LINE with ' | '"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"strings provided their own syntax with ' \"\" '"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"no need to declare types"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"cleaner method syntax with ' ~ '"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsxs)("p",{children:["loops ",(0,Ge.jsx)("i",{children:"can"})," incorporate a variable with {START:END:VAR}"]})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"allows for default classes with methods, ex. Local , System"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"improved variable and method destruction capabilities"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"faster instruction interpretation (closer to a linear approach)"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"better flexibility with boolean expressions"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"one instruction can span across multiple lines with $$"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"array's 'each' method allows for faster looping through arrays"})}),(0,Ge.jsx)("li",{children:(0,Ge.jsx)("p",{children:"faster method execution with ^^^"})})]})]}),(0,Ge.jsxs)("div",{className:"msnscript-code",children:[(0,Ge.jsx)("h1",{Style:"margin: 0 auto; margin-bottom: 1.5rem ",children:"Try it yourself in your browser!"}),(0,Ge.jsx)(Ue,{to:"/msnscript1",className:"download-button",Style:"color: white",children:"MSNScript"})]})]})]}),(0,Ge.jsx)(jt,{})]})};function At(){At=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new _(i||[]);return r(a,"_invoke",{value:x(e,n,s)}),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var f={};function h(){}function p(){}function v(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(M([])));y&&y!==t&&n.call(y,o)&&(m=y);var b=v.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,s){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==d(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function M(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=l(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(b),l(b,s,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=M,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Tt(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function Nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Tt(o,r,i,a,s,"next",e)}function s(e){Tt(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot.apply(this,arguments)}function Dt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function Pt(){return Pt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Dt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Pt.apply(this,arguments)}var Rt=function(){function e(){h(this,e)}return m(e,[{key:"lineAt",value:function(e){if(e<0||e>this.length)throw new RangeError("Invalid position ".concat(e," in document of length ").concat(this.length));return this.lineInner(e,!1,1,0)}},{key:"line",value:function(e){if(e<1||e>this.lines)throw new RangeError("Invalid line number ".concat(e," in ").concat(this.lines,"-line document"));return this.lineInner(e,!0,1,0)}},{key:"replace",value:function(e,t,n){var r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),It.from(r,this.length-(t-e)+n.length)}},{key:"append",value:function(e){return this.replace(this.length,this.length,e)}},{key:"slice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=[];return this.decompose(e,t,n,0),It.from(n,t-e)}},{key:"eq",value:function(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;for(var t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new Vt(this),i=new Vt(e),o=t,a=t;;){if(r.next(o),i.next(o),o=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(a+=r.value.length,r.done||a>=n)return!0}}},{key:"iter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Vt(this,e)}},{key:"iterRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return new Wt(this,e,t)}},{key:"iterLines",value:function(e,t){var n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);var r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Ht(n)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){var e=[];return this.flatten(e),e}}],[{key:"of",value:function(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new Lt(t):It.from(Lt.split(t,[])):e.empty}}]),e}(),Lt=function(e){y(n,e);var t=S(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt(e);return h(this,n),(r=t.call(this)).text=e,r.length=i,r}return m(n,[{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}},{key:"lineInner",value:function(e,t,n,r){for(var i=0;;i++){var o=this.text[i],a=r+o.length;if((t?n:a)>=e)return new qt(r,a,n,o);r=a+1,n++}}},{key:"decompose",value:function(e,t,r,i){var o=e<=0&&t>=this.length?this:new n(Ft(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){var a=r.pop(),s=zt(o.text,a.text.slice(),0,o.length);if(s.length<=32)r.push(new n(s,a.length+o.length));else{var l=s.length>>1;r.push(new n(s.slice(0,l)),new n(s.slice(l)))}}else r.push(o)}},{key:"replace",value:function(e,t,r){if(!(r instanceof n))return Pt(b(n.prototype),"replace",this).call(this,e,t,r);var i=zt(this.text,zt(r.text,Ft(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new n(i,o):It.from(n.split(i,[]),o)}},{key:"sliceString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r="",i=0,o=0;i<=t&&o<this.text.length;o++){var a=this.text[o],s=i+a.length;i>e&&o&&(r+=n),e<s&&t>i&&(r+=a.slice(Math.max(0,e-i),t-i)),i=s+1}return r}},{key:"flatten",value:function(e){var t,n=_(this.text);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"scanIdentical",value:function(){return 0}}],[{key:"split",value:function(e,t){var r,i=[],o=-1,a=_(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;i.push(s),o+=s.length+1,32==i.length&&(t.push(new n(i,o)),i=[],o=-1)}}catch(l){a.e(l)}finally{a.f()}return o>-1&&t.push(new n(i,o)),t}}]),n}(Rt),It=function(e){y(n,e);var t=S(n);function n(e,r){var i;h(this,n),(i=t.call(this)).children=e,i.length=r,i.lines=0;var o,a=_(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;i.lines+=s.lines}}catch(l){a.e(l)}finally{a.f()}return i}return m(n,[{key:"lineInner",value:function(e,t,n,r){for(var i=0;;i++){var o=this.children[i],a=r+o.length,s=n+o.lines-1;if((t?s:a)>=e)return o.lineInner(e,t,n,r);r=a+1,n=s+1}}},{key:"decompose",value:function(e,t,n,r){for(var i=0,o=0;o<=t&&i<this.children.length;i++){var a=this.children[i],s=o+a.length;if(e<=s&&t>=o){var l=r&((o<=e?1:0)|(s>=t?2:0));o>=e&&s<=t&&!l?n.push(a):a.decompose(e-o,t-o,n,l)}o=s+1}}},{key:"replace",value:function(e,t,r){if(r.lines<this.lines)for(var i=0,o=0;i<this.children.length;i++){var a=this.children[i],s=o+a.length;if(e>=o&&t<=s){var l=a.replace(e-o,t-o,r),u=this.lines-a.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){var c=this.children.slice();return c[i]=l,new n(c,this.length-(t-e)+r.length)}return Pt(b(n.prototype),"replace",this).call(this,o,s,l)}o=s+1}return Pt(b(n.prototype),"replace",this).call(this,e,t,r)}},{key:"sliceString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r="",i=0,o=0;i<this.children.length&&o<=t;i++){var a=this.children[i],s=o+a.length;o>e&&i&&(r+=n),e<s&&t>o&&(r+=a.sliceString(e-o,t-o,n)),o=s+1}return r}},{key:"flatten",value:function(e){var t,n=_(this.children);try{for(n.s();!(t=n.n()).done;){t.value.flatten(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"scanIdentical",value:function(e,t){if(!(e instanceof n))return 0;for(var r=0,i=u(t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1],4),o=i[0],a=i[1],s=i[2],l=i[3];;o+=t,a+=t){if(o==s||a==l)return r;var c=this.children[o],f=e.children[a];if(c!=f)return r+c.scanIdentical(f,t);r+=c.length+1}}}],[{key:"from",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.reduce((function(e,t){return e+t.length+1}),-1),i=0,o=_(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;i+=a.lines}}catch(S){o.e(S)}finally{o.f()}if(i<32){var s,l=[],u=_(e);try{for(u.s();!(s=u.n()).done;){var c=s.value;c.flatten(l)}}catch(S){u.e(S)}finally{u.f()}return new Lt(l,r)}var f=Math.max(32,i>>5),h=f<<1,d=f>>1,p=[],v=0,m=-1,g=[];function y(e){var t;if(e.lines>h&&e instanceof n){var r,i=_(e.children);try{for(i.s();!(r=i.n()).done;){y(r.value)}}catch(S){i.e(S)}finally{i.f()}}else e.lines>d&&(v>d||!v)?(b(),p.push(e)):e instanceof Lt&&v&&(t=g[g.length-1])instanceof Lt&&e.lines+t.lines<=32?(v+=e.lines,m+=e.length+1,g[g.length-1]=new Lt(t.text.concat(e.text),t.length+1+e.length)):(v+e.lines>f&&b(),v+=e.lines,m+=e.length+1,g.push(e))}function b(){0!=v&&(p.push(1==g.length?g[0]:n.from(g,m)),m=-1,v=g.length=0)}var k,w=_(e);try{for(w.s();!(k=w.n()).done;){var x=k.value;y(x)}}catch(S){w.e(S)}finally{w.f()}return b(),1==p.length?p[0]:new n(p,r)}}]),n}(Rt);function Bt(e){var t,n=-1,r=_(e);try{for(r.s();!(t=r.n()).done;){n+=t.value.length+1}}catch(i){r.e(i)}finally{r.f()}return n}function zt(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e9,i=0,o=0,a=!0;o<e.length&&i<=r;o++){var s=e[o],l=i+s.length;l>=n&&(l>r&&(s=s.slice(0,r-i)),i<n&&(s=s.slice(n-i)),a?(t[t.length-1]+=s,a=!1):t.push(s)),i=l+1}return t}function Ft(e,t,n){return zt(e,[""],t,n)}Rt.empty=new Lt([""],0);var Vt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;h(this,e),this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[n>0?1:(t instanceof Lt?t.text.length:t.children.length)<<1]}return m(e,[{key:"nextInner",value:function(e,t){for(this.done=this.lineBreak=!1;;){var n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],o=i>>1,a=r instanceof Lt?r.text.length:r.children.length;if(o==(t>0?a:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof Lt){var s=r.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,s.length>Math.max(0,e))return this.value=0==e?s:t>0?s.slice(e):s.slice(0,s.length-e),this;e-=s.length}else{var l=r.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Lt?l.text.length:l.children.length)<<1))}}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}]),e}(),Wt=function(){function e(t,n,r){h(this,e),this.value="",this.done=!1,this.cursor=new Vt(t,n>r?-1:1),this.pos=n>r?t.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}return m(e,[{key:"nextInner",value:function(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);var n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;var r=this.cursor.next(e).value;return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}},{key:"lineBreak",get:function(){return this.cursor.lineBreak&&""!=this.value}}]),e}(),Ht=function(){function e(t){h(this,e),this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}return m(e,[{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.inner.next(e),n=t.done,r=t.lineBreak,i=t.value;return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}},{key:"lineBreak",get:function(){return!1}}]),e}();"undefined"!=typeof Symbol&&(Rt.prototype[Symbol.iterator]=function(){return this.iter()},Vt.prototype[Symbol.iterator]=Wt.prototype[Symbol.iterator]=Ht.prototype[Symbol.iterator]=function(){return this});for(var qt=function(){function e(t,n,r,i){h(this,e),this.from=t,this.to=n,this.number=r,this.text=i}return m(e,[{key:"length",get:function(){return this.to-this.from}}]),e}(),Ut="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((function(e){return e?parseInt(e,36):1})),$t=1;$t<Ut.length;$t++)Ut[$t]+=Ut[$t-1];function Kt(e){for(var t=1;t<Ut.length;t+=2)if(Ut[t]>e)return Ut[t-1]<=e;return!1}function Gt(e){return e>=127462&&e<=127487}function Jt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(n?Qt:Yt)(e,t,r)}function Qt(e,t,n){if(t==e.length)return t;t&&Xt(e.charCodeAt(t))&&Zt(e.charCodeAt(t-1))&&t--;var r=en(e,t);for(t+=nn(r);t<e.length;){var i=en(e,t);if(8205==r||8205==i||n&&Kt(i))t+=nn(i),r=i;else{if(!Gt(i))break;for(var o=0,a=t-2;a>=0&&Gt(en(e,a));)o++,a-=2;if(o%2==0)break;t+=2}}return t}function Yt(e,t,n){for(;t>0;){var r=Qt(e,t-2,n);if(r<t)return r;t--}return 0}function Xt(e){return e>=56320&&e<57344}function Zt(e){return e>=55296&&e<56320}function en(e,t){var n=e.charCodeAt(t);if(!Zt(n)||t+1==e.length)return n;var r=e.charCodeAt(t+1);return Xt(r)?r-56320+(n-55296<<10)+65536:n}function tn(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function nn(e){return e<65536?1:2}var rn=/\r\n?|\n/,on=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(on||(on={})),an=function(){function e(t){h(this,e),this.sections=t}return m(e,[{key:"length",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}},{key:"newLength",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2){var n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}},{key:"empty",get:function(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}},{key:"iterGaps",value:function(e){for(var t=0,n=0,r=0;t<this.sections.length;){var i=this.sections[t++],o=this.sections[t++];o<0?(e(n,r,i),r+=i):r+=o,n+=i}}},{key:"iterChangedRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];cn(this,e,t)}},{key:"invertedDesc",get:function(){for(var t=[],n=0;n<this.sections.length;){var r=this.sections[n++],i=this.sections[n++];i<0?t.push(r,i):t.push(i,r)}return new e(t)}},{key:"composeDesc",value:function(e){return this.empty?e:e.empty?this:hn(this,e)}},{key:"mapDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:fn(this,e,t)}},{key:"mapPos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:on.Simple,r=0,i=0,o=0;o<this.sections.length;){var a=this.sections[o++],s=this.sections[o++],l=r+a;if(s<0){if(l>e)return i+(e-r);i+=a}else{if(n!=on.Simple&&l>=e&&(n==on.TrackDel&&r<e&&l>e||n==on.TrackBefore&&r<e||n==on.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!a)return e==r||t<0?i:i+s;i+=s}r=l}if(e>r)throw new RangeError("Position ".concat(e," is out of range for changeset of length ").concat(r));return i}},{key:"touchesRange",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=0,r=0;n<this.sections.length&&r<=t;){var i=this.sections[n++],o=this.sections[n++],a=r+i;if(o>=0&&r<=t&&a>=e)return!(r<e&&a>t)||"cover";r=a}return!1}},{key:"toString",value:function(){for(var e="",t=0;t<this.sections.length;){var n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}},{key:"toJSON",value:function(){return this.sections}}],[{key:"fromJSON",value:function(t){if(!Array.isArray(t)||t.length%2||t.some((function(e){return"number"!=typeof e})))throw new RangeError("Invalid JSON representation of ChangeDesc");return new e(t)}},{key:"create",value:function(t){return new e(t)}}]),e}(),sn=function(e){y(n,e);var t=S(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).inserted=r,i}return m(n,[{key:"apply",value:function(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return cn(this,(function(t,n,r,i,o){return e=e.replace(r,r+(n-t),o)}),!1),e}},{key:"mapDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return fn(this,e,t,!0)}},{key:"invert",value:function(e){for(var t=this.sections.slice(),r=[],i=0,o=0;i<t.length;i+=2){var a=t[i],s=t[i+1];if(s>=0){t[i]=s,t[i+1]=a;for(var l=i>>1;r.length<l;)r.push(Rt.empty);r.push(a?e.slice(o,o+a):Rt.empty)}o+=a}return new n(t,r)}},{key:"compose",value:function(e){return this.empty?e:e.empty?this:hn(this,e,!0)}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:fn(this,e,t,!0)}},{key:"iterChanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];cn(this,e,t)}},{key:"desc",get:function(){return an.create(this.sections)}},{key:"filter",value:function(e){var t=[],r=[],i=[],o=new dn(this);e:for(var a=0,s=0;;){for(var l=a==e.length?1e9:e[a++];s<l||s==l&&0==o.len;){if(o.done)break e;var u=Math.min(o.len,l-s);ln(i,u,-1);var c=-1==o.ins?-1:0==o.off?o.ins:0;ln(t,u,c),c>0&&un(r,t,o.text),o.forward(u),s+=u}for(var f=e[a++];s<f;){if(o.done)break e;var h=Math.min(o.len,f-s);ln(t,h,-1),ln(i,h,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(h),s+=h}}return{changes:new n(t,r),filtered:an.create(i)}}},{key:"toJSON",value:function(){for(var e=[],t=0;t<this.sections.length;t+=2){var n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}}],[{key:"of",value:function(e,t,r){var i=[],o=[],a=0,s=null;function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||i.length){a<t&&ln(i,t-a,-1);var r=new n(i,o);s=s?s.compose(r.map(s)):r,i=[],o=[],a=0}}return function e(u){if(Array.isArray(u)){var c,f=_(u);try{for(f.s();!(c=f.n()).done;){e(c.value)}}catch(y){f.e(y)}finally{f.f()}}else if(u instanceof n){if(u.length!=t)throw new RangeError("Mismatched change set length (got ".concat(u.length,", expected ").concat(t,")"));l(),s=s?s.compose(u.map(s)):u}else{var h=u.from,d=u.to,p=void 0===d?h:d,v=u.insert;if(h>p||h<0||p>t)throw new RangeError("Invalid change range ".concat(h," to ").concat(p," (in doc of length ").concat(t,")"));var m=v?"string"==typeof v?Rt.of(v.split(r||rn)):v:Rt.empty,g=m.length;if(h==p&&0==g)return;h<a&&l(),h>a&&ln(i,h-a,-1),ln(i,p-h,g),un(o,i,m),a=p}}(e),l(!s),s}},{key:"empty",value:function(e){return new n(e?[e,-1]:[],[])}},{key:"fromJSON",value:function(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");for(var t=[],r=[],i=0;i<e.length;i++){var o=e[i];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some((function(e,t){return t&&"string"!=typeof e})))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;r.length<i;)r.push(Rt.empty);r[i]=Rt.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new n(t,r)}},{key:"createSet",value:function(e,t){return new n(e,t)}}]),n}(an);function ln(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(0==t&&n<=0)){var i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:0==t&&0==e[i]?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}}function un(e,t,n){if(0!=n.length){var r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(Rt.empty);e.push(n)}}}function cn(e,t,n){for(var r=e.inserted,i=0,o=0,a=0;a<e.sections.length;){var s=e.sections[a++],l=e.sections[a++];if(l<0)i+=s,o+=s;else{for(var u=i,c=o,f=Rt.empty;u+=s,c+=l,l&&r&&(f=f.append(r[a-2>>1])),!(n||a==e.sections.length||e.sections[a+1]<0);)s=e.sections[a++],l=e.sections[a++];t(i,u,o,c,f),i=u,o=c}}}function fn(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=r?[]:null,a=new dn(e),s=new dn(t),l=-1;;)if(-1==a.ins&&-1==s.ins){var u=Math.min(a.len,s.len);ln(i,u,-1),a.forward(u),s.forward(u)}else if(s.ins>=0&&(a.ins<0||l==a.i||0==a.off&&(s.len<a.len||s.len==a.len&&!n))){var c=s.len;for(ln(i,s.ins,-1);c;){var f=Math.min(a.len,c);a.ins>=0&&l<a.i&&a.len<=f&&(ln(i,0,a.ins),o&&un(o,i,a.text),l=a.i),a.forward(f),c-=f}s.next()}else{if(!(a.ins>=0)){if(a.done&&s.done)return o?sn.createSet(i,o):an.create(i);throw new Error("Mismatched change set lengths")}for(var h=0,d=a.len;d;)if(-1==s.ins){var p=Math.min(d,s.len);h+=p,d-=p,s.forward(p)}else{if(!(0==s.ins&&s.len<d))break;d-=s.len,s.next()}ln(i,h,l<a.i?a.ins:0),o&&l<a.i&&un(o,i,a.text),l=a.i,a.forward(a.len-d)}}function hn(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],i=n?[]:null,o=new dn(e),a=new dn(t),s=!1;;){if(o.done&&a.done)return i?sn.createSet(r,i):an.create(r);if(0==o.ins)ln(r,o.len,0,s),o.next();else if(0!=a.len||a.done){if(o.done||a.done)throw new Error("Mismatched change set lengths");var l=Math.min(o.len2,a.len),u=r.length;if(-1==o.ins){var c=-1==a.ins?-1:a.off?0:a.ins;ln(r,l,c,s),i&&c&&un(i,r,a.text)}else-1==a.ins?(ln(r,o.off?0:o.len,l,s),i&&un(i,r,o.textBit(l))):(ln(r,o.off?0:o.len,a.off?0:a.ins,s),i&&!a.off&&un(i,r,a.text));s=(o.ins>l||a.ins>=0&&a.len>l)&&(s||r.length>u),o.forward2(l),a.forward(l)}else ln(r,0,a.ins,s),i&&un(i,r,a.text),a.next()}}var dn=function(){function e(t){h(this,e),this.set=t,this.i=0,this.next()}return m(e,[{key:"next",value:function(){var e=this.set.sections;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}},{key:"done",get:function(){return-2==this.ins}},{key:"len2",get:function(){return this.ins<0?this.len:this.ins}},{key:"text",get:function(){var e=this.set.inserted,t=this.i-2>>1;return t>=e.length?Rt.empty:e[t]}},{key:"textBit",value:function(e){var t=this.set.inserted,n=this.i-2>>1;return n>=t.length&&!e?Rt.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}},{key:"forward",value:function(e){e==this.len?this.next():(this.len-=e,this.off+=e)}},{key:"forward2",value:function(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}]),e}(),pn=function(){function e(t,n,r){h(this,e),this.from=t,this.to=n,this.flags=r}return m(e,[{key:"anchor",get:function(){return 16&this.flags?this.to:this.from}},{key:"head",get:function(){return 16&this.flags?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return 4&this.flags?-1:8&this.flags?1:0}},{key:"bidiLevel",get:function(){var e=3&this.flags;return 3==e?null:e}},{key:"goalColumn",get:function(){var e=this.flags>>5;return 33554431==e?void 0:e}},{key:"map",value:function(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.empty?n=r=t.mapPos(this.from,i):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new e(n,r,this.flags)}},{key:"extend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e<=this.anchor&&t>=this.anchor)return vn.range(e,t);var n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return vn.range(this.anchor,n)}},{key:"eq",value:function(e){return this.anchor==e.anchor&&this.head==e.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return vn.range(e.anchor,e.head)}},{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}(),vn=function(){function e(t,n){h(this,e),this.ranges=t,this.mainIndex=n}return m(e,[{key:"map",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t.empty?this:e.create(this.ranges.map((function(e){return e.map(t,n)})),this.mainIndex)}},{key:"eq",value:function(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}},{key:"main",get:function(){return this.ranges[this.mainIndex]}},{key:"asSingle",value:function(){return 1==this.ranges.length?this:new e([this.main],0)}},{key:"addRange",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.create([t].concat(this.ranges),n?0:this.mainIndex+1)}},{key:"replaceRange",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mainIndex,r=this.ranges.slice();return r[n]=t,e.create(r,this.mainIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map((function(e){return e.toJSON()})),main:this.mainIndex}}}],[{key:"fromJSON",value:function(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new e(t.ranges.map((function(e){return pn.fromJSON(e)})),t.main)}},{key:"single",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return new e([e.range(t,n)],0)}},{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0==t.length)throw new RangeError("A selection needs at least one range");for(var r=0,i=0;i<t.length;i++){var o=t[i];if(o.empty?o.from<=r:o.from<r)return e.normalized(t.slice(),n);r=o.to}return new e(t,n)}},{key:"cursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return pn.create(e,e,(0==t?0:t<0?4:8)|(null==n?3:Math.min(2,n))|(null!==r&&void 0!==r?r:33554431)<<5)}},{key:"range",value:function(e,t,n,r){var i=(null!==n&&void 0!==n?n:33554431)<<5|(null==r?3:Math.min(2,r));return t<e?pn.create(t,e,24|i):pn.create(e,t,(t>e?4:0)|i)}},{key:"normalized",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t[n];t.sort((function(e,t){return e.from-t.from})),n=t.indexOf(r);for(var i=1;i<t.length;i++){var o=t[i],a=t[i-1];if(o.empty?o.from<=a.to:o.from<a.to){var s=a.from,l=Math.max(o.to,a.to);i<=n&&n--,t.splice(--i,2,o.anchor>o.head?e.range(l,s):e.range(s,l))}}return new e(t,n)}}]),e}();function mn(e,t){var n,r=_(e.ranges);try{for(r.s();!(n=r.n()).done;){if(n.value.to>t)throw new RangeError("Selection points outside of document")}}catch(i){r.e(i)}finally{r.f()}}var gn=0,yn=function(){function e(t,n,r,i,o){h(this,e),this.combine=t,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=gn++,this.default=t([]),this.extensions="function"==typeof o?o(this):o}return m(e,[{key:"of",value:function(e){return new kn([],this,0,e)}},{key:"compute",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new kn(e,this,1,t)}},{key:"computeN",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new kn(e,this,2,t)}},{key:"from",value:function(e,t){return t||(t=function(e){return e}),this.compute([e],(function(n){return t(n.field(e))}))}}],[{key:"define",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(t.combine||function(e){return e},t.compareInput||function(e,t){return e===t},t.compare||(t.combine?function(e,t){return e===t}:bn),!!t.static,t.enables)}}]),e}();function bn(e,t){return e==t||e.length==t.length&&e.every((function(e,n){return e===t[n]}))}var kn=function(){function e(t,n,r,i){h(this,e),this.dependencies=t,this.facet=n,this.type=r,this.value=i,this.id=gn++}return m(e,[{key:"dynamicSlot",value:function(e){var t,n,r=this,i=this.value,o=this.facet.compareInput,a=this.id,s=e[a]>>1,l=2==this.type,u=!1,c=!1,f=[],h=_(this.dependencies);try{for(h.s();!(n=h.n()).done;){var d=n.value;"doc"==d?u=!0:"selection"==d?c=!0:0==(1&(null!==(t=e[d.id])&&void 0!==t?t:1))&&f.push(e[d.id])}}catch(p){h.e(p)}finally{h.f()}return{create:function(e){return e.values[s]=i(e),1},update:function(e,t){if(u&&t.docChanged||c&&(t.docChanged||t.selection)||xn(e,f)){var n=i(e);if(l?!wn(n,e.values[s],o):!o(n,e.values[s]))return e.values[s]=n,1}return 0},reconfigure:function(e,t){var n,u=t.config.address[a];if(null!=u){var c=Ln(t,u);if(r.dependencies.every((function(n){return n instanceof yn?t.facet(n)===e.facet(n):!(n instanceof Cn)||t.field(n,!1)==e.field(n,!1)}))||(l?wn(n=i(e),c,o):o(n=i(e),c)))return e.values[s]=c,0}else n=i(e);return e.values[s]=n,1}}}}]),e}();function wn(e,t,n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function xn(e,t){var n,r=!1,i=_(t);try{for(i.s();!(n=i.n()).done;){1&Rn(e,n.value)&&(r=!0)}}catch(o){i.e(o)}finally{i.f()}return r}var Sn=yn.define({static:!0}),Cn=function(){function e(t,n,r,i,o){h(this,e),this.id=t,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}return m(e,[{key:"create",value:function(e){var t=this,n=e.facet(Sn).find((function(e){return e.field==t}));return((null===n||void 0===n?void 0:n.create)||this.createF)(e)}},{key:"slot",value:function(e){var t=this,n=e[this.id]>>1;return{create:function(e){return e.values[n]=t.create(e),1},update:function(e,r){var i=e.values[n],o=t.updateF(i,r);return t.compareF(i,o)?0:(e.values[n]=o,1)},reconfigure:function(e,r){return null!=r.config.address[t.id]?(e.values[n]=r.field(t),0):(e.values[n]=t.create(e),1)}}}},{key:"init",value:function(e){return[this,Sn.of({field:this,create:e})]}},{key:"extension",get:function(){return this}}],[{key:"define",value:function(t){var n=new e(gn++,t.create,t.update,t.compare||function(e,t){return e===t},t);return t.provide&&(n.provides=t.provide(n)),n}}]),e}(),jn=4,_n=3,Mn=2,En=1;function An(e){return function(t){return new Nn(t,e)}}var Tn={highest:An(0),high:An(En),default:An(Mn),low:An(_n),lowest:An(jn)},Nn=m((function e(t,n){h(this,e),this.inner=t,this.prec=n})),On=function(){function e(){h(this,e)}return m(e,[{key:"of",value:function(e){return new Dn(this,e)}},{key:"reconfigure",value:function(t){return e.reconfigure.of({compartment:this,extension:t})}},{key:"get",value:function(e){return e.config.compartments.get(this)}}]),e}(),Dn=m((function e(t,n){h(this,e),this.compartment=t,this.inner=n})),Pn=function(){function e(t,n,r,i,o,a){for(h(this,e),this.base=t,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}return m(e,[{key:"staticFacet",value:function(e){var t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}}],[{key:"resolve",value:function(t,n,r){var i,o=[],a=Object.create(null),s=new Map,l=_(function(e,t,n){var r=[[],[],[],[],[]],i=new Map;function o(e,a){var s=i.get(e);if(null!=s){if(s<=a)return;var l=r[s].indexOf(e);l>-1&&r[s].splice(l,1),e instanceof Dn&&n.delete(e.compartment)}if(i.set(e,a),Array.isArray(e)){var u,c=_(e);try{for(c.s();!(u=c.n()).done;){o(u.value,a)}}catch(d){c.e(d)}finally{c.f()}}else if(e instanceof Dn){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");var f=t.get(e.compartment)||e.inner;n.set(e.compartment,f),o(f,a)}else if(e instanceof Nn)o(e.inner,e.prec);else if(e instanceof Cn)r[a].push(e),e.provides&&o(e.provides,a);else if(e instanceof kn)r[a].push(e),e.facet.extensions&&o(e.facet.extensions,Mn);else{var h=e.extension;if(!h)throw new Error("Unrecognized extension value in extension set (".concat(e,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));o(h,a)}}return o(e,Mn),r.reduce((function(e,t){return e.concat(t)}))}(t,n,s));try{for(l.s();!(i=l.n()).done;){var u=i.value;u instanceof Cn?o.push(u):(a[u.facet.id]||(a[u.facet.id]=[])).push(u)}}catch(b){l.e(b)}finally{l.f()}for(var c=Object.create(null),f=[],h=[],d=function(){var e=v[p];c[e.id]=h.length<<1,h.push((function(t){return e.slot(t)}))},p=0,v=o;p<v.length;p++)d();var m=null===r||void 0===r?void 0:r.config.facets,g=function(){var e=a[y],t=e[0].facet,n=m&&m[y]||[];if(e.every((function(e){return 0==e.type})))if(c[t.id]=f.length<<1|1,bn(n,e))f.push(r.facet(t));else{var i=t.combine(e.map((function(e){return e.value})));f.push(r&&t.compare(i,r.facet(t))?r.facet(t):i)}else{var o,s=_(e);try{var l=function(){var e=o.value;0==e.type?(c[e.id]=f.length<<1|1,f.push(e.value)):(c[e.id]=h.length<<1,h.push((function(t){return e.dynamicSlot(t)})))};for(s.s();!(o=s.n()).done;)l()}catch(b){s.e(b)}finally{s.f()}c[t.id]=h.length<<1,h.push((function(n){return function(e,t,n){var r=n.map((function(t){return e[t.id]})),i=n.map((function(e){return e.type})),o=r.filter((function(e){return!(1&e)})),a=e[t.id]>>1;function s(e){for(var n=[],o=0;o<r.length;o++){var a=Ln(e,r[o]);if(2==i[o]){var s,l=_(a);try{for(l.s();!(s=l.n()).done;){var u=s.value;n.push(u)}}catch(b){l.e(b)}finally{l.f()}}else n.push(a)}return t.combine(n)}return{create:function(e){var t,n=_(r);try{for(n.s();!(t=n.n()).done;)Rn(e,t.value)}catch(b){n.e(b)}finally{n.f()}return e.values[a]=s(e),1},update:function(e,n){if(!xn(e,o))return 0;var r=s(e);return t.compare(r,e.values[a])?0:(e.values[a]=r,1)},reconfigure:function(e,i){var o=xn(e,r),l=i.config.facets[t.id],u=i.facet(t);if(l&&!o&&bn(n,l))return e.values[a]=u,0;var c=s(e);return t.compare(c,u)?(e.values[a]=u,0):(e.values[a]=c,1)}}}(n,t,e)}))}};for(var y in a)g();return new e(t,s,h.map((function(e){return e(c)})),c,f,a)}}]),e}();function Rn(e,t){if(1&t)return 2;var n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;var i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function Ln(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}var In=yn.define(),Bn=yn.define({combine:function(e){return e.some((function(e){return e}))},static:!0}),zn=yn.define({combine:function(e){return e.length?e[0]:void 0},static:!0}),Fn=yn.define(),Vn=yn.define(),Wn=yn.define(),Hn=yn.define({combine:function(e){return!!e.length&&e[0]}}),qn=function(){function e(t,n){h(this,e),this.type=t,this.value=n}return m(e,null,[{key:"define",value:function(){return new Un}}]),e}(),Un=function(){function e(){h(this,e)}return m(e,[{key:"of",value:function(e){return new qn(this,e)}}]),e}(),$n=function(){function e(t){h(this,e),this.map=t}return m(e,[{key:"of",value:function(e){return new Kn(this,e)}}]),e}(),Kn=function(){function e(t,n){h(this,e),this.type=t,this.value=n}return m(e,[{key:"map",value:function(t){var n=this.type.map(this.value,t);return void 0===n?void 0:n==this.value?this:new e(this.type,n)}},{key:"is",value:function(e){return this.type==e}}],[{key:"define",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new $n(e.map||function(e){return e})}},{key:"mapEffects",value:function(e,t){if(!e.length)return e;var n,r=[],i=_(e);try{for(i.s();!(n=i.n()).done;){var o=n.value.map(t);o&&r.push(o)}}catch(a){i.e(a)}finally{i.f()}return r}}]),e}();Kn.reconfigure=Kn.define(),Kn.appendConfig=Kn.define();var Gn=function(){function e(t,n,r,i,o,a){h(this,e),this.startState=t,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,r&&mn(r,n.newLength),o.some((function(t){return t.type==e.time}))||(this.annotations=o.concat(e.time.of(Date.now())))}return m(e,[{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){return this._state||this.startState.applyTransaction(this),this._state}},{key:"annotation",value:function(e){var t,n=_(this.annotations);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.type==e)return r.value}}catch(i){n.e(i)}finally{n.f()}}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"reconfigured",get:function(){return this.startState.config!=this.state.config}},{key:"isUserEvent",value:function(t){var n=this.annotation(e.userEvent);return!(!n||!(n==t||n.length>t.length&&n.slice(0,t.length)==t&&"."==n[t.length]))}}],[{key:"create",value:function(t,n,r,i,o,a){return new e(t,n,r,i,o,a)}}]),e}();function Jn(e,t){for(var n=[],r=0,i=0;;){var o=void 0,a=void 0;if(r<e.length&&(i==t.length||t[i]>=e[r]))o=e[r++],a=e[r++];else{if(!(i<t.length))return n;o=t[i++],a=t[i++]}!n.length||n[n.length-1]<o?n.push(o,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function Qn(e,t,n){var r,i,o,a;return n?(i=t.changes,o=sn.empty(t.changes.length),a=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),a=e.changes.compose(i)),{changes:a,selection:t.selection?t.selection.map(o):null===(r=e.selection)||void 0===r?void 0:r.map(i),effects:Kn.mapEffects(e.effects,i).concat(Kn.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function Yn(e,t,n){var r=t.selection,i=er(t.annotations);return t.userEvent&&(i=i.concat(Gn.userEvent.of(t.userEvent))),{changes:t.changes instanceof sn?t.changes:sn.of(t.changes||[],n,e.facet(zn)),selection:r&&(r instanceof vn?r:vn.single(r.anchor,r.head)),effects:er(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function Xn(e,t,n){var r=Yn(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(var i=1;i<t.length;i++){!1===t[i].filter&&(n=!1);var o=!!t[i].sequential;r=Qn(r,Yn(e,t[i],o?r.changes.newLength:e.doc.length),o)}var a=Gn.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){for(var t=e.startState,n=t.facet(Wn),r=e,i=n.length-1;i>=0;i--){var o=n[i](e);o&&Object.keys(o).length&&(r=Qn(r,Yn(t,o,e.changes.newLength),!0))}return r==e?e:Gn.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){var t,n=e.startState,r=!0,i=_(n.facet(Fn));try{for(i.s();!(t=i.n()).done;){var o=(0,t.value)(e);if(!1===o){r=!1;break}Array.isArray(o)&&(r=!0===r?o:Jn(r,o))}}catch(h){i.e(h)}finally{i.f()}if(!0!==r){var a,s;if(!1===r)s=e.changes.invertedDesc,a=sn.empty(n.doc.length);else{var l=e.changes.filter(r);a=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}e=Gn.create(n,a,e.selection&&e.selection.map(s),Kn.mapEffects(e.effects,s),e.annotations,e.scrollIntoView)}for(var u=n.facet(Vn),c=u.length-1;c>=0;c--){var f=u[c](e);e=f instanceof Gn?f:Array.isArray(f)&&1==f.length&&f[0]instanceof Gn?f[0]:Xn(n,er(f),!1)}return e}(a):a)}Gn.time=qn.define(),Gn.userEvent=qn.define(),Gn.addToHistory=qn.define(),Gn.remote=qn.define();var Zn=[];function er(e){return null==e?Zn:Array.isArray(e)?e:[e]}var tr,nr=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(nr||(nr={})),rr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{tr=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Om){}function ir(e){return function(t){if(!/\S/.test(t))return nr.Space;if(function(e){if(tr)return tr.test(e);for(var t=0;t<e.length;t++){var n=e[t];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||rr.test(n)))return!0}return!1}(t))return nr.Word;for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return nr.Word;return nr.Other}}var or=function(){function e(t,n,r,i,o,a){h(this,e),this.config=t,this.doc=n,this.selection=r,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(var s=0;s<this.config.dynamicSlots.length;s++)Rn(this,s<<1);this.computeSlot=null}return m(e,[{key:"field",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.config.address[e.id];if(null!=n)return Rn(this,n),Ln(this,n);if(t)throw new RangeError("Field is not present in this state")}},{key:"update",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Xn(this,t,!0)}},{key:"applyTransaction",value:function(t){var n,r,i=this,o=this.config,a=o,s=a.base,l=a.compartments,u=_(t.effects);try{for(u.s();!(n=u.n()).done;){var c=n.value;c.is(On.reconfigure)?(o&&(l=new Map,o.compartments.forEach((function(e,t){return l.set(t,e)})),o=null),l.set(c.value.compartment,c.value.extension)):c.is(Kn.reconfigure)?(o=null,s=c.value):c.is(Kn.appendConfig)&&(o=null,s=er(s).concat(c.value))}}catch(f){u.e(f)}finally{u.f()}o?r=t.startState.values.slice():r=new e(o=Pn.resolve(s,l,this),this.doc,this.selection,o.dynamicSlots.map((function(){return null})),(function(e,t){return t.reconfigure(e,i)}),null).values;new e(o,t.newDoc,t.newSelection,r,(function(e,n){return n.update(e,t)}),t)}},{key:"replaceSelection",value:function(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((function(t){return{changes:{from:t.from,to:t.to,insert:e},range:vn.cursor(t.from+e.length)}}))}},{key:"changeByRange",value:function(e){for(var t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],o=er(n.effects),a=1;a<t.ranges.length;a++){for(var s=e(t.ranges[a]),l=this.changes(s.changes),u=l.map(r),c=0;c<a;c++)i[c]=i[c].map(u);var f=r.mapDesc(l,!0);i.push(s.range.map(f)),r=r.compose(u),o=Kn.mapEffects(o,u).concat(Kn.mapEffects(er(s.effects),f))}return{changes:r,selection:vn.create(i,t.mainIndex),effects:o}}},{key:"changes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t instanceof sn?t:sn.of(t,this.doc.length,this.facet(e.lineSeparator))}},{key:"toText",value:function(t){return Rt.of(t.split(this.facet(e.lineSeparator)||rn))}},{key:"sliceDoc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.doc.length;return this.doc.sliceString(e,t,this.lineBreak)}},{key:"facet",value:function(e){var t=this.config.address[e.id];return null==t?e.default:(Rn(this,t),Ln(this,t))}},{key:"toJSON",value:function(e){var t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(var n in e){var r=e[n];r instanceof Cn&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}},{key:"tabSize",get:function(){return this.facet(e.tabSize)}},{key:"lineBreak",get:function(){return this.facet(e.lineSeparator)||"\n"}},{key:"readOnly",get:function(){return this.facet(Hn)}},{key:"phrase",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,a=_(this.facet(e.phrases));try{for(a.s();!(o=a.n()).done;){var s=o.value;if(Object.prototype.hasOwnProperty.call(s,t)){t=s[t];break}}}catch(l){a.e(l)}finally{a.f()}return r.length&&(t=t.replace(/\$(\$|\d*)/g,(function(e,t){if("$"==t)return"$";var n=+(t||1);return!n||n>r.length?e:r[n-1]}))),t}},{key:"languageDataAt",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[],o=_(this.facet(In));try{for(o.s();!(n=o.n()).done;){var a,s=n.value,l=_(s(this,t,r));try{for(l.s();!(a=l.n()).done;){var u=a.value;Object.prototype.hasOwnProperty.call(u,e)&&i.push(u[e])}}catch(c){l.e(c)}finally{l.f()}}}catch(c){o.e(c)}finally{o.f()}return i}},{key:"charCategorizer",value:function(e){return ir(this.languageDataAt("wordChars",e).join(""))}},{key:"wordAt",value:function(e){for(var t=this.doc.lineAt(e),n=t.text,r=t.from,i=t.length,o=this.charCategorizer(e),a=e-r,s=e-r;a>0;){var l=Jt(n,a,!1);if(o(n.slice(l,a))!=nr.Word)break;a=l}for(;s<i;){var u=Jt(n,s);if(o(n.slice(s,u))!=nr.Word)break;s=u}return a==s?null:vn.range(a+r,s+r)}}],[{key:"fromJSON",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");var i=[];if(r){var o=function(){if(Object.prototype.hasOwnProperty.call(t,a)){var e=r[a],n=t[a];i.push(e.init((function(t){return e.spec.fromJSON(n,t)})))}};for(var a in r)o()}return e.create({doc:t.doc,selection:vn.fromJSON(t.selection),extensions:n.extensions?i.concat([n.extensions]):i})}},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Pn.resolve(t.extensions||[],new Map),r=t.doc instanceof Rt?t.doc:Rt.of((t.doc||"").split(n.staticFacet(e.lineSeparator)||rn)),i=t.selection?t.selection instanceof vn?t.selection:vn.single(t.selection.anchor,t.selection.head):vn.single(0);return mn(i,r.length),n.staticFacet(Bn)||(i=i.asSingle()),new e(n,r,i,n.dynamicSlots.map((function(){return null})),(function(e,t){return t.create(e)}),null)}}]),e}();function ar(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={},o=_(e);try{for(o.s();!(n=o.n()).done;)for(var a=n.value,s=0,l=Object.keys(a);s<l.length;s++){var u=l[s],c=a[u],f=i[u];if(void 0===f)i[u]=c;else if(f===c||void 0===c);else{if(!Object.hasOwnProperty.call(r,u))throw new Error("Config merge conflict for field "+u);i[u]=r[u](f,c)}}}catch(d){o.e(d)}finally{o.f()}for(var h in t)void 0===i[h]&&(i[h]=t[h]);return i}or.allowMultipleSelections=Bn,or.tabSize=yn.define({combine:function(e){return e.length?e[0]:4}}),or.lineSeparator=zn,or.readOnly=Hn,or.phrases=yn.define({compare:function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every((function(n){return e[n]==t[n]}))}}),or.languageData=In,or.changeFilter=Fn,or.transactionFilter=Vn,or.transactionExtender=Wn,On.reconfigure=Kn.define();var sr=function(){function e(){h(this,e)}return m(e,[{key:"eq",value:function(e){return this==e}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return lr.create(e,t,this)}}]),e}();sr.prototype.startSide=sr.prototype.endSide=0,sr.prototype.point=!1,sr.prototype.mapMode=on.TrackDel;var lr=function(){function e(t,n,r){h(this,e),this.from=t,this.to=n,this.value=r}return m(e,null,[{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}();function ur(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}var cr=function(){function e(t,n,r,i){h(this,e),this.from=t,this.to=n,this.value=r,this.maxPoint=i}return m(e,[{key:"length",get:function(){return this.to[this.to.length-1]}},{key:"findIndex",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n?this.to:this.from,o=r,a=i.length;;){if(o==a)return o;var s=o+a>>1,l=i[s]-e||(n?this.value[s].endSide:this.value[s].startSide)-t;if(s==o)return l>=0?o:a;l>=0?a=s:o=s+1}}},{key:"between",value:function(e,t,n,r){for(var i=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,i);i<o;i++)if(!1===r(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}},{key:"map",value:function(t,n){for(var r=[],i=[],o=[],a=-1,s=-1,l=0;l<this.value.length;l++){var u=this.value[l],c=this.from[l]+t,f=this.to[l]+t,h=void 0,d=void 0;if(c==f){var p=n.mapPos(c,u.startSide,u.mapMode);if(null==p)continue;if(h=d=p,u.startSide!=u.endSide&&(d=n.mapPos(c,u.endSide))<h)continue}else if((h=n.mapPos(c,u.startSide))>(d=n.mapPos(f,u.endSide))||h==d&&u.startSide>0&&u.endSide<=0)continue;(d-h||u.endSide-u.startSide)<0||(a<0&&(a=h),u.point&&(s=Math.max(s,d-h)),r.push(u),i.push(h-a),o.push(d-a))}return{mapped:r.length?new e(i,o,r,s):null,pos:a}}}]),e}(),fr=function(){function e(t,n,r,i){h(this,e),this.chunkPos=t,this.chunk=n,this.nextLayer=r,this.maxPoint=i}return m(e,[{key:"length",get:function(){var e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}},{key:"size",get:function(){if(this.isEmpty)return 0;var e,t=this.nextLayer.size,n=_(this.chunk);try{for(n.s();!(e=n.n()).done;){t+=e.value.value.length}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"chunkEnd",value:function(e){return this.chunkPos[e]+this.chunk[e].length}},{key:"update",value:function(t){var n=t.add,r=void 0===n?[]:n,i=t.sort,o=void 0!==i&&i,a=t.filterFrom,s=void 0===a?0:a,l=t.filterTo,u=void 0===l?this.length:l,c=t.filter;if(0==r.length&&!c)return this;if(o&&(r=r.slice().sort(ur)),this.isEmpty)return r.length?e.of(r):this;for(var f=new vr(this,null,-1).goto(0),h=0,d=[],p=new dr;f.value||h<r.length;)if(h<r.length&&(f.from-r[h].from||f.startSide-r[h].value.startSide)>=0){var v=r[h++];p.addInner(v.from,v.to,v.value)||d.push(v)}else 1==f.rangeIndex&&f.chunkIndex<this.chunk.length&&(h==r.length||this.chunkEnd(f.chunkIndex)<r[h].from)&&(!c||s>this.chunkEnd(f.chunkIndex)||u<this.chunkPos[f.chunkIndex])&&p.addChunk(this.chunkPos[f.chunkIndex],this.chunk[f.chunkIndex])?f.nextChunk():((!c||s>f.to||u<f.from||c(f.from,f.to,f.value))&&(p.addInner(f.from,f.to,f.value)||d.push(lr.create(f.from,f.to,f.value))),f.next());return p.finishInner(this.nextLayer.isEmpty&&!d.length?e.empty:this.nextLayer.update({add:d,filter:c,filterFrom:s,filterTo:u}))}},{key:"map",value:function(t){if(t.empty||this.isEmpty)return this;for(var n=[],r=[],i=-1,o=0;o<this.chunk.length;o++){var a=this.chunkPos[o],s=this.chunk[o],l=t.touchesRange(a,a+s.length);if(!1===l)i=Math.max(i,s.maxPoint),n.push(s),r.push(t.mapPos(a));else if(!0===l){var u=s.map(a,t),c=u.mapped,f=u.pos;c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(f))}}var h=this.nextLayer.map(t);return 0==n.length?h:new e(r,n,h||e.empty,i)}},{key:"between",value:function(e,t,n){if(!this.isEmpty){for(var r=0;r<this.chunk.length;r++){var i=this.chunkPos[r],o=this.chunk[r];if(t>=i&&e<=i+o.length&&!1===o.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}},{key:"iter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return mr.from([this]).goto(e)}},{key:"isEmpty",get:function(){return this.nextLayer==this}}],[{key:"create",value:function(t,n,r,i){return new e(t,n,r,i)}},{key:"iter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return mr.from(e).goto(t)}},{key:"compare",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=e.filter((function(e){return e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i})),a=t.filter((function(e){return e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i})),s=pr(o,a,n),l=new yr(o,s,i),u=new yr(a,s,i);n.iterGaps((function(e,t,n){return br(l,e,u,t,n,r)})),n.empty&&0==n.length&&br(l,0,u,0,0,r)}},{key:"eq",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;null==r&&(r=999999999);var i=e.filter((function(e){return!e.isEmpty&&t.indexOf(e)<0})),o=t.filter((function(t){return!t.isEmpty&&e.indexOf(t)<0}));if(i.length!=o.length)return!1;if(!i.length)return!0;for(var a=pr(i,o),s=new yr(i,a,0).goto(n),l=new yr(o,a,0).goto(n);;){if(s.to!=l.to||!kr(s.active,l.active)||s.point&&(!l.point||!s.point.eq(l.point)))return!1;if(s.to>r)return!0;s.next(),l.next()}}},{key:"spans",value:function(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=new yr(e,null,i).goto(t),a=t,s=o.openStart;;){var l=Math.min(o.to,n);if(o.point){var u=o.activeForPoint(o.to),c=o.pointFrom<t?u.length+1:Math.min(u.length,s);r.point(a,l,o.point,u,c,o.pointRank),s=Math.min(o.openEnd(l),u.length)}else l>a&&(r.span(a,l,o.active,s),s=o.openEnd(l));if(o.to>n)return s+(o.point&&o.to>n?1:0);a=o.to,o.next()}}},{key:"of",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new dr,i=_(e instanceof lr?[e]:n?hr(e):e);try{for(i.s();!(t=i.n()).done;){var o=t.value;r.add(o.from,o.to,o.value)}}catch(a){i.e(a)}finally{i.f()}return r.finish()}}]),e}();function hr(e){if(e.length>1)for(var t=e[0],n=1;n<e.length;n++){var r=e[n];if(ur(t,r)>0)return e.slice().sort(ur);t=r}return e}fr.empty=new fr([],[],null,-1),fr.empty.nextLayer=fr.empty;var dr=function(){function e(){h(this,e),this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}return m(e,[{key:"finishChunk",value:function(e){this.chunks.push(new cr(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(t,n,r){this.addInner(t,n,r)||(this.nextLayer||(this.nextLayer=new e)).add(t,n,r)}},{key:"addInner",value:function(e,t,n){var r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}},{key:"addChunk",value:function(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);var n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}},{key:"finish",value:function(){return this.finishInner(fr.empty)}},{key:"finishInner",value:function(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;var t=fr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}]),e}();function pr(e,t,n){var r,i=new Map,o=_(e);try{for(o.s();!(r=o.n()).done;)for(var a=r.value,s=0;s<a.chunk.length;s++)a.chunk[s].maxPoint<=0&&i.set(a.chunk[s],a.chunkPos[s])}catch(p){o.e(p)}finally{o.f()}var l,u=new Set,c=_(t);try{for(c.s();!(l=c.n()).done;)for(var f=l.value,h=0;h<f.chunk.length;h++){var d=i.get(f.chunk[h]);null==d||(n?n.mapPos(d):d)!=f.chunkPos[h]||(null===n||void 0===n?void 0:n.touchesRange(d,d+f.chunk[h].length))||u.add(f.chunk[h])}}catch(p){c.e(p)}finally{c.f()}return u}var vr=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;h(this,e),this.layer=t,this.skip=n,this.minPoint=r,this.rank=i}return m(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}},{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}},{key:"gotoInner",value:function(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){var r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){var i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}},{key:"forward",value:function(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}},{key:"next",value:function(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}var e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"setRangeIndex",value:function(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}},{key:"nextChunk",value:function(){this.chunkIndex++,this.rangeIndex=0,this.next()}},{key:"compare",value:function(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}]),e}(),mr=function(){function e(t){h(this,e),this.heap=t}return m(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"goto",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9,r=_(this.heap);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.goto(e,n)}}catch(a){r.e(a)}finally{r.f()}for(var o=this.heap.length>>1;o>=0;o--)gr(this.heap,o);return this.next(),this}},{key:"forward",value:function(e,t){var n,r=_(this.heap);try{for(r.s();!(n=r.n()).done;){n.value.forward(e,t)}}catch(o){r.e(o)}finally{r.f()}for(var i=this.heap.length>>1;i>=0;i--)gr(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}},{key:"next",value:function(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{var e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),gr(this.heap,0)}}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[],o=0;o<t.length;o++)for(var a=t[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new vr(a,n,r,o));return 1==i.length?i[0]:new e(i)}}]),e}();function gr(e,t){for(var n=e[t];;){var r=1+(t<<1);if(r>=e.length)break;var i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}var yr=function(){function e(t,n,r){h(this,e),this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=mr.from(t,n,r)}return m(e,[{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}},{key:"forward",value:function(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}},{key:"removeActive",value:function(e){wr(this.active,e),wr(this.activeTo,e),wr(this.activeRank,e),this.minActive=Sr(this.active,this.activeTo)}},{key:"addActive",value:function(e){for(var t=0,n=this.cursor,r=n.value,i=n.to,o=n.rank;t<this.activeRank.length&&this.activeRank[t]<=o;)t++;xr(this.active,t,r),xr(this.activeTo,t,i),xr(this.activeRank,t,o),e&&xr(e,t,this.cursor.from),this.minActive=Sr(this.active,this.activeTo)}},{key:"next",value:function(){var e=this.to,t=this.point;this.point=null;for(var n=this.openStart<0?[]:null;;){var r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&wr(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}var i=this.cursor.value;if(i.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}if(n){this.openStart=0;for(var o=n.length-1;o>=0&&n[o]<e;o--)this.openStart++}}},{key:"activeForPoint",value:function(e){if(!this.active.length)return this.active;for(var t=[],n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}},{key:"openEnd",value:function(e){for(var t=0,n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}]),e}();function br(e,t,n,r,i,o){e.goto(t),n.goto(r);for(var a=r+i,s=r,l=r-t;;){var u=e.to+l-n.to||e.endSide-n.endSide,c=u<0?e.to+l:n.to,f=Math.min(c,a);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&kr(e.activeForPoint(e.to+l),n.activeForPoint(n.to))||o.comparePoint(s,f,e.point,n.point):f>s&&!kr(e.active,n.active)&&o.compareRange(s,f,e.active,n.active),c>a)break;s=c,u<=0&&e.next(),u>=0&&n.next()}}function kr(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function wr(e,t){for(var n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function xr(e,t,n){for(var r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function Sr(e,t){for(var n=-1,r=1e9,i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function Cr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,i=0;i<n;)9==e.charCodeAt(i)?(r+=t-r%t,i++):(r++,i=Jt(e,i));return r}function jr(e,t,n,r){for(var i=0,o=0;;){if(o>=t)return i;if(i==e.length)break;o+=9==e.charCodeAt(i)?n-o%n:1,i=Jt(e,i)}return!0===r?-1:e.length}for(var _r="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),Mr="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),Er="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{},Ar=function(){function e(t,n){h(this,e),this.rules=[];var r=(n||{}).finish;function i(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function o(e,t,n,a){var s=[],l=/^@(\w+)\b/.exec(e[0]),u=l&&"keyframes"==l[1];if(l&&null==t)return n.push(e[0]+";");for(var c in t){var f=t[c];if(/&/.test(c))o(c.split(/,\s*/).map((function(t){return e.map((function(e){return t.replace(/&/,e)}))})).reduce((function(e,t){return e.concat(t)})),f,n);else if(f&&"object"==typeof f){if(!l)throw new RangeError("The value of a property ("+c+") should be a primitive value.");o(i(c),f,s,u)}else null!=f&&s.push(c.replace(/_.*/,"").replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))+": "+f+";")}(s.length||u)&&n.push((!r||l||a?e:e.map(r)).join(", ")+" {"+s.join(" ")+"}")}for(var a in t)o(i(a),t[a],this.rules)}return m(e,[{key:"getRules",value:function(){return this.rules.join("\n")}}],[{key:"newName",value:function(){var e=Er[_r]||1;return Er[_r]=e+1,"\u037c"+e.toString(36)}},{key:"mount",value:function(e,t){(e[Mr]||new Nr(e)).mount(Array.isArray(t)?t:[t])}}]),e}(),Tr=null,Nr=function(){function e(t){if(h(this,e),!t.head&&t.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Tr)return t.adoptedStyleSheets=[Tr.sheet].concat(t.adoptedStyleSheets),t[Mr]=Tr;this.sheet=new CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets),Tr=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");var n=t.head||t;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],t[Mr]=this}return m(e,[{key:"mount",value:function(e){for(var t=this.sheet,n=0,r=0,i=0;i<e.length;i++){var o=e[i],a=this.modules.indexOf(o);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),-1==a){if(this.modules.splice(r++,0,o),t)for(var s=0;s<o.rules.length;s++)t.insertRule(o.rules[s],n++)}else{for(;r<a;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!t){for(var l="",u=0;u<this.modules.length;u++)l+=this.modules[u].getRules()+"\n";this.styleTag.textContent=l}}}]),e}(),Or={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Dr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Pr="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Rr=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),Lr="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Ir=Rr||Pr&&+Pr[1]<57,Br=0;Br<10;Br++)Or[48+Br]=Or[96+Br]=String(Br);for(Br=1;Br<=24;Br++)Or[Br+111]="F"+Br;for(Br=65;Br<=90;Br++)Or[Br]=String.fromCharCode(Br+32),Dr[Br]=String.fromCharCode(Br);for(var zr in Or)Dr.hasOwnProperty(zr)||(Dr[zr]=Or[zr]);function Fr(e){return(11==e.nodeType?e.getSelection?e:e.ownerDocument:e).getSelection()}function Vr(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function Wr(e,t){if(!t.anchorNode)return!1;try{return Vr(e,t.anchorNode)}catch(Om){return!1}}function Hr(e){return 3==e.nodeType?ti(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function qr(e,t,n,r){return!!n&&($r(e,t,n,r,-1)||$r(e,t,n,r,1))}function Ur(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function $r(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Kr(e))){if("DIV"==e.nodeName)return!1;var o=e.parentNode;if(!o||1!=o.nodeType)return!1;t=Ur(e)+(i<0?0:1),e=o}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?Kr(e):0}}}function Kr(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}var Gr={left:0,right:0,top:0,bottom:0};function Jr(e,t){var n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function Qr(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}var Yr,Xr=function(){function e(){h(this,e),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return m(e,[{key:"eq",value:function(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}},{key:"setRange",value:function(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}},{key:"set",value:function(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}]),e}(),Zr=null;function ei(e){if(e.setActive)return e.setActive();if(Zr)return e.focus(Zr);for(var t=[],n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==Zr?{get preventScroll(){return Zr={preventScroll:!0},!0}}:void 0),!Zr){Zr=!1;for(var r=0;r<t.length;){var i=t[r++],o=t[r++],a=t[r++];i.scrollTop!=o&&(i.scrollTop=o),i.scrollLeft!=a&&(i.scrollLeft=a)}}}function ti(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=Yr||(Yr=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function ni(e,t,n){var r={key:t,code:t,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,e.dispatchEvent(i);var o=new KeyboardEvent("keyup",r);return o.synthetic=!0,e.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function ri(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}function ii(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}var oi=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];h(this,e),this.node=t,this.offset=n,this.precise=r}return m(e,null,[{key:"before",value:function(t,n){return new e(t.parentNode,Ur(t),n)}},{key:"after",value:function(t,n){return new e(t.parentNode,Ur(t)+1,n)}}]),e}(),ai=[],si=function(){function e(){h(this,e),this.parent=null,this.dom=null,this.dirty=2}return m(e,[{key:"editorView",get:function(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"posBefore",value:function(e){var t,n=this.posAtStart,r=_(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i==e)return n;n+=i.length+i.breakAfter}}catch(o){r.e(o)}finally{r.f()}throw new RangeError("Invalid child in posBefore")}},{key:"posAfter",value:function(e){return this.posBefore(e)+e.length}},{key:"coordsAt",value:function(e,t){return null}},{key:"sync",value:function(t){if(2&this.dirty){var n,r,i=this.dom,o=null,a=_(this.children);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s.dirty){if(!s.dom&&(n=o?o.nextSibling:i.firstChild)){var l=e.get(n);(!l||!l.parent&&l.canReuseDOM(s))&&s.reuseDOM(n)}s.sync(t),s.dirty=0}if(n=o?o.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&n!=s.dom&&(t.written=!0),s.dom.parentNode==i)for(;n&&n!=s.dom;)n=li(n);else i.insertBefore(s.dom,n);o=s.dom}}catch(h){a.e(h)}finally{a.f()}for((n=o?o.nextSibling:i.firstChild)&&t&&t.node==i&&(t.written=!0);n;)n=li(n)}else if(1&this.dirty){var u,c=_(this.children);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.dirty&&(f.sync(t),f.dirty=0)}}catch(h){c.e(h)}finally{c.f()}}}},{key:"reuseDOM",value:function(e){}},{key:"localPosFromDOM",value:function(t,n){var r;if(t==this.dom)r=this.dom.childNodes[n];else{for(var i=0==Kr(t)?0:0==n?-1:1;;){var o=t.parentNode;if(o==this.dom)break;0==i&&o.firstChild!=o.lastChild&&(i=t==o.firstChild?-1:1),t=o}r=i<0?t:t.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!e.get(r);)r=r.nextSibling;if(!r)return this.length;for(var a=0,s=0;;a++){var l=this.children[a];if(l.dom==r)return s;s+=l.length+l.breakAfter}}},{key:"domBoundsAround",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=-1,i=-1,o=-1,a=-1,s=0,l=n,u=n;s<this.children.length;s++){var c=this.children[s],f=l+c.length;if(l<e&&f>t)return c.domBoundsAround(e,t,l);if(f>=e&&-1==r&&(r=s,i=l),l>t&&c.dom.parentNode==this.dom){o=s,a=u;break}u=f,l=f+c.breakAfter}return{from:i,to:a<0?n+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}},{key:"markDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dirty|=2,this.markParentsDirty(e)}},{key:"markParentsDirty",value:function(e){for(var t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}},{key:"setParent",value:function(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}},{key:"rootView",get:function(){for(var e=this;;){var t=e.parent;if(!t)return e;e=t}}},{key:"replaceChildren",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ai;this.markDirty();for(var i=e;i<t;i++){var o=this.children[i];o.parent==this&&o.destroy()}(n=this.children).splice.apply(n,[e,t-e].concat(f(r)));for(var a=0;a<r.length;a++)r[a].setParent(this)}},{key:"ignoreMutation",value:function(e){return!1}},{key:"ignoreEvent",value:function(e){return!1}},{key:"childCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;return new ui(this.children,e,this.children.length)}},{key:"childPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(e,t)}},{key:"toString",value:function(){var e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"isEditable",get:function(){return!0}},{key:"merge",value:function(e,t,n,r,i,o){return!1}},{key:"become",value:function(e){return!1}},{key:"canReuseDOM",value:function(e){return e.constructor==this.constructor}},{key:"getSide",value:function(){return 0}},{key:"destroy",value:function(){this.parent=null}}],[{key:"get",value:function(e){return e.cmView}}]),e}();function li(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}si.prototype.breakAfter=0;var ui=function(){function e(t,n,r){h(this,e),this.children=t,this.pos=n,this.i=r,this.off=0}return m(e,[{key:"findPos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}]),e}();function ci(e,t,n,r,i,o,a,s,l){var u=e.children,c=u.length?u[t]:null,f=o.length?o[o.length-1]:null,h=f?f.breakAfter:a;if(!(t==r&&c&&!a&&!h&&o.length<2&&c.merge(n,i,o.length?f:null,0==n,s,l))){if(r<u.length){var d=u[r];d&&i<d.length?(t==r&&(d=d.split(i),i=0),!h&&f&&d.merge(0,i,f,!0,0,l)?o[o.length-1]=d:(i&&d.merge(0,i,null,!1,0,l),o.push(d))):(null===d||void 0===d?void 0:d.breakAfter)&&(f?f.breakAfter=1:a=1),r++}for(c&&(c.breakAfter=a,n>0&&(!a&&o.length&&c.merge(n,c.length,o[0],!1,s,0)?c.breakAfter=o.shift().breakAfter:(n<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(n,c.length,null,!1,s,0),t++));t<r&&o.length;)if(u[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:s;else{if(!u[t].become(o[0]))break;t++,o.shift(),s=o.length?0:l}!o.length&&t&&r<u.length&&!u[t-1].breakAfter&&u[r].merge(0,0,u[t-1],!1,s,l)&&t--,(t<r||o.length)&&e.replaceChildren(t,r,o)}}function fi(e,t,n,r,i,o){var a,s=e.childCursor(),l=s.findPos(n,1),u=l.i,c=l.off,f=s.findPos(t,-1),h=f.i,d=f.off,p=t-n,v=_(r);try{for(v.s();!(a=v.n()).done;){p+=a.value.length}}catch(m){v.e(m)}finally{v.f()}e.length+=p,ci(e,h,d,u,c,r,0,i,o)}var hi="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},di="undefined"!=typeof document?document:{documentElement:{style:{}}},pi=/Edge\/(\d+)/.exec(hi.userAgent),vi=/MSIE \d/.test(hi.userAgent),mi=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(hi.userAgent),gi=!!(vi||mi||pi),yi=!gi&&/gecko\/(\d+)/i.test(hi.userAgent),bi=!gi&&/Chrome\/(\d+)/.exec(hi.userAgent),ki="webkitFontSmoothing"in di.documentElement.style,wi=!gi&&/Apple Computer/.test(hi.vendor),xi=wi&&(/Mobile\/\w+/.test(hi.userAgent)||hi.maxTouchPoints>2),Si={mac:xi||/Mac/.test(hi.platform),windows:/Win/.test(hi.platform),linux:/Linux|X11/.test(hi.platform),ie:gi,ie_version:vi?di.documentMode||6:mi?+mi[1]:pi?+pi[1]:0,gecko:yi,gecko_version:yi?+(/Firefox\/(\d+)/.exec(hi.userAgent)||[0,0])[1]:0,chrome:!!bi,chrome_version:bi?+bi[1]:0,ios:xi,android:/Android\b/.test(hi.userAgent),webkit:ki,safari:wi,webkit_version:ki?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=di.documentElement.style.tabSize?"tab-size":"-moz-tab-size"},Ci=function(e){y(n,e);var t=S(n);function n(e){var r;return h(this,n),(r=t.call(this)).text=e,r}return m(n,[{key:"length",get:function(){return this.text.length}},{key:"createDOM",value:function(e){this.setDOM(e||document.createTextNode(this.text))}},{key:"sync",value:function(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}},{key:"reuseDOM",value:function(e){3==e.nodeType&&this.createDOM(e)}},{key:"merge",value:function(e,t,r){return(!r||r instanceof n&&!(this.length-(t-e)+r.length>256))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}},{key:"split",value:function(e){var t=new n(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}},{key:"localPosFromDOM",value:function(e,t){return e==this.dom?t:t?this.text.length:0}},{key:"domAtPos",value:function(e){return new oi(this.dom,e)}},{key:"domBoundsAround",value:function(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(e,t){return _i(this.dom,e,t)}}]),n}(si),ji=function(e){y(n,e);var t=S(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;h(this,n),(r=t.call(this)).mark=e,r.children=i,r.length=o;var a,s=_(i);try{for(s.s();!(a=s.n()).done;){var l=a.value;l.setParent(w(r))}}catch(u){s.e(u)}finally{s.f()}return r}return m(n,[{key:"setAttrs",value:function(e){if(ii(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(var t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}},{key:"reuseDOM",value:function(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}},{key:"sync",value:function(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),Pt(b(n.prototype),"sync",this).call(this,e)}},{key:"merge",value:function(e,t,r,i,o,a){return(!r||!(!(r instanceof n&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&a<=0))&&(fi(this,e,t,r?r.children:[],o-1,a-1),this.markDirty(),!0)}},{key:"split",value:function(e){var t,r=[],i=0,o=-1,a=0,s=_(this.children);try{for(s.s();!(t=s.n()).done;){var l=t.value,u=i+l.length;u>e&&r.push(i<e?l.split(e-i):l),o<0&&i>=e&&(o=a),i=u,a++}}catch(f){s.e(f)}finally{s.f()}var c=this.length-e;return this.length=e,o>-1&&(this.children.length=o,this.markDirty()),new n(this.mark,r,c)}},{key:"domAtPos",value:function(e){return Oi(this,e)}},{key:"coordsAt",value:function(e,t){return Pi(this,e,t)}}]),n}(si);function _i(e,t,n){var r=e.nodeValue.length;t>r&&(t=r);var i=t,o=t,a=0;0==t&&n<0||t==r&&n>=0?Si.chrome||Si.gecko||(t?(i--,a=1):o<r&&(o++,a=-1)):n<0?i--:o<r&&o++;var s=ti(e,i,o).getClientRects();if(!s.length)return Gr;var l=s[(a?a<0:n>=0)?0:s.length-1];return Si.safari&&!a&&0==l.width&&(l=Array.prototype.find.call(s,(function(e){return e.width}))||l),a?Jr(l,a<0):l||null}var Mi=function(e){y(n,e);var t=S(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this)).widget=e,o.length=r,o.side=i,o.prevWidget=null,o}return m(n,[{key:"split",value:function(e){var t=n.create(this.widget,this.length-e,this.side);return this.length-=e,t}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(e,t,r,i,o,a){return!(r&&(!(r instanceof n&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&a<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}},{key:"become",value:function(e){return e.length==this.length&&e instanceof n&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(e){return this.widget.ignoreEvent(e)}},{key:"overrideDOMText",get:function(){if(0==this.length)return Rt.empty;for(var e=this;e.parent;)e=e.parent;var t=e.editorView,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):Rt.empty}},{key:"domAtPos",value:function(e){return 0==e?oi.before(this.dom):oi.after(this.dom,e==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(e,t){var n=this.dom.getClientRects(),r=null;if(!n.length)return Gr;for(var i=e>0?n.length-1:0;r=n[i],!(e>0?0==i:i==n.length-1||r.top<r.bottom);i+=e>0?-1:1);return this.length?r:Jr(r,this.side>0)}},{key:"isEditable",get:function(){return!1}},{key:"destroy",value:function(){Pt(b(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}],[{key:"create",value:function(e,t,r){return new(e.customView||n)(e,t,r)}}]),n}(si),Ei=function(e){y(n,e);var t=S(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"domAtPos",value:function(e){var t=this.widget,n=t.topView,r=t.text;return n?Ai(e,0,n,r,(function(e,t){return e.domAtPos(t)}),(function(e){return new oi(r,Math.min(e,r.nodeValue.length))})):new oi(r,Math.min(e,r.nodeValue.length))}},{key:"sync",value:function(){this.setDOM(this.widget.toDOM())}},{key:"localPosFromDOM",value:function(e,t){var n=this.widget,r=n.topView,i=n.text;return r?Ti(e,t,r,i):Math.min(t,this.length)}},{key:"ignoreMutation",value:function(){return!1}},{key:"overrideDOMText",get:function(){return null}},{key:"coordsAt",value:function(e,t){var n=this.widget,r=n.topView,i=n.text;return r?Ai(e,t,r,i,(function(e,t,n){return e.coordsAt(t,n)}),(function(e,t){return _i(i,e,t)})):_i(i,e,t)}},{key:"destroy",value:function(){var e;Pt(b(n.prototype),"destroy",this).call(this),null===(e=this.widget.topView)||void 0===e||e.destroy()}},{key:"isEditable",get:function(){return!0}},{key:"canReuseDOM",value:function(){return!0}}]),n}(Mi);function Ai(e,t,n,r,i,o){if(n instanceof ji){for(var a=n.dom.firstChild;a;a=a.nextSibling){var s=si.get(a);if(!s)return o(e,t);var l=Vr(a,r),u=s.length+(l?r.nodeValue.length:0);if(e<u||e==u&&s.getSide()<=0)return l?Ai(e,t,s,r,i,o):i(s,e,t);e-=u}return i(n,n.length,-1)}return n.dom==r?o(e,t):i(n,e,t)}function Ti(e,t,n,r){if(n instanceof ji){var i,o=_(n.children);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=0,l=Vr(a.dom,r);if(Vr(a.dom,e))return s+(l?Ti(e,t,a,r):a.localPosFromDOM(e,t));s+=l?r.nodeValue.length:a.length}}catch(u){o.e(u)}finally{o.f()}}else if(n.dom==r)return Math.min(t,r.nodeValue.length);return n.localPosFromDOM(e,t)}var Ni=function(e){y(n,e);var t=S(n);function n(e){var r;return h(this,n),(r=t.call(this)).side=e,r}return m(n,[{key:"length",get:function(){return 0}},{key:"merge",value:function(){return!1}},{key:"become",value:function(e){return e instanceof n&&e.side==this.side}},{key:"split",value:function(){return new n(this.side)}},{key:"sync",value:function(){if(!this.dom){var e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}},{key:"getSide",value:function(){return this.side}},{key:"domAtPos",value:function(e){return oi.before(this.dom)}},{key:"localPosFromDOM",value:function(){return 0}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(e){var t=this.dom.getBoundingClientRect(),n=function(e,t){var n=e.parent,r=n?n.children.indexOf(e):-1;for(;n&&r>=0;)if(t<0?r>0:r<n.children.length){var i=n.children[r+t];if(i instanceof Ci){var o=i.coordsAt(t<0?i.length:0,t);if(o)return o}r+=t}else{if(!(n instanceof ji&&n.parent)){var a=n.dom.lastChild;if(a&&"BR"==a.nodeName)return a.getClientRects()[0];break}r=n.parent.children.indexOf(n)+(t<0?0:1),n=n.parent}return}(this,this.side>0?-1:1);return n&&n.top<t.bottom&&n.bottom>t.top?{left:t.left,right:t.right,top:n.top,bottom:n.bottom}:t}},{key:"overrideDOMText",get:function(){return Rt.empty}}]),n}(si);function Oi(e,t){for(var n=e.dom,r=e.children,i=0,o=0;i<r.length;i++){var a=r[i],s=o+a.length;if(!(s==o&&a.getSide()<=0)){if(t>o&&t<s&&a.dom.parentNode==n)return a.domAtPos(t-o);if(t<=o)break;o=s}}for(var l=i;l>0;l--){var u=r[l-1];if(u.dom.parentNode==n)return u.domAtPos(u.length)}for(var c=i;c<r.length;c++){var f=r[c];if(f.dom.parentNode==n)return f.domAtPos(0)}return new oi(n,0)}function Di(e,t,n){var r,i=e.children;n>0&&t instanceof ji&&i.length&&(r=i[i.length-1])instanceof ji&&r.mark.eq(t.mark)?Di(r,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function Pi(e,t,n){var r=null,i=-1,o=null,a=-1;!function e(t,n){for(var s=0,l=0;s<t.children.length&&l<=n;s++){var u=t.children[s],c=l+u.length;c>=n&&(u.children.length?e(u,n-l):!o&&(c>n||l==c&&u.getSide()>0)?(o=u,a=n-l):(l<n||l==c&&u.getSide()<0)&&(r=u,i=n-l)),l=c}}(e,t);var s=(n<0?r:o)||r||o;return s?s.coordsAt(Math.max(0,s==r?i:a),n):function(e){var t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();var n=Hr(t);return n[n.length-1]||null}(e)}function Ri(e,t){for(var n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}function Li(e,t){if(e==t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i];if(-1==r.indexOf(a)||e[a]!==t[a])return!1}return!0}function Ii(e,t,n){var r=null;if(t)for(var i in t)n&&i in n||e.removeAttribute(r=i);if(n)for(var o in n)t&&t[o]==n[o]||e.setAttribute(r=o,n[o]);return!!r}Ci.prototype.children=Mi.prototype.children=Ni.prototype.children=ai;var Bi=function(){function e(){h(this,e)}return m(e,[{key:"eq",value:function(e){return!1}},{key:"updateDOM",value:function(e){return!1}},{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"estimatedHeight",get:function(){return-1}},{key:"ignoreEvent",value:function(e){return!0}},{key:"customView",get:function(){return null}},{key:"destroy",value:function(e){}}]),e}(),zi=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(zi||(zi={})),Fi=function(e){y(n,e);var t=S(n);function n(e,r,i,o){var a;return h(this,n),(a=t.call(this)).startSide=e,a.endSide=r,a.widget=i,a.spec=o,a}return m(n,[{key:"heightRelevant",get:function(){return!1}},{key:"hasHeight",value:function(){return!!this.widget&&this.widget.estimatedHeight>-1}}],[{key:"mark",value:function(e){return new Vi(e)}},{key:"widget",value:function(e){var t=e.side||0,n=!!e.block;return new Hi(e,t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,t,n,e.widget||null,!1)}},{key:"replace",value:function(e){var t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{var i=qi(e,r);t=(i.start?r?-3e8:-1:5e8)-1,n=1+(i.end?r?2e8:1:-6e8)}return new Hi(e,t,n,r,e.widget||null,!0)}},{key:"line",value:function(e){return new Wi(e)}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return fr.of(e,t)}}]),n}(sr);Fi.none=fr.empty;var Vi=function(e){y(n,e);var t=S(n);function n(e){var r;h(this,n);var i=qi(e),o=i.start,a=i.end;return(r=t.call(this,o?-1:5e8,a?1:-6e8,null,e)).tagName=e.tagName||"span",r.class=e.class||"",r.attrs=e.attributes||null,r}return m(n,[{key:"eq",value:function(e){return this==e||e instanceof n&&this.tagName==e.tagName&&this.class==e.class&&Li(this.attrs,e.attrs)}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e>=t)throw new RangeError("Mark decorations may not be empty");return Pt(b(n.prototype),"range",this).call(this,e,t)}}]),n}(Fi);Vi.prototype.point=!1;var Wi=function(e){y(n,e);var t=S(n);function n(e){return h(this,n),t.call(this,-2e8,-2e8,null,e)}return m(n,[{key:"eq",value:function(e){return e instanceof n&&Li(this.spec.attributes,e.spec.attributes)}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return Pt(b(n.prototype),"range",this).call(this,e,t)}}]),n}(Fi);Wi.prototype.mapMode=on.TrackBefore,Wi.prototype.point=!0;var Hi=function(e){y(n,e);var t=S(n);function n(e,r,i,o,a,s){var l;return h(this,n),(l=t.call(this,r,i,a,e)).block=o,l.isReplace=s,l.mapMode=o?r<=0?on.TrackBefore:on.TrackAfter:on.TrackDel,l}return m(n,[{key:"type",get:function(){return this.startSide<this.endSide?zi.WidgetRange:this.startSide<=0?zi.WidgetBefore:zi.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}},{key:"eq",value:function(e){return e instanceof n&&(t=this.widget,r=e.widget,t==r||!!(t&&r&&t.compare(r)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,r}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return Pt(b(n.prototype),"range",this).call(this,e,t)}}]),n}(Fi);function qi(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.inclusiveStart,r=e.inclusiveEnd;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!==n&&void 0!==n?n:t,end:null!==r&&void 0!==r?r:t}}function Ui(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}Hi.prototype.point=!0;var $i=function(e){y(n,e);var t=S(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).children=[],e.length=0,e.prevAttrs=void 0,e.attrs=null,e.breakAfter=0,e}return m(n,[{key:"merge",value:function(e,t,r,i,o,a){if(r){if(!(r instanceof n))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),fi(this,e,t,r?r.children:[],o,a),!0}},{key:"split",value:function(e){var t=new n;if(t.breakAfter=this.breakAfter,0==this.length)return t;var r=this.childPos(e),i=r.i,o=r.off;o&&(t.append(this.children[i].split(o),0),this.children[i].merge(o,this.children[i].length,null,!1,0,0),i++);for(var a=i;a<this.children.length;a++)t.append(this.children[a],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}},{key:"transferDOM",value:function(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(e){Li(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}},{key:"append",value:function(e,t){Di(this,e,t)}},{key:"addLineDeco",value:function(e){var t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=Ri(t,this.attrs||{})),n&&(this.attrs=Ri({class:n},this.attrs||{}))}},{key:"domAtPos",value:function(e){return Oi(this,e)}},{key:"reuseDOM",value:function(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}},{key:"sync",value:function(e){var t;this.dom?4&this.dirty&&(ii(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Ii(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),Pt(b(n.prototype),"sync",this).call(this,e);for(var r=this.dom.lastChild;r&&si.get(r)instanceof ji;)r=r.lastChild;if(!r||!this.length||"BR"!=r.nodeName&&0==(null===(t=si.get(r))||void 0===t?void 0:t.isEditable)&&(!Si.ios||!this.children.some((function(e){return e instanceof Ci})))){var i=document.createElement("BR");i.cmIgnore=!0,this.dom.appendChild(i)}}},{key:"measureTextSize",value:function(){if(0==this.children.length||this.length>20)return null;var e,t=0,n=_(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(!(r instanceof Ci)||/[^ -~]/.test(r.text))return null;var i=Hr(r.dom);if(1!=i.length)return null;t+=i[0].width}}catch(o){n.e(o)}finally{n.f()}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}:null}},{key:"coordsAt",value:function(e,t){return Pi(this,e,t)}},{key:"become",value:function(e){return!1}},{key:"type",get:function(){return zi.Text}}],[{key:"find",value:function(e,t){for(var r=0,i=0;r<e.children.length;r++){var o=e.children[r],a=i+o.length;if(a>=t){if(o instanceof n)return o;if(a>t)break}i=a+o.breakAfter}return null}}]),n}(si),Ki=function(e){y(n,e);var t=S(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this)).widget=e,o.length=r,o.type=i,o.breakAfter=0,o.prevWidget=null,o}return m(n,[{key:"merge",value:function(e,t,r,i,o,a){return!(r&&(!(r instanceof n&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&a<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}},{key:"domAtPos",value:function(e){return 0==e?oi.before(this.dom):oi.after(this.dom,e==this.length)}},{key:"split",value:function(e){var t=this.length-e;this.length=e;var r=new n(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}},{key:"children",get:function(){return ai}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Rt.empty}},{key:"domBoundsAround",value:function(){return null}},{key:"become",value:function(e){return e instanceof n&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(e){return this.widget.ignoreEvent(e)}},{key:"destroy",value:function(){Pt(b(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}]),n}(si),Gi=function(){function e(t,n,r,i){h(this,e),this.doc=t,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=n}return m(e,[{key:"posCovered",value:function(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Ki&&e.type==zi.WidgetBefore)}},{key:"getLine",value:function(){return this.curLine||(this.content.push(this.curLine=new $i),this.atCursorPos=!0),this.curLine}},{key:"flushBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.bufferMarks;this.pendingBuffer&&(this.curLine.append(Ji(new Ni(-1),e),e.length),this.pendingBuffer=0)}},{key:"addBlockWidget",value:function(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}},{key:"finish",value:function(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}},{key:"buildText",value:function(e,t,n){for(;e>0;){if(this.textOff==this.text.length){var r=this.cursor.next(this.skip),i=r.value,o=r.lineBreak,a=r.done;if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=i,this.textOff=0}var s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Ji(new Ci(this.text.slice(this.textOff,this.textOff+s)),t),n),this.atCursorPos=!0,this.textOff+=s,e-=s,n=0}}},{key:"span",value:function(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}},{key:"point",value:function(e,t,n,r,i,o){if(this.disallowBlockEffectsFor[o]&&n instanceof Hi){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}var a=t-e;if(n instanceof Hi)if(n.block){var s=n.type;s!=zi.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new Ki(n.widget||new Qi("div"),a,s))}else{var l=Mi.create(n.widget||new Qi("span"),a,a?0:n.startSide),u=this.atCursorPos&&!l.isEditable&&i<=r.length&&(e<t||n.startSide>0),c=!l.isEditable&&(e<t||i>r.length||n.startSide<=0),f=this.getLine();2!=this.pendingBuffer||u||(this.pendingBuffer=0),this.flushBuffer(r),u&&(f.append(Ji(new Ni(1),r),i),i=r.length+Math.max(0,i-r.length)),f.append(Ji(l,r),i),this.atCursorPos=c,this.pendingBuffer=c?e<t||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}}],[{key:"build",value:function(t,n,r,i,o){var a=new e(t,n,r,o);return a.openEnd=fr.spans(i,n,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}]),e}();function Ji(e,t){var n,r=_(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=new ji(i,[e],e.length)}}catch(o){r.e(o)}finally{r.f()}return e}var Qi=function(e){y(n,e);var t=S(n);function n(e){var r;return h(this,n),(r=t.call(this)).tag=e,r}return m(n,[{key:"eq",value:function(e){return e.tag==this.tag}},{key:"toDOM",value:function(){return document.createElement(this.tag)}},{key:"updateDOM",value:function(e){return e.nodeName.toLowerCase()==this.tag}}]),n}(Bi),Yi=yn.define(),Xi=yn.define(),Zi=yn.define(),eo=yn.define(),to=yn.define(),no=yn.define(),ro=yn.define({combine:function(e){return e.some((function(e){return e}))}}),io=yn.define({combine:function(e){return e.some((function(e){return e}))}}),oo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;h(this,e),this.range=t,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o}return m(e,[{key:"map",value:function(t){return t.empty?this:new e(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}}]),e}(),ao=Kn.define({map:function(e,t){return e.map(t)}});function so(e,t,n){var r=e.facet(eo);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}var lo=yn.define({combine:function(e){return!e.length||e[0]}}),uo=0,co=yn.define(),fo=function(){function e(t,n,r,i){h(this,e),this.id=t,this.create=n,this.domEventHandlers=r,this.extension=i(this)}return m(e,null,[{key:"define",value:function(t,n){var r=n||{},i=r.eventHandlers,o=r.provide,a=r.decorations;return new e(uo++,t,i,(function(e){var t=[co.of(e)];return a&&t.push(mo.of((function(t){var n=t.plugin(e);return n?a(n):Fi.none}))),o&&t.push(o(e)),t}))}},{key:"fromClass",value:function(t,n){return e.define((function(e){return new t(e)}),n)}}]),e}(),ho=function(){function e(t){h(this,e),this.spec=t,this.mustUpdate=null,this.value=null}return m(e,[{key:"update",value:function(e){if(this.value){if(this.mustUpdate){var t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(so(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(Om){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){so(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}},{key:"destroy",value:function(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(n){so(e.state,n,"CodeMirror plugin crashed")}}},{key:"deactivate",value:function(){this.spec=this.value=null}}]),e}(),po=yn.define(),vo=yn.define(),mo=yn.define(),go=yn.define(),yo=yn.define(),bo=yn.define(),ko=function(){function e(t,n,r,i){h(this,e),this.fromA=t,this.toA=n,this.fromB=r,this.toB=i}return m(e,[{key:"join",value:function(t){return new e(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}},{key:"addToSet",value:function(e){for(var t=e.length,n=this;t>0;t--){var r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}}],[{key:"extendWithRanges",value:function(t,n){if(0==n.length)return t;for(var r=[],i=0,o=0,a=0,s=0;;i++){for(var l=i==t.length?null:t[i],u=a-s,c=l?l.fromB:1e9;o<n.length&&n[o]<c;){var f=n[o],h=n[o+1],d=Math.max(s,f),p=Math.min(c,h);if(d<=p&&new e(d+u,p+u,d,p).addToSet(r),h>c)break;o+=2}if(!l)return r;new e(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),a=l.toA,s=l.toB}}}]),e}(),wo=function(){function e(t,n,r){h(this,e),this.view=t,this.state=n,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=sn.empty(this.startState.doc.length);var i,o=_(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.changes=this.changes.compose(a.changes)}}catch(u){o.e(u)}finally{o.f()}var s=[];this.changes.iterChangedRanges((function(e,t,n,r){return s.push(new ko(e,t,n,r))})),this.changedRanges=s;var l=t.hasFocus;l!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=l,this.flags|=1)}return m(e,[{key:"viewportChanged",get:function(){return(4&this.flags)>0}},{key:"heightChanged",get:function(){return(2&this.flags)>0}},{key:"geometryChanged",get:function(){return this.docChanged||(10&this.flags)>0}},{key:"focusChanged",get:function(){return(1&this.flags)>0}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"selectionSet",get:function(){return this.transactions.some((function(e){return e.selection}))}},{key:"empty",get:function(){return 0==this.flags&&0==this.transactions.length}}],[{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}(),xo=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(xo||(xo={})),So=xo.LTR,Co=xo.RTL;function jo(e){for(var t=[],n=0;n<e.length;n++)t.push(1<<+e[n]);return t}for(var _o=jo("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Mo=jo("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Eo=Object.create(null),Ao=[],To=0,No=["()","[]","{}"];To<No.length;To++){var Oo=No[To],Do=Oo.charCodeAt(0),Po=Oo.charCodeAt(1);Eo[Do]=Po,Eo[Po]=-Do}function Ro(e){return e<=247?_o[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?Mo[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8203?256:64336<=e&&e<=65023?4:8204==e?256:1}var Lo=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,Io=function(){function e(t,n,r){h(this,e),this.from=t,this.to=n,this.level=r}return m(e,[{key:"dir",get:function(){return this.level%2?Co:So}},{key:"side",value:function(e,t){return this.dir==t==e?this.to:this.from}}],[{key:"find",value:function(e,t,n,r){for(var i=-1,o=0;o<e.length;o++){var a=e[o];if(a.from<=t&&a.to>=t){if(a.level==n)return o;(i<0||(0!=r?r<0?a.from<t:a.to>t:e[i].level>a.level))&&(i=o)}}if(i<0)throw new RangeError("Index out of range");return i}}]),e}(),Bo=[];function zo(e,t){var n=e.length,r=t==So?1:2,i=t==So?2:1;if(!e||1==r&&!Lo.test(e))return Fo(n);for(var o=0,a=r,s=r;o<n;o++){var l=Ro(e.charCodeAt(o));512==l?l=a:8==l&&4==s&&(l=16),Bo[o]=4==l?2:l,7&l&&(s=l),a=l}for(var u=0,c=r,f=r;u<n;u++){var h=Bo[u];if(128==h)u<n-1&&c==Bo[u+1]&&24&c?h=Bo[u]=c:Bo[u]=256;else if(64==h){for(var d=u+1;d<n&&64==Bo[d];)d++;for(var p=u&&8==c||d<n&&8==Bo[d]?1==f?1:8:256,v=u;v<d;v++)Bo[v]=p;u=d-1}else 8==h&&1==f&&(Bo[u]=1);c=h,7&h&&(f=h)}for(var m,g,y,b=0,k=0,w=0;b<n;b++)if(g=Eo[m=e.charCodeAt(b)])if(g<0){for(var x=k-3;x>=0;x-=3)if(Ao[x+1]==-g){var S=Ao[x+2],C=2&S?r:4&S?1&S?i:r:0;C&&(Bo[b]=Bo[Ao[x]]=C),k=x;break}}else{if(189==Ao.length)break;Ao[k++]=b,Ao[k++]=m,Ao[k++]=w}else if(2==(y=Bo[b])||1==y){var j=y==r;w=j?0:1;for(var _=k-3;_>=0;_-=3){var M=Ao[_+2];if(2&M)break;if(j)Ao[_+2]|=2;else{if(4&M)break;Ao[_+2]|=4}}}for(var E=0;E<n;E++)if(256==Bo[E]){for(var A=E+1;A<n&&256==Bo[A];)A++;for(var T=1==(E?Bo[E-1]:r),N=T==(1==(A<n?Bo[A]:r))?T?1:2:r,O=E;O<A;O++)Bo[O]=N;E=A-1}var D=[];if(1==r)for(var P=0;P<n;){for(var R=P,L=1!=Bo[P++];P<n&&L==(1!=Bo[P]);)P++;if(L)for(var I=P;I>R;){for(var B=I,z=2!=Bo[--I];I>R&&z==(2!=Bo[I-1]);)I--;D.push(new Io(I,B,z?2:1))}else D.push(new Io(R,P,0))}else for(var F=0;F<n;){for(var V=F,W=2==Bo[F++];F<n&&W==(2==Bo[F]);)F++;D.push(new Io(V,F,W?1:2))}return D}function Fo(e){return[new Io(0,e,0)]}var Vo="";function Wo(e,t,n,r,i){var o,a=r.head-e.from,s=-1;if(0==a){if(!i||!e.length)return null;t[0].level!=n&&(a=t[0].side(!1,n),s=0)}else if(a==e.length){if(i)return null;var l=t[t.length-1];l.level!=n&&(a=l.side(!0,n),s=t.length-1)}s<0&&(s=Io.find(t,a,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc));var u=t[s];a==u.side(i,n)&&(a=(u=t[s+=i?1:-1]).side(!i,n));var c=i==(u.dir==n),f=Jt(e.text,a,c);if(Vo=e.text.slice(Math.min(a,f),Math.max(a,f)),f!=u.side(i,n))return vn.cursor(f+e.from,c?-1:1,u.level);var h=s==(i?t.length-1:0)?null:t[s+(i?1:-1)];return h||u.level==n?h&&h.level<u.level?vn.cursor(h.side(!i,n)+e.from,i?1:-1,h.level):vn.cursor(f+e.from,i?-1:1,u.level):vn.cursor(i?e.to:e.from,i?-1:1,n)}var Ho="\uffff",qo=function(){function e(t,n){h(this,e),this.points=t,this.text="",this.lineSeparator=n.facet(or.lineSeparator)}return m(e,[{key:"append",value:function(e){this.text+=e}},{key:"lineBreak",value:function(){this.text+=Ho}},{key:"readRange",value:function(e,t){if(!e)return this;for(var n=e.parentNode,r=e;;){this.findPointBefore(n,r),this.readNode(r);var i=r.nextSibling;if(i==t)break;var o=si.get(r),a=si.get(i);(o&&a?o.breakAfter:(o?o.breakAfter:Uo(r))||Uo(i)&&("BR"!=r.nodeName||r.cmIgnore))&&this.lineBreak(),r=i}return this.findPointBefore(n,t),this}},{key:"readTextNode",value:function(e){var t,n=e.nodeValue,r=_(this.points);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length))}}catch(d){r.e(d)}finally{r.f()}for(var o=0,a=this.lineSeparator?null:/\r\n?|\n/g;;){var s=-1,l=1,u=void 0;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,o),l=this.lineSeparator.length):(u=a.exec(n))&&(s=u.index,l=u[0].length),this.append(n.slice(o,s<0?n.length:s)),s<0)break;if(this.lineBreak(),l>1){var c,f=_(this.points);try{for(f.s();!(c=f.n()).done;){var h=c.value;h.node==e&&h.pos>this.text.length&&(h.pos-=l-1)}}catch(d){f.e(d)}finally{f.f()}}o=s+l}}},{key:"readNode",value:function(e){if(!e.cmIgnore){var t=si.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(var r=n.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}}},{key:"findPointBefore",value:function(e,t){var n,r=_(this.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}}catch(o){r.e(o)}finally{r.f()}}},{key:"findPointInside",value:function(e,t){var n,r=_(this.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;(3==e.nodeType?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}catch(o){r.e(o)}finally{r.f()}}}]),e}();function Uo(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}var $o=m((function e(t,n){h(this,e),this.node=t,this.offset=n,this.pos=-1})),Ko=function(e){y(n,e);var t=S(n);function n(e){var r;return h(this,n),(r=t.call(this)).view=e,r.compositionDeco=Fi.none,r.decorations=[],r.dynamicDecorationMap=[],r.minWidth=0,r.minWidthFrom=0,r.minWidthTo=0,r.impreciseAnchor=null,r.impreciseHead=null,r.forceSelection=!1,r.lastUpdate=Date.now(),r.setDOM(e.contentDOM),r.children=[new $i],r.children[0].setParent(w(r)),r.updateDeco(),r.updateInner([new ko(0,0,0,e.state.doc.length)],0),r}return m(n,[{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}},{key:"update",value:function(e){var t=this,n=e.changedRanges;this.minWidth>0&&n.length&&(n.every((function(e){var n=e.fromA;return e.toA<t.minWidthFrom||n>t.minWidthTo}))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Fi.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){var n=Qo(e);if(!n)return Fi.none;var r=n.from,i=n.to,o=n.node,a=n.text,s=t.mapPos(r,1),l=Math.max(s,t.mapPos(i,-1)),u=e.state,c=3==o.nodeType?o.nodeValue:new qo([],u).readRange(o.firstChild,null).text;if(l-s<c.length)if(u.doc.sliceString(s,Math.min(u.doc.length,s+c.length),Ho)==c)l=s+c.length;else{if(u.doc.sliceString(Math.max(0,l-c.length),l,Ho)!=c)return Fi.none;s=l-c.length}else if(u.doc.sliceString(s,l,Ho)!=c)return Fi.none;var f=si.get(o);f instanceof Ei?f=f.widget.topView:f&&(f.parent=null);return Fi.set(Fi.replace({widget:new Yo(o,a,f),inclusive:!0}).range(s,l))}(this.view,e.changes)),(Si.ie||Si.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);var r=function(e,t,n){var r=new ea;return fr.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return n=ko.extendWithRanges(n,r),(0!=this.dirty||0!=n.length)&&(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}},{key:"updateInner",value:function(e,t){var n=this;this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);var r=this.view.observer;r.ignore((function(){n.dom.style.height=n.view.viewState.contentHeight+"px",n.dom.style.flexBasis=n.minWidth?n.minWidth+"px":"";var e=Si.chrome||Si.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;n.sync(e),n.dirty=0,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(n.forceSelection=!0),n.dom.style.height=""}));var i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){var o,a=_(this.children);try{for(a.s();!(o=a.n()).done;){var s=o.value;s instanceof Ki&&s.widget instanceof Jo&&i.push(s.dom)}}catch(l){a.e(l)}finally{a.f()}}r.updateGaps(i)}},{key:"updateChildren",value:function(e,t){for(var n=this.childCursor(t),r=e.length-1;;r--){var i=r>=0?e[r]:null;if(!i)break;var o=i.fromA,a=i.toA,s=i.fromB,l=i.toB,u=Gi.build(this.view.state.doc,s,l,this.decorations,this.dynamicDecorationMap),c=u.content,f=u.breakAtStart,h=u.openStart,d=u.openEnd,p=n.findPos(a,1),v=p.i,m=p.off,g=n.findPos(o,-1);ci(this,g.i,g.off,v,m,c,f,h,d)}}},{key:"updateSelection",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange(),n||this.mayControlSelection()){var r=this.forceSelection;this.forceSelection=!1;var i=this.view.state.selection.main,o=this.domAtPos(i.anchor),a=i.empty?o:this.domAtPos(i.head);if(Si.gecko&&i.empty&&Go(o)){var s=document.createTextNode("");this.view.observer.ignore((function(){return o.node.insertBefore(s,o.node.childNodes[o.offset]||null)})),o=a=new oi(s,0),r=!0}var l=this.view.observer.selectionRange;!r&&l.focusNode&&qr(o.node,o.offset,l.anchorNode,l.anchorOffset)&&qr(a.node,a.offset,l.focusNode,l.focusOffset)||(this.view.observer.ignore((function(){Si.android&&Si.chrome&&e.dom.contains(l.focusNode)&&ta(l.focusNode,e.dom)&&(e.dom.blur(),e.dom.focus({preventScroll:!0}));var t=Fr(e.view.root);if(t)if(i.empty){if(Si.gecko){var n=Zo(o.node,o.offset);if(n&&3!=n){var r=Xo(o.node,o.offset,1==n?1:-1);r&&(o=new oi(r,1==n?0:r.nodeValue.length))}}t.collapse(o.node,o.offset),null!=i.bidiLevel&&null!=l.cursorBidiLevel&&(l.cursorBidiLevel=i.bidiLevel)}else if(t.extend){t.collapse(o.node,o.offset);try{t.extend(a.node,a.offset)}catch(Om){}}else{var s=document.createRange();if(i.anchor>i.head){var u=[a,o];o=u[0],a=u[1]}s.setEnd(a.node,a.offset),s.setStart(o.node,o.offset),t.removeAllRanges(),t.addRange(s)}else;})),this.view.observer.setSelectionRange(o,a)),this.impreciseAnchor=o.precise?null:new oi(l.anchorNode,l.anchorOffset),this.impreciseHead=a.precise?null:new oi(l.focusNode,l.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){if(!this.compositionDeco.size){var e=this.view,t=e.state.selection.main,n=Fr(e.root),r=e.observer.selectionRange,i=r.anchorNode,o=r.anchorOffset;if(n&&t.empty&&t.assoc&&n.modify){var a=$i.find(this,t.head);if(a){var s=a.posAtStart;if(t.head!=s&&t.head!=s+a.length){var l=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(l&&u&&!(l.bottom>u.top)){var c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();var f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=t.from&&n.collapse(i,o)}}}}}}},{key:"mayControlSelection",value:function(){var e=this.view.root.activeElement;return e==this.dom||Wr(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}},{key:"nearest",value:function(e){for(var t=e;t;){var n=si.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}},{key:"posFromDOM",value:function(e,t){var n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}},{key:"domAtPos",value:function(e){for(var t=this.childCursor().findPos(e,-1),n=t.i,r=t.off;n<this.children.length-1;){var i=this.children[n];if(r<i.length||i instanceof $i)break;n++,r=0}return this.children[n].domAtPos(r)}},{key:"coordsAt",value:function(e,t){for(var n=this.length,r=this.children.length-1;;r--){var i=this.children[r],o=n-i.breakAfter-i.length;if(e>o||e==o&&i.type!=zi.WidgetBefore&&i.type!=zi.WidgetAfter&&(!r||2==t||this.children[r-1].breakAfter||this.children[r-1].type==zi.WidgetBefore&&t>-2))return i.coordsAt(e-o,t);n=o}}},{key:"measureVisibleLineHeights",value:function(e){for(var t=[],n=e.from,r=e.to,i=this.view.contentDOM.clientWidth,o=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,s=this.view.textDirection==xo.LTR,l=0,u=0;u<this.children.length;u++){var c=this.children[u],f=l+c.length;if(f>r)break;if(l>=n){var h=c.dom.getBoundingClientRect();if(t.push(h.height),o){var d=c.dom.lastChild,p=d?Hr(d):[];if(p.length){var v=p[p.length-1],m=s?v.right-h.left:h.right-v.left;m>a&&(a=m,this.minWidth=i,this.minWidthFrom=l,this.minWidthTo=f)}}}l=f+c.breakAfter}return t}},{key:"textDirectionAt",value:function(e){var t=this.childPos(e,1).i;return"rtl"==getComputedStyle(this.children[t].dom).direction?xo.RTL:xo.LTR}},{key:"measureTextSize",value:function(){var e,t=this,n=_(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r instanceof $i){var i=r.measureTextSize();if(i)return i}}}catch(l){n.e(l)}finally{n.f()}var o,a,s=document.createElement("div");return s.className="cm-line",s.style.width="99999px",s.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((function(){t.dom.appendChild(s);var e=Hr(s.firstChild)[0];o=s.getBoundingClientRect().height,a=e?e.width/27:7,s.remove()})),{lineHeight:o,charWidth:a}}},{key:"childCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,t=this.children.length;return t&&(e-=this.children[--t].length),new ui(this.children,e,t)}},{key:"computeBlockGapDeco",value:function(){for(var e=[],t=this.view.viewState,n=0,r=0;;r++){var i=r==t.viewports.length?null:t.viewports[r],o=i?i.from-1:this.length;if(o>n){var a=t.lineBlockAt(o).bottom-t.lineBlockAt(n).top;e.push(Fi.replace({widget:new Jo(a),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!i)break;n=i.to+1}return Fi.set(e)}},{key:"updateDeco",value:function(){for(var e=this,t=this.view.state.facet(mo).map((function(t,n){return(e.dynamicDecorationMap[n]="function"==typeof t)?t(e.view):t})),n=t.length;n<t.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[].concat(f(t),[this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco])}},{key:"scrollIntoView",value:function(e){var t,n=this,r=e.range,i=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1);if(i){!r.empty&&(t=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(i={left:Math.min(i.left,t.left),top:Math.min(i.top,t.top),right:Math.max(i.right,t.right),bottom:Math.max(i.bottom,t.bottom)});var o,a=0,s=0,l=0,u=0,c=_(this.view.state.facet(yo).map((function(e){return e(n.view)})));try{for(c.s();!(o=c.n()).done;){var f=o.value;if(f){var h=f.left,d=f.right,p=f.top,v=f.bottom;null!=h&&(a=Math.max(a,h)),null!=d&&(s=Math.max(s,d)),null!=p&&(l=Math.max(l,p)),null!=v&&(u=Math.max(u,v))}}}catch(g){c.e(g)}finally{c.f()}var m={left:i.left-a,top:i.top-l,right:i.right+s,bottom:i.bottom+u};!function(e,t,n,r,i,o,a,s){for(var l=e.ownerDocument,u=l.defaultView||window,c=e;c;)if(1==c.nodeType){var f=void 0,h=c==l.body;if(h)f=Qr(u);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}var d=c.getBoundingClientRect();f={left:d.left,right:d.left+c.clientWidth,top:d.top,bottom:d.top+c.clientHeight}}var p=0,v=0;if("nearest"==i)t.top<f.top?(v=-(f.top-t.top+a),n>0&&t.bottom>f.bottom+v&&(v=t.bottom-f.bottom+v+a)):t.bottom>f.bottom&&(v=t.bottom-f.bottom+a,n<0&&t.top-v<f.top&&(v=-(f.top+v-t.top+a)));else{var m=t.bottom-t.top,g=f.bottom-f.top;v=("center"==i&&m<=g?t.top+m/2-g/2:"start"==i||"center"==i&&n<0?t.top-a:t.bottom-g+a)-f.top}if("nearest"==r?t.left<f.left?(p=-(f.left-t.left+o),n>0&&t.right>f.right+p&&(p=t.right-f.right+p+o)):t.right>f.right&&(p=t.right-f.right+o,n<0&&t.left<f.left+p&&(p=-(f.left+p-t.left+o))):p=("center"==r?t.left+(t.right-t.left)/2-(f.right-f.left)/2:"start"==r==s?t.left-o:t.right-(f.right-f.left)+o)-f.left,p||v)if(h)u.scrollBy(p,v);else{var y=0,b=0;if(v){var k=c.scrollTop;c.scrollTop+=v,b=c.scrollTop-k}if(p){var w=c.scrollLeft;c.scrollLeft+=p,y=c.scrollLeft-w}t={left:t.left-y,top:t.top-b,right:t.right-y,bottom:t.bottom-b},y&&Math.abs(y-p)<1&&(r="nearest"),b&&Math.abs(b-v)<1&&(i="nearest")}if(h)break;c=c.assignedSlot||c.parentNode}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,m,r.head<r.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==xo.LTR)}}}]),n}(si);function Go(e){return 1==e.node.nodeType&&e.node.firstChild&&(0==e.offset||"false"==e.node.childNodes[e.offset-1].contentEditable)&&(e.offset==e.node.childNodes.length||"false"==e.node.childNodes[e.offset].contentEditable)}var Jo=function(e){y(n,e);var t=S(n);function n(e){var r;return h(this,n),(r=t.call(this)).height=e,r}return m(n,[{key:"toDOM",value:function(){var e=document.createElement("div");return this.updateDOM(e),e}},{key:"eq",value:function(e){return e.height==this.height}},{key:"updateDOM",value:function(e){return e.style.height=this.height+"px",!0}},{key:"estimatedHeight",get:function(){return this.height}}]),n}(Bi);function Qo(e){var t=e.observer.selectionRange,n=t.focusNode&&Xo(t.focusNode,t.focusOffset,0);if(!n)return null;var r=e.docView.nearest(n);if(!r)return null;if(r instanceof $i){for(var i=n;i.parentNode!=r.dom;)i=i.parentNode;for(var o=i.previousSibling;o&&!si.get(o);)o=o.previousSibling;var a=o?si.get(o).posAtEnd:r.posAtStart;return{from:a,to:a,node:i,text:n}}for(;;){var s=r.parent;if(!s)return null;if(s instanceof $i)break;r=s}var l=r.posAtStart;return{from:l,to:l+r.length,node:r.dom,text:n}}var Yo=function(e){y(n,e);var t=S(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this)).top=e,o.text=r,o.topView=i,o}return m(n,[{key:"eq",value:function(e){return this.top==e.top&&this.text==e.text}},{key:"toDOM",value:function(){return this.top}},{key:"ignoreEvent",value:function(){return!1}},{key:"customView",get:function(){return Ei}}]),n}(Bi);function Xo(e,t,n){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&n<=0)t=Kr(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&n>=0))return null;e=e.childNodes[t],t=0}}}function Zo(e,t){return 1!=e.nodeType?0:(t&&"false"==e.childNodes[t-1].contentEditable?1:0)|(t<e.childNodes.length&&"false"==e.childNodes[t].contentEditable?2:0)}var ea=function(){function e(){h(this,e),this.changes=[]}return m(e,[{key:"compareRange",value:function(e,t){Ui(e,t,this.changes)}},{key:"comparePoint",value:function(e,t){Ui(e,t,this.changes)}}]),e}();function ta(e,t){for(var n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}function na(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function ra(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function ia(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function oa(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function aa(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function sa(e,t,n){for(var r,i,o,a,s,l,u,c,f=!1,h=e.firstChild;h;h=h.nextSibling)for(var d=Hr(h),p=0;p<d.length;p++){var v=d[p];i&&ia(i,v)&&(v=oa(aa(v,i.bottom),i.top));var m=na(t,v),g=ra(n,v);if(0==m&&0==g)return 3==h.nodeType?la(h,t,n):sa(h,t,n);(!r||a>g||a==g&&o>m)&&(r=h,i=v,o=m,a=g,f=!m||(m>0?p<d.length-1:p>0)),0==m?n>v.bottom&&(!u||u.bottom<v.bottom)?(s=h,u=v):n<v.top&&(!c||c.top>v.top)&&(l=h,c=v):u&&ia(u,v)?u=aa(u,v.bottom):c&&ia(c,v)&&(c=oa(c,v.top))}if(u&&u.bottom>=n?(r=s,i=u):c&&c.top<=n&&(r=l,i=c),!r)return{node:e,offset:0};var y=Math.max(i.left,Math.min(i.right,t));return 3==r.nodeType?la(r,y,n):f&&"false"!=r.contentEditable?sa(r,y,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(i.left+i.right)/2?1:0)}}function la(e,t,n){for(var r=e.nodeValue.length,i=-1,o=1e9,a=0,s=0;s<r;s++)for(var l=ti(e,s,s+1).getClientRects(),u=0;u<l.length;u++){var c=l[u];if(c.top!=c.bottom){a||(a=t-c.left);var f=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&f<o){var h=t>=(c.left+c.right)/2,d=h;if(Si.chrome||Si.gecko)ti(e,s).getBoundingClientRect().left==c.right&&(d=!h);if(f<=0)return{node:e,offset:s+(d?1:0)};i=s+(d?1:0),o=f}}}return{node:e,offset:i>-1?i:a>0?e.nodeValue.length:0}}function ua(e,t,n){var r,i,o=t.x,a=t.y,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,l=e.contentDOM.getBoundingClientRect(),u=l.top+e.viewState.paddingTop,c=e.viewState.docHeight,f=a-u;if(f<0)return 0;if(f>c)return e.state.doc.length;for(var h=e.defaultLineHeight/2,d=!1;(i=e.elementAtHeight(f)).type!=zi.Text;)for(;!((f=s>0?i.bottom+h:i.top-h)>=0&&f<=c);){if(d)return n?null:0;d=!0,s=-s}a=u+f;var p=i.from;if(p<e.viewport.from)return 0==e.viewport.from?0:n?null:ca(e,l,i,o,a);if(p>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:ca(e,l,i,o,a);var v=e.dom.ownerDocument,m=e.root.elementFromPoint?e.root:v,g=m.elementFromPoint(o,a);g&&!e.contentDOM.contains(g)&&(g=null),g||(o=Math.max(l.left+1,Math.min(l.right-1,o)),(g=m.elementFromPoint(o,a))&&!e.contentDOM.contains(g)&&(g=null));var y,b=-1;if(g&&0!=(null===(r=e.docView.nearest(g))||void 0===r?void 0:r.isEditable))if(v.caretPositionFromPoint){var k=v.caretPositionFromPoint(o,a);k&&(y=k.offsetNode,b=k.offset)}else if(v.caretRangeFromPoint){var w=v.caretRangeFromPoint(o,a);w&&(y=w.startContainer,b=w.startOffset,(!e.contentDOM.contains(y)||Si.safari&&fa(y,b,o)||Si.chrome&&ha(y,b,o))&&(y=void 0))}if(!y||!e.docView.dom.contains(y)){var x=$i.find(e.docView,p);if(!x)return f>i.top+i.height/2?i.to:i.from;var S=sa(x.dom,o,a);y=S.node,b=S.offset}return e.docView.posFromDOM(y,b)}function ca(e,t,n,r,i){var o=Math.round((r-t.left)*e.defaultCharacterWidth);e.lineWrapping&&n.height>1.5*e.defaultLineHeight&&(o+=Math.floor((i-n.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength);var a=e.state.sliceDoc(n.from,n.to);return n.from+jr(a,o,e.state.tabSize)}function fa(e,t,n){var r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(var i=e.nextSibling;i;i=i.nextSibling)if(1!=i.nodeType||"BR"!=i.nodeName)return!1;return ti(e,r-1,r).getBoundingClientRect().left>n}function ha(e,t,n){if(0!=t)return!1;for(var r=e;;){var i=r.parentNode;if(!i||1!=i.nodeType||i.firstChild!=r)return!1;if(i.classList.contains("cm-line"))break;r=i}return n-(1==e.nodeType?e.getBoundingClientRect():ti(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect()).left>5}function da(e,t,n,r){var i=e.state.doc.lineAt(t.head),o=r&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head):null;if(o){var a=e.dom.getBoundingClientRect(),s=e.textDirectionAt(i.from),l=e.posAtCoords({x:n==(s==xo.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(null!=l)return vn.cursor(l,n?-1:1)}var u=$i.find(e.docView,t.head),c=u?n?u.posAtEnd:u.posAtStart:n?i.to:i.from;return vn.cursor(c,n?-1:1)}function pa(e,t,n,r){for(var i=e.state.doc.lineAt(t.head),o=e.bidiSpans(i),a=e.textDirectionAt(i.from),s=t,l=null;;){var u=Wo(i,o,a,s,n),c=Vo;if(!u){if(i.number==(n?e.state.doc.lines:1))return s;c="\n",i=e.state.doc.line(i.number+(n?1:-1)),o=e.bidiSpans(i),u=vn.cursor(n?i.from:i.to)}if(l){if(!l(c))return s}else{if(!r)return u;l=r(c)}s=u}}function va(e,t,n){for(var r=e.state.facet(go).map((function(t){return t(e)})),i=function(){var e,i=!1,o=_(r);try{for(o.s();!(e=o.n()).done;){e.value.between(n.from-1,n.from+1,(function(e,r,o){n.from>e&&n.from<r&&(n=t.head>n.from?vn.cursor(e,1):vn.cursor(r,-1),i=!0)}))}}catch(a){o.e(a)}finally{o.f()}if(!i)return{v:n}};;){var o=i();if("object"===typeof o)return o.v}}var ma=function(){function e(t){var n=this;h(this,e),this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;var r=function(e,r){n.ignoreDuringComposition(r)||"keydown"==r.type&&n.keydown(t,r)||(n.mustFlushObserver(r)&&t.observer.forceFlush(),n.runCustomHandlers(r.type,t,r)?r.preventDefault():e(t,r))},i=function(){var e=Sa[o];t.contentDOM.addEventListener(o,(function(n){xa(t,n)&&r(e,n)}),Ca[o]),n.registeredEvents.push(o)};for(var o in Sa)i();t.scrollDOM.addEventListener("mousedown",(function(e){e.target==t.scrollDOM&&r(Sa.mousedown,e)})),Si.chrome&&102==Si.chrome_version&&t.scrollDOM.addEventListener("wheel",(function(){n.chromeScrollHack<0?t.contentDOM.style.pointerEvents="none":window.clearTimeout(n.chromeScrollHack),n.chromeScrollHack=setTimeout((function(){n.chromeScrollHack=-1,t.contentDOM.style.pointerEvents=""}),100)}),{passive:!0}),this.notifiedFocused=t.hasFocus,Si.safari&&t.contentDOM.addEventListener("input",(function(){return null}))}return m(e,[{key:"setSelectionOrigin",value:function(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(e,t){var n,r,i=this;this.customHandlers=[];var o,a=_(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(r=null===(n=s.update(e).spec)||void 0===n?void 0:n.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:r});var l=function(t){i.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(i.registeredEvents.push(t),e.contentDOM.addEventListener(t,(function(n){xa(e,n)&&i.runCustomHandlers(t,e,n)&&n.preventDefault()})))};for(var u in r)l(u)}}}catch(c){a.e(c)}finally{a.f()}}},{key:"runCustomHandlers",value:function(e,t,n){var r,i=_(this.customHandlers);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.handlers[e];if(a)try{if(a.call(o.plugin,n,t)||n.defaultPrevented)return!0}catch(s){so(t.state,s)}}}catch(l){i.e(l)}finally{i.f()}return!1}},{key:"runScrollHandlers",value:function(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;var n,r=_(this.customHandlers);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.handlers.scroll;if(o)try{o.call(i.plugin,t,e)}catch(a){so(e.state,a)}}}catch(s){r.e(s)}finally{r.f()}}},{key:"keydown",value:function(e,t){var n,r=this;return this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3||(!Si.android||!Si.chrome||t.synthetic||13!=t.keyCode&&8!=t.keyCode?!(!Si.ios||t.synthetic||t.altKey||t.metaKey||!((n=ga.find((function(e){return e.keyCode==t.keyCode})))&&!t.ctrlKey||ya.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey))&&(this.pendingIOSKey=n||t,setTimeout((function(){return r.flushIOSKey(e)}),250),!0):(e.observer.delayAndroidKey(t.key,t.keyCode),!0))}},{key:"flushIOSKey",value:function(e){var t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,ni(e.contentDOM,t.key,t.keyCode))}},{key:"ignoreDuringComposition",value:function(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Si.safari&&!Si.ios&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}},{key:"mustFlushObserver",value:function(e){return"keydown"==e.type&&229!=e.keyCode}},{key:"startMouseSelection",value:function(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}},{key:"update",value:function(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]),e}(),ga=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],ya="dthko",ba=[16,17,18,20,91,92,224,225];function ka(e){return.7*e+8}var wa=function(){function e(t,n,r,i){h(this,e),this.view=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=function(e){for(var t=e.ownerDocument,n=e.parentNode;n&&n!=t.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(t.contentDOM);var o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=t.state.facet(or.allowMultipleSelections)&&function(e,t){var n=e.state.facet(Yi);return n.length?n[0](t):Si.mac?t.metaKey:t.ctrlKey}(t,n),this.dragMove=function(e,t){var n=e.state.facet(Xi);return n.length?n[0](t):Si.mac?!t.altKey:!t.ctrlKey}(t,n),this.dragging=!(!function(e,t){var n=e.state.selection.main;if(n.empty)return!1;var r=Fr(e.root);if(!r||0==r.rangeCount)return!0;for(var i=r.getRangeAt(0).getClientRects(),o=0;o<i.length;o++){var a=i[o];if(a.left<=t.clientX&&a.right>=t.clientX&&a.top<=t.clientY&&a.bottom>=t.clientY)return!0}return!1}(t,n)||1!=La(n))&&null,!1===this.dragging&&(n.preventDefault(),this.select(n))}return m(e,[{key:"move",value:function(e){var t;if(0==e.buttons)return this.destroy();if(!1===this.dragging){this.select(this.lastEvent=e);var n=0,r=0,i=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=i.left?n=-ka(i.left-e.clientX):e.clientX>=i.right&&(n=ka(e.clientX-i.right)),e.clientY<=i.top?r=-ka(i.top-e.clientY):e.clientY>=i.bottom&&(r=ka(e.clientY-i.bottom)),this.setScrollSpeed(n,r)}}},{key:"up",value:function(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}},{key:"destroy",value:function(){this.setScrollSpeed(0,0);var e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}},{key:"setScrollSpeed",value:function(e,t){var n=this;this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((function(){return n.scroll()}),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}},{key:"scroll",value:function(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}},{key:"select",value:function(e){var t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}},{key:"update",value:function(e){var t=this;e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((function(){return t.select(t.lastEvent)}),20)}}]),e}();function xa(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=si.get(r))&&n.ignoreEvent(t))return!1;return!0}var Sa=Object.create(null),Ca=Object.create(null),ja=Si.ie&&Si.ie_version<15||Si.ios&&Si.webkit_version<604;function _a(e,t){var n,r=e.state,i=1,o=r.toText(t),a=o.lines==r.selection.ranges.length,s=null!=Ba&&r.selection.ranges.every((function(e){return e.empty}))&&Ba==o.toString();if(s){var l=-1;n=r.changeByRange((function(e){var n=r.doc.lineAt(e.from);if(n.from==l)return{range:e};l=n.from;var s=r.toText((a?o.line(i++).text:t)+r.lineBreak);return{changes:{from:n.from,insert:s},range:vn.cursor(e.from+s.length)}}))}else n=a?r.changeByRange((function(e){var t=o.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:vn.cursor(e.from+t.length)}})):r.replaceSelection(o);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Ma(e,t,n,r){if(1==r)return vn.cursor(t,n);if(2==r)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.charCategorizer(t),i=e.doc.lineAt(t),o=t-i.from;if(0==i.length)return vn.cursor(t);0==o?n=1:o==i.length&&(n=-1);var a=o,s=o;n<0?a=Jt(i.text,o,!1):s=Jt(i.text,o);for(var l=r(i.text.slice(a,s));a>0;){var u=Jt(i.text,a,!1);if(r(i.text.slice(u,a))!=l)break;a=u}for(;s<i.length;){var c=Jt(i.text,s);if(r(i.text.slice(s,c))!=l)break;s=c}return vn.range(a+i.from,s+i.from)}(e.state,t,n);var i=$i.find(e.docView,t),o=e.state.doc.lineAt(i?i.posAtEnd:t),a=i?i.posAtStart:o.from,s=i?i.posAtEnd:o.to;return s<e.state.doc.length&&s==o.to&&s++,vn.range(a,s)}Sa.keydown=function(e,t){e.inputState.setSelectionOrigin("select"),27==t.keyCode?e.inputState.lastEscPress=Date.now():ba.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0)},Sa.touchstart=function(e,t){e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},Sa.touchmove=function(e){e.inputState.setSelectionOrigin("select.pointer")},Ca.touchstart=Ca.touchmove={passive:!0},Sa.mousedown=function(e,t){if(e.observer.flush(),!(e.inputState.lastTouchTime>Date.now()-2e3)){var n,r=null,i=_(e.state.facet(Zi));try{for(i.s();!(n=i.n()).done;){if(r=(0,n.value)(e,t))break}}catch(a){i.e(a)}finally{i.f()}if(r||0!=t.button||(r=function(e,t){var n=Na(e,t),r=La(t),i=e.state.selection;return{update:function(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),i=i.map(e.changes))},get:function(t,o,a){var s=Na(e,t),l=Ma(e,s.pos,s.bias,r);if(n.pos!=s.pos&&!o){var u=Ma(e,n.pos,n.bias,r),c=Math.min(u.from,l.from),f=Math.max(u.to,l.to);l=c<l.from?vn.range(c,f):vn.range(f,c)}return o?i.replaceRange(i.main.extend(l.from,l.to)):a&&i.ranges.length>1&&i.ranges.some((function(e){return e.eq(l)}))?function(e,t){for(var n=0;;n++)if(e.ranges[n].eq(t))return vn.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}(i,l):a?i.addRange(l):vn.create([l])}}}(e,t)),r){var o=e.root.activeElement!=e.contentDOM;o&&e.observer.ignore((function(){return ei(e.contentDOM)})),e.inputState.startMouseSelection(new wa(e,t,r,o))}}};var Ea=function(e,t){return e>=t.top&&e<=t.bottom},Aa=function(e,t,n){return Ea(t,n)&&e>=n.left&&e<=n.right};function Ta(e,t,n,r){var i=$i.find(e.docView,t);if(!i)return 1;var o=t-i.posAtStart;if(0==o)return 1;if(o==i.length)return-1;var a=i.coordsAt(o,-1);if(a&&Aa(n,r,a))return-1;var s=i.coordsAt(o,1);return s&&Aa(n,r,s)?1:a&&Ea(r,a)?-1:1}function Na(e,t){var n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:Ta(e,n,t.clientX,t.clientY)}}var Oa=Si.ie&&Si.ie_version<=11,Da=null,Pa=0,Ra=0;function La(e){if(!Oa)return e.detail;var t=Da,n=Ra;return Da=e,Ra=Date.now(),Pa=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Pa+1)%3:1}function Ia(e,t,n,r){if(n){var i=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();var o=e.inputState.mouseSelection,a=r&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,s={from:i,insert:n},l=e.state.changes(a?[a,s]:s);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"})}}Sa.dragstart=function(e,t){var n=e.state.selection.main,r=e.inputState.mouseSelection;r&&(r.dragging=n),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove")},Sa.drop=function(e,t){if(t.dataTransfer){if(e.state.readOnly)return t.preventDefault();var n=t.dataTransfer.files;if(n&&n.length){t.preventDefault();for(var r=Array(n.length),i=0,o=function(){++i==n.length&&Ia(e,t,r.filter((function(e){return null!=e})).join(e.state.lineBreak),!1)},a=function(e){var t=new FileReader;t.onerror=o,t.onload=function(){/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),o()},t.readAsText(n[e])},s=0;s<n.length;s++)a(s)}else Ia(e,t,t.dataTransfer.getData("Text"),!0)}},Sa.paste=function(e,t){if(e.state.readOnly)return t.preventDefault();e.observer.flush();var n=ja?null:t.clipboardData;n?(_a(e,n.getData("text/plain")),t.preventDefault()):function(e){var t=e.dom.parentNode;if(t){var n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((function(){e.focus(),n.remove(),_a(e,n.value)}),50)}}(e)};var Ba=null;function za(e){setTimeout((function(){e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)}Sa.copy=Sa.cut=function(e,t){var n=function(e){var t,n=[],r=[],i=!1,o=_(e.selection.ranges);try{for(o.s();!(t=o.n()).done;){var a=t.value;a.empty||(n.push(e.sliceDoc(a.from,a.to)),r.push(a))}}catch(h){o.e(h)}finally{o.f()}if(!n.length){var s,l=-1,u=_(e.selection.ranges);try{for(u.s();!(s=u.n()).done;){var c=s.value.from,f=e.doc.lineAt(c);f.number>l&&(n.push(f.text),r.push({from:f.from,to:Math.min(e.doc.length,f.to+1)})),l=f.number}}catch(h){u.e(h)}finally{u.f()}i=!0}return{text:n.join(e.lineBreak),ranges:r,linewise:i}}(e.state),r=n.text,i=n.ranges,o=n.linewise;if(r||o){Ba=o?r:null;var a=ja?null:t.clipboardData;a?(t.preventDefault(),a.clearData(),a.setData("text/plain",r)):function(e,t){var n=e.dom.parentNode;if(n){var r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((function(){r.remove(),e.focus()}),50)}}(e,r),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})}},Sa.focus=function(e){e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),za(e)},Sa.blur=function(e){e.observer.clearSelectionRange(),za(e)},Sa.compositionstart=Sa.compositionupdate=function(e){null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)},Sa.compositionend=function(e){e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,Si.chrome&&Si.android&&e.observer.flushSoon(),setTimeout((function(){e.inputState.composing<0&&e.docView.compositionDeco.size&&e.update([])}),50)},Sa.contextmenu=function(e){e.inputState.lastContextMenu=Date.now()},Sa.beforeinput=function(e,t){var n,r;if(Si.chrome&&Si.android&&(r=ga.find((function(e){return e.inputType==t.inputType})))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){var i=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((function(){var t;((null===(t=window.visualViewport)||void 0===t?void 0:t.height)||0)>i+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};var Fa=["pre-wrap","normal","pre-line","break-spaces"],Va=function(){function e(t){h(this,e),this.lineWrapping=t,this.doc=Rt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}return m(e,[{key:"heightForGap",value:function(e,t){var n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}},{key:"heightForLine",value:function(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(e){return this.doc=e,this}},{key:"mustRefreshForWrapping",value:function(e){return Fa.indexOf(e)>-1!=this.lineWrapping}},{key:"mustRefreshForHeights",value:function(e){for(var t=!1,n=0;n<e.length;n++){var r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}},{key:"refresh",value:function(e,t,n,r,i){var o=Fa.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=n,this.lineLength=r,a){this.heightSamples={};for(var s=0;s<i.length;s++){var l=i[s];l<0?s++:this.heightSamples[Math.floor(10*l)]=!0}}return a}}]),e}(),Wa=function(){function e(t,n){h(this,e),this.from=t,this.heights=n,this.index=0}return m(e,[{key:"more",get:function(){return this.index<this.heights.length}}]),e}(),Ha=function(){function e(t,n,r,i,o){h(this,e),this.from=t,this.length=n,this.top=r,this.height=i,this.type=o}return m(e,[{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}},{key:"join",value:function(t){var n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new e(this.from,this.length+t.length,this.top,this.height+t.height,n)}}]),e}(),qa=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(qa||(qa={})),Ua=.001,$a=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;h(this,e),this.length=t,this.height=n,this.flags=r}return m(e,[{key:"outdated",get:function(){return(2&this.flags)>0},set:function(e){this.flags=(e?2:0)|-3&this.flags}},{key:"setHeight",value:function(e,t){this.height!=t&&(Math.abs(this.height-t)>Ua&&(e.heightChanged=!0),this.height=t)}},{key:"replace",value:function(t,n,r){return e.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(this)}},{key:"decomposeRight",value:function(e,t){t.push(this)}},{key:"applyChanges",value:function(e,t,n,r){for(var i=this,o=r.length-1;o>=0;o--){var a=r[o],s=a.fromA,l=a.toA,u=a.fromB,c=a.toB,f=i.lineAt(s,qa.ByPosNoHeight,t,0,0),h=f.to>=l?f:i.lineAt(l,qa.ByPosNoHeight,t,0,0);for(c+=h.to-l,l=h.to;o>0&&f.from<=r[o-1].toA;)s=r[o-1].fromA,u=r[o-1].fromB,o--,s<f.from&&(f=i.lineAt(s,qa.ByPosNoHeight,t,0,0));u+=f.from-s,s=f.from;var d=Xa.build(n,e,u,c);i=i.replace(s,l,d)}return i.updateHeight(n,0)}}],[{key:"empty",value:function(){return new Ga(0,0)}},{key:"of",value:function(t){if(1==t.length)return t[0];for(var n=0,r=t.length,i=0,o=0;;)if(n==r)if(i>2*o){var a=t[n-1];a.break?t.splice(--n,1,a.left,null,a.right):t.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else{if(!(o>2*i))break;var s=t[r];s.break?t.splice(r,1,s.left,null,s.right):t.splice(r,1,s.left,s.right),r+=2+s.break,o-=s.size}else if(i<o){var l=t[n++];l&&(i+=l.size)}else{var u=t[--r];u&&(o+=u.size)}var c=0;return null==t[n-1]?(c=1,n--):null==t[n]&&(c=1,r++),new Qa(e.of(t.slice(0,n)),c,e.of(t.slice(r)))}}]),e}();$a.prototype.size=1;var Ka=function(e){y(n,e);var t=S(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e,r)).type=i,o}return m(n,[{key:"blockAt",value:function(e,t,n,r){return new Ha(r,this.length,n,this.height,this.type)}},{key:"lineAt",value:function(e,t,n,r,i){return this.blockAt(0,n,r,i)}},{key:"forEachLine",value:function(e,t,n,r,i,o){e<=i+this.length&&t>=i&&o(this.blockAt(0,n,r,i))}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>3?arguments[3]:void 0;return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]),n}($a),Ga=function(e){y(n,e);var t=S(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,zi.Text)).collapsed=0,i.widgetHeight=0,i}return m(n,[{key:"replace",value:function(e,t,r){var i=r[0];return 1==r.length&&(i instanceof n||i instanceof Ja&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof Ja?i=new n(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):$a.of(r)}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]),n}(Ka),Ja=function(e){y(n,e);var t=S(n);function n(e){return h(this,n),t.call(this,e,0)}return m(n,[{key:"lines",value:function(e,t){var n=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:n,lastLine:r,lineHeight:this.height/(r-n+1)}}},{key:"blockAt",value:function(e,t,n,r){var i=this.lines(t,r),o=i.firstLine,a=i.lastLine,s=i.lineHeight,l=Math.max(0,Math.min(a-o,Math.floor((e-n)/s))),u=t.line(o+l),c=u.from,f=u.length;return new Ha(c,f,n+s*l,s,zi.Text)}},{key:"lineAt",value:function(e,t,n,r,i){if(t==qa.ByHeight)return this.blockAt(e,n,r,i);if(t==qa.ByPosNoHeight){var o=n.lineAt(e),a=o.from,s=o.to;return new Ha(a,s-a,0,0,zi.Text)}var l=this.lines(n,i),u=l.firstLine,c=l.lineHeight,f=n.lineAt(e),h=f.from,d=f.length,p=f.number;return new Ha(h,d,r+c*(p-u),c,zi.Text)}},{key:"forEachLine",value:function(e,t,n,r,i,o){for(var a=this.lines(n,i),s=a.firstLine,l=a.lineHeight,u=Math.max(e,i),c=Math.min(i+this.length,t);u<=c;){var f=n.lineAt(u);u==e&&(r+=l*(f.number-s)),o(new Ha(f.from,f.length,r,l,zi.Text)),r+=l,u=f.to+1}}},{key:"replace",value:function(e,t,r){var i=this.length-t;if(i>0){var o=r[r.length-1];o instanceof n?r[r.length-1]=new n(o.length+i):r.push(null,new n(i-1))}if(e>0){var a=r[0];a instanceof n?r[0]=new n(e+a.length):r.unshift(new n(e-1),null)}return $a.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(new n(e-1),null)}},{key:"decomposeRight",value:function(e,t){t.push(null,new n(this.length-e-1))}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,o=t+this.length;if(i&&i.from<=t+this.length&&i.more){var a=[],s=Math.max(t,i.from),l=-1,u=e.heightChanged;for(i.from>t&&a.push(new n(i.from-t-1).updateHeight(e,t));s<=o&&i.more;){var c=e.doc.lineAt(s).length;a.length&&a.push(null);var f=i.heights[i.index++];-1==l?l=f:Math.abs(f-l)>=Ua&&(l=-2);var h=new Ga(c,f);h.outdated=!1,a.push(h),s+=c+1}s<=o&&a.push(null,new n(o-s).updateHeight(e,s));var d=$a.of(a);return e.heightChanged=u||l<0||Math.abs(d.height-this.height)>=Ua||Math.abs(l-this.lines(e.doc,t).lineHeight)>=Ua,d}return(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]),n}($a),Qa=function(e){y(n,e);var t=S(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e.length+r+i.length,e.height+i.height,r|(e.outdated||i.outdated?2:0))).left=e,o.right=i,o.size=e.size+i.size,o}return m(n,[{key:"break",get:function(){return 1&this.flags}},{key:"blockAt",value:function(e,t,n,r){var i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,i,r+this.left.length+this.break)}},{key:"lineAt",value:function(e,t,n,r,i){var o=r+this.left.height,a=i+this.left.length+this.break,s=t==qa.ByHeight?e<o:e<a,l=s?this.left.lineAt(e,t,n,r,i):this.right.lineAt(e,t,n,o,a);if(this.break||(s?l.to<a:l.from>a))return l;var u=t==qa.ByPosNoHeight?qa.ByPosNoHeight:qa.ByPos;return s?l.join(this.right.lineAt(a,u,n,o,a)):this.left.lineAt(a,u,n,r,i).join(l)}},{key:"forEachLine",value:function(e,t,n,r,i,o){var a=r+this.left.height,s=i+this.left.length+this.break;if(this.break)e<s&&this.left.forEachLine(e,t,n,r,i,o),t>=s&&this.right.forEachLine(e,t,n,a,s,o);else{var l=this.lineAt(s,qa.ByPos,n,r,i);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,i,o),l.to>=e&&l.from<=t&&o(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,a,s,o)}}},{key:"replace",value:function(e,t,n){var r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));var i=[];e>0&&this.decomposeLeft(e,i);var o,a=i.length,s=_(n);try{for(s.s();!(o=s.n()).done;){var l=o.value;i.push(l)}}catch(c){s.e(c)}finally{s.f()}if(e>0&&Ya(i,a-1),t<this.length){var u=i.length;this.decomposeRight(t,i),Ya(i,u)}return $a.of(i)}},{key:"decomposeLeft",value:function(e,t){var n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&e>=++n&&t.push(null),e>n&&this.right.decomposeLeft(e-n,t)}},{key:"decomposeRight",value:function(e,t){var n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}},{key:"balanced",value:function(e,t){return e.size>2*t.size||t.size>2*e.size?$a.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=this.left,o=this.right,a=t+i.length+this.break,s=null;return r&&r.from<=t+i.length&&r.more?s=i=i.updateHeight(e,t,n,r):i.updateHeight(e,t,n),r&&r.from<=a+o.length&&r.more?s=o=o.updateHeight(e,a,n,r):o.updateHeight(e,a,n),s?this.balanced(i,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}},{key:"toString",value:function(){return this.left+(this.break?" ":"-")+this.right}}]),n}($a);function Ya(e,t){var n,r;null==e[t]&&(n=e[t-1])instanceof Ja&&(r=e[t+1])instanceof Ja&&e.splice(t-1,3,new Ja(n.length+1+r.length))}var Xa=function(){function e(t,n){h(this,e),this.pos=t,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}return m(e,[{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"span",value:function(e,t){if(this.lineStart>-1){var n=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Ga?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Ga(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}},{key:"point",value:function(e,t,n){if(e<t||n.heightRelevant){var r=n.widget?n.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);var i=t-e;n.block?this.addBlock(new Ka(i,r,n.type)):(i||r>=5)&&this.addLineDeco(r,i)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(this.lineStart>-1)){var e=this.oracle.doc.lineAt(this.pos),t=e.from,n=e.to;this.lineStart=t,this.lineEnd=n,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Ga(this.pos-t,-1)),this.writtenTo=this.pos}}},{key:"blankContent",value:function(e,t){var n=new Ja(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}},{key:"ensureLine",value:function(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ga)return e;var t=new Ga(0,-1);return this.nodes.push(t),t}},{key:"addBlock",value:function(e){this.enterLine(),e.type!=zi.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=zi.WidgetBefore&&(this.covering=e)}},{key:"addLineDeco",value:function(e,t){var n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}},{key:"finish",value:function(e){var t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Ga||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Ga(0,-1));var n,r=e,i=_(this.nodes);try{for(i.s();!(n=i.n()).done;){var o=n.value;o instanceof Ga&&o.updateHeight(this.oracle,r),r+=o?o.length:1}}catch(a){i.e(a)}finally{i.f()}return this.nodes}}],[{key:"build",value:function(t,n,r,i){var o=new e(r,t);return fr.spans(n,r,i,o,0),o.finish(r)}}]),e}();function Za(e,t,n){var r=new es;return fr.compare(e,t,n,r,0),r.changes}var es=function(){function e(){h(this,e),this.changes=[]}return m(e,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&Ui(e,t,this.changes,5)}}]),e}();function ts(e,t){for(var n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),a=Math.min(i.innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom),u=e.parentNode;u&&u!=r.body;)if(1==u.nodeType){var c=u,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&"visible"!=f.overflow){var h=c.getBoundingClientRect();o=Math.max(o,h.left),a=Math.min(a,h.right),s=Math.max(s,h.top),l=u==e.parentNode?h.bottom:Math.min(l,h.bottom)}u="absolute"==f.position||"fixed"==f.position?c.offsetParent:c.parentNode}else{if(11!=u.nodeType)break;u=u.host}return{left:o-n.left,right:Math.max(o,a)-n.left,top:s-(n.top+t),bottom:Math.max(s,l)-(n.top+t)}}function ns(e,t){var n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}var rs=function(){function e(t,n,r){h(this,e),this.from=t,this.to=n,this.size=r}return m(e,[{key:"draw",value:function(e){return Fi.replace({widget:new is(this.size,e)}).range(this.from,this.to)}}],[{key:"same",value:function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}}]),e}(),is=function(e){y(n,e);var t=S(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).size=e,i.vertical=r,i}return m(n,[{key:"eq",value:function(e){return e.size==this.size&&e.vertical==this.vertical}},{key:"toDOM",value:function(){var e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}},{key:"estimatedHeight",get:function(){return this.vertical?this.size:-1}}]),n}(Bi),os=function(){function e(t){h(this,e),this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=cs,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=xo.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;var n=t.facet(vo).some((function(e){return"function"!=typeof e&&"cm-lineWrapping"==e.class}));this.heightOracle=new Va(n),this.stateDeco=t.facet(mo).filter((function(e){return"function"!=typeof e})),this.heightMap=$a.empty().applyChanges(this.stateDeco,Rt.empty,this.heightOracle.setDoc(t.doc),[new ko(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Fi.set(this.lineGaps.map((function(e){return e.draw(!1)}))),this.computeVisibleRanges()}return m(e,[{key:"updateForViewport",value:function(){for(var e=this,t=[this.viewport],n=this.state.selection.main,r=function(){var r=i?n.head:n.anchor;if(!t.some((function(e){var t=e.from,n=e.to;return r>=t&&r<=n}))){var o=e.lineBlockAt(r),a=o.from,s=o.to;t.push(new as(a,s))}},i=0;i<=1;i++)r();this.viewports=t.sort((function(e,t){return e.from-t.from})),this.scaler=this.heightMap.height<=7e6?cs:new fs(this.heightOracle.doc,this.heightMap,this.viewports)}},{key:"updateViewportLines",value:function(){var e=this;this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(function(t){e.viewportLines.push(1==e.scaler.scale?t:hs(t,e.scaler))}))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state=e.state;var n=this.stateDeco;this.stateDeco=this.state.facet(mo).filter((function(e){return"function"!=typeof e}));var r=e.changedRanges,i=ko.extendWithRanges(r,Za(n,this.stateDeco,e?e.changes:sn.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=o&&(e.flags|=2);var a=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));var s=!e.changes.empty||2&e.flags||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),s&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(io)&&(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(e){var t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?xo.RTL:xo.LTR;var o=this.heightOracle.mustRefreshForWrapping(i),a=o||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;var s=0,l=0,u=parseInt(n.paddingTop)||0,c=parseInt(n.paddingBottom)||0;this.paddingTop==u&&this.paddingBottom==c||(this.paddingTop=u,this.paddingBottom=c,s|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,s|=8);var f=(this.printing?ns:ts)(t,this.paddingTop),h=f.top-this.pixelViewport.top,d=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;var p=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(p!=this.inView&&(this.inView=p,p&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;var v=t.clientWidth;if(this.contentDOMWidth==v&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=v,this.editorHeight=e.scrollDOM.clientHeight,s|=8),a){var m=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(m)&&(o=!0),o||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){var g=e.docView.measureTextSize(),y=g.lineHeight,b=g.charWidth;(o=y>0&&r.refresh(i,y,b,v/b,m))&&(e.docView.minWidth=0,s|=8)}h>0&&d>0?l=Math.max(h,d):h<0&&d<0&&(l=Math.min(h,d)),r.heightChanged=!1;var k,w=_(this.viewports);try{for(w.s();!(k=w.n()).done;){var x=k.value,S=x.from==this.viewport.from?m:e.docView.measureVisibleLineHeights(x);this.heightMap=(o?$a.empty().applyChanges(this.stateDeco,Rt.empty,this.heightOracle,[new ko(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new Wa(x.from,S))}}catch(j){w.e(j)}finally{w.f()}r.heightChanged&&(s|=2)}var C=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return C&&(this.viewport=this.getViewport(l,this.scrollTarget)),this.updateForViewport(),(2&s||C)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),s|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),s}},{key:"visibleTop",get:function(){return this.scaler.fromDOM(this.pixelViewport.top)}},{key:"visibleBottom",get:function(){return this.scaler.fromDOM(this.pixelViewport.bottom)}},{key:"getViewport",value:function(e,t){var n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,i=this.state.doc,o=this.visibleTop,a=this.visibleBottom,s=new as(r.lineAt(o-1e3*n,qa.ByHeight,i,0,0).from,r.lineAt(a+1e3*(1-n),qa.ByHeight,i,0,0).to);if(t){var l=t.range.head;if(l<s.from||l>s.to){var u,c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=r.lineAt(l,qa.ByPos,i,0,0);u="center"==t.y?(f.top+f.bottom)/2-c/2:"start"==t.y||"nearest"==t.y&&l<s.from?f.top:f.bottom-c,s=new as(r.lineAt(u-500,qa.ByHeight,i,0,0).from,r.lineAt(u+c+500,qa.ByHeight,i,0,0).to)}}return s}},{key:"mapViewport",value:function(e,t){var n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new as(this.heightMap.lineAt(n,qa.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,qa.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(e){var t=e.from,n=e.to,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.inView)return!0;var i=this.heightMap.lineAt(t,qa.ByPos,this.state.doc,0,0),o=i.top,a=this.heightMap.lineAt(n,qa.ByPos,this.state.doc,0,0),s=a.bottom,l=this.visibleTop,u=this.visibleBottom;return(0==t||o<=l-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=u+Math.max(10,Math.min(r,250)))&&o>l-2e3&&s<u+2e3}},{key:"mapLineGaps",value:function(e,t){if(!e.length||t.empty)return e;var n,r=[],i=_(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.touchesRange(o.from,o.to)||r.push(new rs(t.mapPos(o.from),t.mapPos(o.to),o.size))}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"ensureLineGaps",value:function(e,t){var n=this,r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,a=i<<1;if(this.defaultTextDirection!=xo.LTR&&!r)return[];var s,l=[],u=function i(a,s,u,c){if(!(s-a<o)){var f=n.state.selection.main,h=[f.from];f.empty||h.push(f.to);for(var d=0,p=h;d<p.length;d++){var v=p[d];if(v>a&&v<s)return i(a,v-10,u,c),void i(v+10,s,u,c)}var m=function(e,t){var n,r=_(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t(i))return i}}catch(o){r.e(o)}finally{r.f()}return}(e,(function(e){return e.from>=u.from&&e.to<=u.to&&Math.abs(e.from-a)<o&&Math.abs(e.to-s)<o&&!h.some((function(t){return e.from<t&&e.to>t}))}));if(!m){if(s<u.to&&t&&r&&t.visibleRanges.some((function(e){return e.from<=s&&e.to>=s}))){var g=t.moveToLineBoundary(vn.cursor(s),!1,!0).head;g>a&&(s=g)}m=new rs(a,s,n.gapSize(u,a,s,c))}l.push(m)}},c=_(this.viewportLines);try{for(c.s();!(s=c.n()).done;){var f=s.value;if(!(f.length<a)){var h=ss(f.from,f.to,this.stateDeco);if(!(h.total<a)){var d=this.scrollTarget?this.scrollTarget.range.head:null,p=void 0,v=void 0;if(r){var m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,g=void 0,y=void 0;if(null!=d){var b=us(h,d),k=((this.visibleBottom-this.visibleTop)/2+m)/f.height;g=b-k,y=b+k}else g=(this.visibleTop-f.top-m)/f.height,y=(this.visibleBottom-f.top+m)/f.height;p=ls(h,g),v=ls(h,y)}else{var w=h.total*this.heightOracle.charWidth,x=i*this.heightOracle.charWidth,S=void 0,C=void 0;if(null!=d){var j=us(h,d),M=((this.pixelViewport.right-this.pixelViewport.left)/2+x)/w;S=j-M,C=j+M}else S=(this.pixelViewport.left-x)/w,C=(this.pixelViewport.right+x)/w;p=ls(h,S),v=ls(h,C)}p>f.from&&u(f.from,p,f,h),v<f.to&&u(v,f.to,f,h)}}}}catch(E){c.e(E)}finally{c.f()}return l}},{key:"gapSize",value:function(e,t,n,r){var i=us(r,n)-us(r,t);return this.heightOracle.lineWrapping?e.height*i:r.total*this.heightOracle.charWidth*i}},{key:"updateLineGaps",value:function(e){var t=this;rs.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Fi.set(e.map((function(e){return e.draw(t.heightOracle.lineWrapping)}))))}},{key:"computeVisibleRanges",value:function(){var e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));var t=[];fr.spans(e,this.viewport.from,this.viewport.to,{span:function(e,n){t.push({from:e,to:n})},point:function(){}},20);var n=t.length!=this.visibleRanges.length||this.visibleRanges.some((function(e,n){return e.from!=t[n].from||e.to!=t[n].to}));return this.visibleRanges=t,n?4:0}},{key:"lineBlockAt",value:function(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((function(t){return t.from<=e&&t.to>=e}))||hs(this.heightMap.lineAt(e,qa.ByPos,this.state.doc,0,0),this.scaler)}},{key:"lineBlockAtHeight",value:function(e){return hs(this.heightMap.lineAt(this.scaler.fromDOM(e),qa.ByHeight,this.state.doc,0,0),this.scaler)}},{key:"elementAtHeight",value:function(e){return hs(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}},{key:"docHeight",get:function(){return this.scaler.toDOM(this.heightMap.height)}},{key:"contentHeight",get:function(){return this.docHeight+this.paddingTop+this.paddingBottom}}]),e}(),as=m((function e(t,n){h(this,e),this.from=t,this.to=n}));function ss(e,t,n){var r=[],i=e,o=0;return fr.spans(n,e,t,{span:function(){},point:function(e,t){e>i&&(r.push({from:i,to:e}),o+=e-i),i=t}},20),i<t&&(r.push({from:i,to:t}),o+=t-i),{total:o,ranges:r}}function ls(e,t){var n=e.total,r=e.ranges;if(t<=0)return r[0].from;if(t>=1)return r[r.length-1].to;for(var i=Math.floor(n*t),o=0;;o++){var a=r[o],s=a.from,l=a.to-s;if(i<=l)return s+i;i-=l}}function us(e,t){var n,r=0,i=_(e.ranges);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.from,s=o.to;if(t<=s){r+=t-a;break}r+=s-a}}catch(l){i.e(l)}finally{i.f()}return r/e.total}var cs={toDOM:function(e){return e},fromDOM:function(e){return e},scale:1},fs=function(){function e(t,n,r){h(this,e);var i=0,o=0,a=0;this.viewports=r.map((function(e){var r=e.from,o=e.to,a=n.lineAt(r,qa.ByPos,t,0,0).top,s=n.lineAt(o,qa.ByPos,t,0,0).bottom;return i+=s-a,{from:r,to:o,top:a,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(n.height-i);var s,l=_(this.viewports);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.domTop=a+(u.top-o)*this.scale,a=u.domBottom=u.domTop+(u.bottom-u.top),o=u.bottom}}catch(c){l.e(c)}finally{l.f()}}return m(e,[{key:"toDOM",value:function(e){for(var t=0,n=0,r=0;;t++){var i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return r+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,r=i.domBottom}}},{key:"fromDOM",value:function(e){for(var t=0,n=0,r=0;;t++){var i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-r)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,r=i.domBottom}}}]),e}();function hs(e,t){if(1==t.scale)return e;var n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new Ha(e.from,e.length,n,r-n,Array.isArray(e.type)?e.type.map((function(e){return hs(e,t)})):e.type)}var ds=yn.define({combine:function(e){return e.join(" ")}}),ps=yn.define({combine:function(e){return e.indexOf(!0)>-1}}),vs=Ar.newName(),ms=Ar.newName(),gs=Ar.newName(),ys={"&light":"."+ms,"&dark":"."+gs};function bs(e,t,n){return new Ar(t,{finish:function(t){return/&/.test(t)?t.replace(/&\w*/,(function(t){if("&"==t)return e;if(!n||!n[t])throw new RangeError("Unsupported selector: ".concat(t));return n[t]})):e+" "+t}})}var ks=bs("."+vs,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},ys),ws=m((function e(t,n,r,i){h(this,e),this.typeOver=i,this.bounds=null,this.text="";var o=t.docView,a=o.impreciseHead,s=o.impreciseAnchor;if(t.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=t.docView.domBoundsAround(n,r,0))){var l=a||s?[]:function(e){var t=[];if(e.root.activeElement!=e.contentDOM)return t;var n=e.observer.selectionRange,r=n.anchorNode,i=n.anchorOffset,o=n.focusNode,a=n.focusOffset;r&&(t.push(new $o(r,i)),o==r&&a==i||t.push(new $o(o,a)));return t}(t),u=new qo(l,t.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=function(e,t){if(0==e.length)return null;var n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?vn.single(n+t,r+t):null}(l,this.bounds.from)}else{var c=t.observer.selectionRange,f=a&&a.node==c.focusNode&&a.offset==c.focusOffset||!Vr(t.contentDOM,c.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(c.focusNode,c.focusOffset),d=s&&s.node==c.anchorNode&&s.offset==c.anchorOffset||!Vr(t.contentDOM,c.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(c.anchorNode,c.anchorOffset);this.newSel=vn.single(d,f)}}));function xs(e,t){var n,r=t.newSel,i=e.state.selection.main;if(t.bounds){var o=t.bounds,a=o.from,s=o.to,l=i.from,u=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||Si.android&&t.text.length<s-a)&&(l=i.to,u="end");var c=function(e,t,n,r){var i=Math.min(e.length,t.length),o=0;for(;o<i&&e.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==i&&e.length==t.length)return null;var a=e.length,s=t.length;for(;a>0&&s>0&&e.charCodeAt(a-1)==t.charCodeAt(s-1);)a--,s--;if("end"==r){n-=a+Math.max(0,o-Math.min(a,s))-o}if(a<o&&e.length<t.length){s=(o-=n<=o&&n>=a?o-n:0)+(s-a),a=o}else if(s<o){a=(o-=n<=o&&n>=s?o-n:0)+(a-s),s=o}return{from:o,toA:a,toB:s}}(e.state.doc.sliceString(a,s,Ho),t.text,l-a,u);c&&(Si.chrome&&13==e.inputState.lastKeyCode&&c.toB==c.from+2&&t.text.slice(c.from,c.toB)==Ho+Ho&&c.toB--,n={from:a+c.from,to:a+c.toA,insert:Rt.of(t.text.slice(c.from,c.toB).split(Ho))})}else!r||e.hasFocus&&e.state.facet(lo)&&!r.main.eq(i)||(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:(Si.mac||Si.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())?(r&&2==n.insert.length&&(r=vn.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Rt.of([" "])}):Si.chrome&&n&&n.from==n.to&&n.from==i.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(r&&(r=vn.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Rt.of([" "])}),n){var f=e.state;if(Si.ios&&e.inputState.flushIOSKey(e))return!0;if(Si.android&&(n.from==i.from&&n.to==i.to&&1==n.insert.length&&2==n.insert.lines&&ni(e.contentDOM,"Enter",13)||n.from==i.from-1&&n.to==i.to&&0==n.insert.length&&ni(e.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&0==n.insert.length&&ni(e.contentDOM,"Delete",46)))return!0;var h,d=n.insert.toString();if(e.state.facet(no).some((function(t){return t(e,n.from,n.to,d)})))return!0;if(e.inputState.composing>=0&&e.inputState.composing++,n.from>=i.from&&n.to<=i.to&&n.to-n.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==n.from+n.insert.length)&&e.inputState.composing<0){var p=i.from<n.from?f.sliceDoc(i.from,n.from):"",v=i.to>n.to?f.sliceDoc(n.to,i.to):"";h=f.replaceSelection(e.state.toText(p+n.insert.sliceString(0,void 0,e.state.lineBreak)+v))}else{var m=f.changes(n),g=r&&!f.selection.main.eq(r.main)&&r.main.to<=m.newLength?r.main:void 0;if(f.selection.ranges.length>1&&e.inputState.composing>=0&&n.to<=i.to&&n.to>=i.to-10){var y=e.state.sliceDoc(n.from,n.to),b=Qo(e)||e.state.doc.lineAt(i.head),k=i.to-n.to,w=i.to-i.from;h=f.changeByRange((function(t){if(t.from==i.from&&t.to==i.to)return{changes:m,range:g||t.map(m)};var r=t.to-k,o=r-y.length;if(t.to-t.from!=w||e.state.sliceDoc(o,r)!=y||b&&t.to>=b.from&&t.from<=b.to)return{range:t};var a=f.changes({from:o,to:r,insert:n.insert}),s=t.to-i.to;return{changes:a,range:g?vn.range(Math.max(0,g.anchor+s),Math.max(0,g.head+s)):t.map(a)}}))}else h={changes:m,selection:g&&f.selection.replaceRange(g)}}var x="input.type";return e.composing&&(x+=".compose",e.inputState.compositionFirstChange&&(x+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(h,{scrollIntoView:!0,userEvent:x}),!0}if(r&&!r.main.eq(i)){var S=!1,C="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(S=!0),C=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:S,userEvent:C}),!0}return!1}var Ss={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Cs=Si.ie&&Si.ie_version<=11,js=function(){function e(t){var n=this;h(this,e),this.view=t,this.active=!1,this.selectionRange=new Xr,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((function(e){var r,i=_(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.queue.push(o)}}catch(a){i.e(a)}finally{i.f()}(Si.ie&&Si.ie_version<=11||Si.ios&&t.composing)&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),Cs&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((function(){var e;(null===(e=n.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&n.onResize()})),this.resizeScroll.observe(t.scrollDOM),this.resizeContent=new ResizeObserver((function(){return n.view.requestMeasure()})),this.resizeContent.observe(t.contentDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((function(e){n.parentCheck<0&&(n.parentCheck=setTimeout(n.listenForScroll.bind(n),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=n.intersecting&&(n.intersecting=!n.intersecting,n.intersecting!=n.view.inView&&n.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((function(e){e.length>0&&e[e.length-1].intersectionRatio>0&&n.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}return m(e,[{key:"onScrollChanged",value:function(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}},{key:"onScroll",value:function(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}},{key:"onResize",value:function(){var e=this;this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((function(){e.resizeTimeout=-1,e.view.requestMeasure()}),50))}},{key:"onPrint",value:function(){var e=this;this.view.viewState.printing=!0,this.view.measure(),setTimeout((function(){e.view.viewState.printing=!1,e.view.requestMeasure()}),500)}},{key:"updateGaps",value:function(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((function(t,n){return t!=e[n]})))){this.gapIntersection.disconnect();var t,n=_(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.gapIntersection.observe(r)}}catch(i){n.e(i)}finally{n.f()}this.gaps=e}}},{key:"onSelectionChange",value:function(e){var t=this.selectionChanged;if(this.readSelectionRange()&&!this.delayedAndroidKey){var n=this.view,r=this.selectionRange;if(n.state.facet(lo)?n.root.activeElement==this.dom:Wr(n.dom,r)){var i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(e)?t||(this.selectionChanged=!1):(Si.ie&&Si.ie_version<=11||Si.android&&Si.chrome)&&!n.state.selection.main.empty&&r.focusNode&&qr(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}}}},{key:"readSelectionRange",value:function(){var e=this.view,t=Si.safari&&11==e.root.nodeType&&function(e){for(var t=e.activeElement;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e){var t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;var r=t.startContainer,i=t.startOffset,o=t.endContainer,a=t.endOffset,s=e.docView.domAtPos(e.state.selection.main.anchor);if(qr(s.node,s.offset,o,a)){var l=[o,a,r,i];r=l[0],i=l[1],o=l[2],a=l[3]}return{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:a}}(this.view)||Fr(e.root);if(!t||this.selectionRange.eq(t))return!1;var n=Wr(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){var n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(;;)if(r){if(1!=n.nodeType)return!1;var i=n.childNodes[r-1];"false"==i.contentEditable?r--:r=Kr(n=i)}else{if(n==e)return!0;r=Ur(n),n=n.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}},{key:"setSelectionRange",value:function(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}},{key:"clearSelectionRange",value:function(){this.selectionRange.set(null,0,null,0)}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var e=0,t=null,n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){var r,i=_(this.scrollTargets);try{for(i.s();!(r=i.n()).done;){r.value.removeEventListener("scroll",this.onScroll)}}catch(s){i.e(s)}finally{i.f()}var o,a=_(this.scrollTargets=t);try{for(a.s();!(o=a.n()).done;){o.value.addEventListener("scroll",this.onScroll)}}catch(s){a.e(s)}finally{a.f()}}}},{key:"ignore",value:function(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,Ss),Cs&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),Cs&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clear",value:function(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}},{key:"delayAndroidKey",value:function(e,t){var n,r=this;if(!this.delayedAndroidKey){this.flushingAndroidKey=this.view.win.requestAnimationFrame((function(){var e=r.delayedAndroidKey;e&&(r.clearDelayedAndroidKey(),!r.flush()&&e.force&&ni(r.dom,e.key,e.keyCode))}))}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}},{key:"clearDelayedAndroidKey",value:function(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}},{key:"flushSoon",value:function(){var e=this;this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((function(){e.delayedFlush=-1,e.flush()})))}},{key:"forceFlush",value:function(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}},{key:"processRecords",value:function(){var e,t=this.queue,n=_(this.observer.takeRecords());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(f){n.e(f)}finally{n.f()}t.length&&(this.queue=[]);var i,o=-1,a=-1,s=!1,l=_(t);try{for(l.s();!(i=l.n()).done;){var u=i.value,c=this.readMutation(u);c&&(c.typeOver&&(s=!0),-1==o?(o=c.from,a=c.to):(o=Math.min(c.from,o),a=Math.max(c.to,a)))}}catch(f){l.e(f)}finally{l.f()}return{from:o,to:a,typeOver:s}}},{key:"readChange",value:function(){var e=this.processRecords(),t=e.from,n=e.to,r=e.typeOver,i=this.selectionChanged&&Wr(this.dom,this.selectionRange);return t<0&&!i?null:(t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new ws(this.view,t,n,r))}},{key:"flush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();var t=this.readChange();if(!t)return!1;var n=this.view.state,r=xs(this.view,t);return this.view.state==n&&this.view.update([]),r}},{key:"readMutation",value:function(e){var t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){var n=_s(t,e.previousSibling||e.target.previousSibling,-1),r=_s(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}},{key:"setWindow",value:function(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}},{key:"addWindowListeners",value:function(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}},{key:"removeWindowListeners",value:function(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"destroy",value:function(){var e,t,n,r;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect(),null===(r=this.resizeContent)||void 0===r||r.disconnect();var i,o=_(this.scrollTargets);try{for(o.s();!(i=o.n()).done;){i.value.removeEventListener("scroll",this.onScroll)}}catch(a){o.e(a)}finally{o.f()}this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}]),e}();function _s(e,t,n){for(;t;){var r=si.get(t);if(r&&r.parent==e)return r;var i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}var Ms=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=n.dispatch||function(e){return t.update([e])},this.dispatch=this.dispatch.bind(this),this._root=n.root||ri(n.parent)||document,this.viewState=new os(n.state||or.create(n)),this.plugins=this.state.facet(co).map((function(e){return new ho(e)}));var r,i=_(this.plugins);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.update(this)}}catch(a){i.e(a)}finally{i.f()}this.observer=new js(this),this.inputState=new ma(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Ko(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),n.parent&&n.parent.appendChild(this.dom)}return m(e,[{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"composing",get:function(){return this.inputState.composing>0}},{key:"compositionStarted",get:function(){return this.inputState.composing>=0}},{key:"root",get:function(){return this._root}},{key:"win",get:function(){return this.dom.ownerDocument.defaultView||window}},{key:"dispatch",value:function(){var e;this._dispatch(1==arguments.length&&(arguments.length<=0?void 0:arguments[0])instanceof Gn?arguments.length<=0?void 0:arguments[0]:(e=this.state).update.apply(e,arguments))}},{key:"update",value:function(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");var t,n,r=!1,i=!1,o=this.state,a=_(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=s.state}}catch(k){a.e(k)}finally{a.f()}if(this.destroyed)this.viewState.state=o;else{var l=this.observer.delayedAndroidKey,u=null;if(l?(this.observer.clearDelayedAndroidKey(),((u=this.observer.readChange())&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(or.phrases)!=this.state.facet(or.phrases))return this.setState(o);t=wo.create(this,o,e);var c=this.viewState.scrollTarget;try{this.updateState=2;var f,h=_(e);try{for(h.s();!(f=h.n()).done;){var d=f.value;if(c&&(c=c.map(d.changes)),d.scrollIntoView){var p=d.state.selection.main;c=new oo(p.empty?p:vn.cursor(p.head,p.head>p.anchor?-1:1))}var v,m=_(d.effects);try{for(m.s();!(v=m.n()).done;){var g=v.value;g.is(ao)&&(c=g.value)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){h.e(k)}finally{h.f()}this.viewState.update(t,c),this.bidiCache=Ts.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),r=this.docView.update(t),this.state.facet(bo)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some((function(e){return e.isUserEvent("select.pointer")})))}finally{this.updateState=0}if(t.startState.facet(ds)!=t.state.facet(ds)&&(this.viewState.mustMeasureContent=!0),(r||i||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty){var y,b=_(this.state.facet(to));try{for(b.s();!(y=b.n()).done;){(0,y.value)(t)}}catch(k){b.e(k)}finally{b.f()}}u&&!xs(this,u)&&l.force&&ni(this.contentDOM,l.key,l.keyCode)}}},{key:"setState",value:function(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)this.viewState.state=e;else{this.updateState=2;var t=this.hasFocus;try{var n,r=_(this.plugins);try{for(r.s();!(n=r.n()).done;){n.value.destroy(this)}}catch(a){r.e(a)}finally{r.f()}this.viewState=new os(e),this.plugins=e.facet(co).map((function(e){return new ho(e)})),this.pluginMap.clear();var i,o=_(this.plugins);try{for(o.s();!(i=o.n()).done;){i.value.update(this)}}catch(a){o.e(a)}finally{o.f()}this.docView=new Ko(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}}},{key:"updatePlugins",value:function(e){var t=e.startState.facet(co),n=e.state.facet(co);if(t!=n){var r,i=[],o=_(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=t.indexOf(a);if(s<0)i.push(new ho(a));else{var l=this.plugins[s];l.mustUpdate=e,i.push(l)}}}catch(v){o.e(v)}finally{o.f()}var u,c=_(this.plugins);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.mustUpdate!=e&&f.destroy(this)}}catch(v){c.e(v)}finally{c.f()}this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else{var h,d=_(this.plugins);try{for(d.s();!(h=d.n()).done;){h.value.mustUpdate=e}}catch(v){d.e(v)}finally{d.f()}}for(var p=0;p<this.plugins.length;p++)this.plugins[p].update(this)}},{key:"measure",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.destroyed){this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.forceFlush();var n=null,r=this.scrollDOM,i=r.scrollHeight,o=r.scrollTop,a=r.clientHeight,s=o>i-a-4?i:o;try{for(var l=0;;l++){this.updateState=1;var u=this.viewport,c=this.viewState.lineBlockAtHeight(s),f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}var h=[];if(!(4&f)){var d=[h,this.measureRequests];this.measureRequests=d[0],h=d[1]}var p=h.map((function(t){try{return t.read(e)}catch(n){return so(e.state,n),As}})),v=wo.create(this,this.state,[]),m=!1,g=!1;v.flags|=f,n?n.flags|=f:n=v,this.updateState=2,v.empty||(this.updatePlugins(v),this.inputState.update(v),this.updateAttrs(),m=this.docView.update(v));for(var y=0;y<h.length;y++)if(p[y]!=As)try{var b=h[y];b.write&&b.write(p[y],this)}catch(C){so(this.state,C)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,g=!0;else{var k=this.viewState.lineBlockAt(c.from).top-c.top;(k>1||k<-1)&&(this.scrollDOM.scrollTop+=k,g=!0)}if(m&&this.docView.updateSelection(!0),this.viewport.from==u.from&&this.viewport.to==u.to&&!g&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty){var w,x=_(this.state.facet(to));try{for(x.s();!(w=x.n()).done;){var S=w.value;S(n)}}catch(j){x.e(j)}finally{x.f()}}}}},{key:"themeClasses",get:function(){return vs+" "+(this.state.facet(ps)?gs:ms)+" "+this.state.facet(ds)}},{key:"updateAttrs",value:function(){var e=this,t=Ns(this,po,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(lo)?"true":"false",class:"cm-content",style:"".concat(Si.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),Ns(this,vo,n);var r=this.observer.ignore((function(){var r=Ii(e.contentDOM,e.contentAttrs,n),i=Ii(e.dom,e.editorAttrs,t);return r||i}));return this.editorAttrs=t,this.contentAttrs=n,r}},{key:"showAnnouncements",value:function(t){var n,r=!0,i=_(t);try{for(i.s();!(n=i.n()).done;){var o,a=_(n.value.effects);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.is(e.announce))r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=s.value}}catch(l){a.e(l)}finally{a.f()}}}catch(l){i.e(l)}finally{i.f()}}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(bo),Ar.mount(this.root,this.styleModules.concat(ks).reverse())}},{key:"readMeasured",value:function(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}},{key:"requestMeasure",value:function(e){var t=this;if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((function(){return t.measure()}))),e){if(null!=e.key)for(var n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key)return void(this.measureRequests[n]=e);this.measureRequests.push(e)}}},{key:"plugin",value:function(e){var t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((function(t){return t.spec==e}))||null),t&&t.update(this).value}},{key:"documentTop",get:function(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}},{key:"documentPadding",get:function(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}},{key:"elementAtHeight",value:function(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}},{key:"lineBlockAtHeight",value:function(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}},{key:"viewportLineBlocks",get:function(){return this.viewState.viewportLines}},{key:"lineBlockAt",value:function(e){return this.viewState.lineBlockAt(e)}},{key:"contentHeight",get:function(){return this.viewState.contentHeight}},{key:"moveByChar",value:function(e,t,n){return va(this,e,pa(this,e,t,n))}},{key:"moveByGroup",value:function(e,t){var n=this;return va(this,e,pa(this,e,t,(function(t){return function(e,t,n){var r=e.state.charCategorizer(t),i=r(n);return function(e){var t=r(e);return i==nr.Space&&(i=t),i==t}}(n,e.head,t)})))}},{key:"moveToLineBoundary",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return da(this,e,t,n)}},{key:"moveVertically",value:function(e,t,n){return va(this,e,function(e,t,n,r){var i=t.head,o=n?1:-1;if(i==(n?e.state.doc.length:0))return vn.cursor(i,t.assoc);var a,s=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),u=e.coordsAtPos(i),c=e.documentTop;if(u)null==s&&(s=u.left-l.left),a=o<0?u.top:u.bottom;else{var f=e.viewState.lineBlockAt(i);null==s&&(s=Math.min(l.right-l.left,e.defaultCharacterWidth*(i-f.from))),a=(o<0?f.top:f.bottom)+c}for(var h=l.left+s,d=null!==r&&void 0!==r?r:e.defaultLineHeight>>1,p=0;;p+=10){var v=a+(d+p)*o,m=ua(e,{x:h,y:v},!1,o);if(v<l.top||v>l.bottom||(o<0?m<i:m>i))return vn.cursor(m,t.assoc,void 0,s)}}(this,e,t,n))}},{key:"domAtPos",value:function(e){return this.docView.domAtPos(e)}},{key:"posAtDOM",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.posFromDOM(e,t)}},{key:"posAtCoords",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.readMeasured(),ua(this,e,t)}},{key:"coordsAtPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();var n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;var r=this.state.doc.lineAt(e),i=this.bidiSpans(r),o=i[Io.find(i,e-r.from,-1,t)];return Jr(n,o.dir==xo.LTR==t>0)}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.defaultTextDirection}},{key:"textDirectionAt",value:function(e){return!this.state.facet(ro)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"bidiSpans",value:function(e){if(e.length>Es)return Fo(e.length);var t,n=this.textDirectionAt(e.from),r=_(this.bidiCache);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.from==e.from&&i.dir==n)return i.order}}catch(a){r.e(a)}finally{r.f()}var o=zo(e.text,n);return this.bidiCache.push(new Ts(e.from,e.to,n,o)),o}},{key:"hasFocus",get:function(){var e;return(this.dom.ownerDocument.hasFocus()||Si.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}},{key:"focus",value:function(){var e=this;this.observer.ignore((function(){ei(e.contentDOM),e.docView.updateSelection()}))}},{key:"setRoot",value:function(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}},{key:"destroy",value:function(){var e,t=_(this.plugins);try{for(t.s();!(e=t.n()).done;){e.value.destroy(this)}}catch(n){t.e(n)}finally{t.f()}this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}}],[{key:"scrollIntoView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ao.of(new oo("number"==typeof e?vn.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}},{key:"domEventHandlers",value:function(e){return fo.define((function(){return{}}),{eventHandlers:e})}},{key:"theme",value:function(e,t){var n=Ar.newName(),r=[ds.of(n),bo.of(bs(".".concat(n),e))];return t&&t.dark&&r.push(ps.of(!0)),r}},{key:"baseTheme",value:function(e){return Tn.lowest(bo.of(bs("."+vs,e,ys)))}},{key:"findFromDOM",value:function(e){var t,n=e.querySelector(".cm-content"),r=n&&si.get(n)||si.get(e);return(null===(t=null===r||void 0===r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}]),e}();Ms.styleModule=bo,Ms.inputHandler=no,Ms.perLineTextDirection=ro,Ms.exceptionSink=eo,Ms.updateListener=to,Ms.editable=lo,Ms.mouseSelectionStyle=Zi,Ms.dragMovesSelection=Xi,Ms.clickAddsSelectionRange=Yi,Ms.decorations=mo,Ms.atomicRanges=go,Ms.scrollMargins=yo,Ms.darkTheme=ps,Ms.contentAttributes=vo,Ms.editorAttributes=po,Ms.lineWrapping=Ms.contentAttributes.of({class:"cm-lineWrapping"}),Ms.announce=Kn.define();var Es=4096,As={},Ts=function(){function e(t,n,r,i){h(this,e),this.from=t,this.to=n,this.dir=r,this.order=i}return m(e,null,[{key:"update",value:function(t,n){if(n.empty)return t;for(var r=[],i=t.length?t[t.length-1].dir:xo.LTR,o=Math.max(0,t.length-10);o<t.length;o++){var a=t[o];a.dir!=i||n.touchesRange(a.from,a.to)||r.push(new e(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.order))}return r}}]),e}();function Ns(e,t,n){for(var r=e.state.facet(t),i=r.length-1;i>=0;i--){var o=r[i],a="function"==typeof o?o(e):o;a&&Ri(a,n)}return n}var Os=Si.mac?"mac":Si.windows?"win":Si.linux?"linux":"key";function Ds(e,t){var n,r,i,o,a=e.split(/-(?!$)/),s=a[a.length-1];"Space"==s&&(s=" ");for(var l=0;l<a.length-1;++l){var u=a[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))n=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else if(/^s(hift)?$/i.test(u))i=!0;else{if(!/^mod$/i.test(u))throw new Error("Unrecognized modifier name: "+u);"mac"==t?o=!0:r=!0}}return n&&(s="Alt-"+s),r&&(s="Ctrl-"+s),o&&(s="Meta-"+s),i&&(s="Shift-"+s),s}function Ps(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}var Rs=Tn.default(Ms.domEventHandlers({keydown:function(e,t){return Vs(Bs(t.state),e,t,"editor")}})),Ls=yn.define({enables:Rs}),Is=new WeakMap;function Bs(e){var t=e.facet(Ls),n=Is.get(t);return n||Is.set(t,n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Os,r=Object.create(null),i=Object.create(null),o=function(e,t){var n=i[e];if(null==n)i[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},a=function(e,t,i,a){for(var s,l,u=r[e]||(r[e]=Object.create(null)),c=t.split(/ (?!$)/).map((function(e){return Ds(e,n)})),f=function(){var t=c.slice(0,h).join(" ");o(t,!0),u[t]||(u[t]={preventDefault:!0,run:[function(n){var r=zs={view:n,prefix:t,scope:e};return setTimeout((function(){zs==r&&(zs=null)}),Fs),!0}]})},h=1;h<c.length;h++)f();var d=c.join(" ");o(d,!1);var p=u[d]||(u[d]={preventDefault:!1,run:(null===(l=null===(s=u._any)||void 0===s?void 0:s.run)||void 0===l?void 0:l.slice())||[]});i&&p.run.push(i),a&&(p.preventDefault=!0)},s=_(e);try{for(s.s();!(t=s.n()).done;){var l=t.value,u=l.scope?l.scope.split(" "):["editor"];if(l.any){var c,f=_(u);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=r[h]||(r[h]=Object.create(null));for(var p in d._any||(d._any={preventDefault:!1,run:[]}),d)d[p].run.push(l.any)}}catch(b){f.e(b)}finally{f.f()}}var v=l[n]||l.key;if(v){var m,g=_(u);try{for(g.s();!(m=g.n()).done;){var y=m.value;a(y,v,l.run,l.preventDefault),l.shift&&a(y,"Shift-"+v,l.shift,l.preventDefault)}}catch(b){g.e(b)}finally{g.f()}}}}catch(b){s.e(b)}finally{s.f()}return r}(t.reduce((function(e,t){return e.concat(t)}),[]))),n}var zs=null,Fs=4e3;function Vs(e,t,n,r){var i=function(e){var t=!(Ir&&(e.ctrlKey||e.altKey||e.metaKey)||Lr&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?Dr:Or)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),o=nn(en(i,0))==i.length&&" "!=i,a="",s=!1;zs&&zs.view==n&&zs.scope==r&&(a=zs.prefix+" ",(s=ba.indexOf(t.keyCode)<0)&&(zs=null));var l,u,c=new Set,f=function(e){if(e){var r,i=_(e.run);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(!c.has(o)&&(c.add(o),o(n,t)))return!0}}catch(a){i.e(a)}finally{i.f()}e.preventDefault&&(s=!0)}return!1},h=e[r];if(h){if(f(h[a+Ps(i,t,!o)]))return!0;if(o&&(t.altKey||t.metaKey||t.ctrlKey)&&(l=Or[t.keyCode])&&l!=i){if(f(h[a+Ps(l,t,!0)]))return!0;if(t.shiftKey&&(u=Dr[t.keyCode])!=i&&u!=l&&f(h[a+Ps(u,t,!1)]))return!0}else if(o&&t.shiftKey&&f(h[a+Ps(i,t,!0)]))return!0;if(f(h._any))return!0}return s}var Ws=function(){function e(t,n,r,i,o){h(this,e),this.className=t,this.left=n,this.top=r,this.width=i,this.height=o}return m(e,[{key:"draw",value:function(){var e=document.createElement("div");return e.className=this.className,this.adjust(e),e}},{key:"update",value:function(e,t){return t.className==this.className&&(this.adjust(e),!0)}},{key:"adjust",value:function(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}},{key:"eq",value:function(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}],[{key:"forRange",value:function(t,n,r){if(r.empty){var i=t.coordsAtPos(r.head,r.assoc||1);if(!i)return[];var o=Hs(t);return[new e(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}return $s(t,n,r)}}]),e}();function Hs(e){var t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==xo.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function qs(e,t,n){var r=vn.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(r,!0,!0).from),type:zi.Text}}function Us(e,t){var n=e.lineBlockAt(t);if(Array.isArray(n.type)){var r,i=_(n.type);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.to>t||o.to==t&&(o.to==n.to||o.type==zi.Text))return o}}catch(a){i.e(a)}finally{i.f()}}return n}function $s(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];var r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),o=e.textDirection==xo.LTR,a=e.contentDOM,s=a.getBoundingClientRect(),l=Hs(e),u=window.getComputedStyle(a.firstChild),c=s.left+parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)),f=s.right-parseInt(u.paddingRight),h=Us(e,r),d=Us(e,i),p=h.type==zi.Text?h:null,v=d.type==zi.Text?d:null;if(e.lineWrapping&&(p&&(p=qs(e,r,p)),v&&(v=qs(e,i,v))),p&&v&&p.from==v.from)return k(w(n.from,n.to,p));var m=p?w(n.from,null,p):x(h,!1),g=v?w(null,n.to,v):x(d,!0),y=[];return(p||h).to<(v||d).from-1?y.push(b(c,m.bottom,f,g.top)):m.bottom<g.top&&e.elementAtHeight((m.bottom+g.top)/2).type==zi.Text&&(m.bottom=g.top=(m.bottom+g.top)/2),k(m).concat(y).concat(k(g));function b(e,n,r,i){return new Ws(t,e-l.left,n-l.top-.01,r-e,i-n+.01)}function k(e){for(var t=e.top,n=e.bottom,r=e.horizontal,i=[],o=0;o<r.length;o+=2)i.push(b(r[o],t,r[o+1],n));return i}function w(t,n,r){var i=1e9,a=-1e9,s=[];function l(t,n,l,u,h){var d=e.coordsAtPos(t,t==r.to?-2:2),p=e.coordsAtPos(l,l==r.from?2:-2);i=Math.min(d.top,p.top,i),a=Math.max(d.bottom,p.bottom,a),h==xo.LTR?s.push(o&&n?c:d.left,o&&u?f:p.right):s.push(!o&&u?c:p.left,!o&&n?f:d.right)}var u,h=null!==t&&void 0!==t?t:r.from,d=null!==n&&void 0!==n?n:r.to,p=_(e.visibleRanges);try{for(p.s();!(u=p.n()).done;){var v=u.value;if(v.to>h&&v.from<d)for(var m=Math.max(v.from,h),g=Math.min(v.to,d);;){var y,b=e.state.doc.lineAt(m),k=_(e.bidiSpans(b));try{for(k.s();!(y=k.n()).done;){var w=y.value,x=w.from+b.from,S=w.to+b.from;if(x>=g)break;S>m&&l(Math.max(x,m),null==t&&x<=h,Math.min(S,g),null==n&&S>=d,w.dir)}}catch(C){k.e(C)}finally{k.f()}if((m=b.to+1)>=g)break}}}catch(C){p.e(C)}finally{p.f()}return 0==s.length&&l(h,null==t,d,null==n,e.textDirection),{top:i,bottom:a,horizontal:s}}function x(e,t){var n=s.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}var Ks=function(){function e(t,n){h(this,e),this.view=t,this.layer=n,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,t)}return m(e,[{key:"update",value:function(e){e.startState.facet(Gs)!=e.state.facet(Gs)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}},{key:"setOrder",value:function(e){for(var t=0,n=e.facet(Gs);t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}},{key:"measure",value:function(){return this.layer.markers(this.view)}},{key:"draw",value:function(e){var t=this;if(e.length!=this.drawn.length||e.some((function(e,n){return r=e,i=t.drawn[n],!(r.constructor==i.constructor&&r.eq(i));var r,i}))){var n,r=this.dom.firstChild,i=0,o=_(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.update&&r&&a.constructor&&this.drawn[i].constructor&&a.update(r,this.drawn[i])?(r=r.nextSibling,i++):this.dom.insertBefore(a.draw(),r)}}catch(l){o.e(l)}finally{o.f()}for(;r;){var s=r.nextSibling;r.remove(),r=s}this.drawn=e}}},{key:"destroy",value:function(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}]),e}(),Gs=yn.define();function Js(e){return[fo.define((function(t){return new Ks(t,e)})),Gs.of(e)]}var Qs=!Si.ios,Ys=yn.define({combine:function(e){return ar(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:function(e,t){return Math.min(e,t)},drawRangeCursor:function(e,t){return e||t}})}});function Xs(e){return e.startState.facet(Ys)!=e.startState.facet(Ys)}var Zs=Js({above:!0,markers:function(e){var t,n=e.state,r=n.facet(Ys),i=[],o=_(n.selection.ranges);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=a==n.selection.main;if(a.empty?!s||Qs:r.drawRangeCursor){var l,u=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=a.empty?a:vn.cursor(a.head,a.head>a.anchor?-1:1),f=_(Ws.forRange(e,u,c));try{for(f.s();!(l=f.n()).done;){var h=l.value;i.push(h)}}catch(d){f.e(d)}finally{f.f()}}}}catch(d){o.e(d)}finally{o.f()}return i},update:function(e,t){e.transactions.some((function(e){return e.scrollIntoView}))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");var n=Xs(e);return n&&el(e.state,t),e.docChanged||e.selectionSet||n},mount:function(e,t){el(t.state,e)},class:"cm-cursorLayer"});function el(e,t){t.style.animationDuration=e.facet(Ys).cursorBlinkRate+"ms"}var tl=Js({above:!1,markers:function(e){return e.state.selection.ranges.map((function(t){return t.empty?[]:Ws.forRange(e,"cm-selectionBackground",t)})).reduce((function(e,t){return e.concat(t)}))},update:function(e,t){return e.docChanged||e.selectionSet||e.viewportChanged||Xs(e)},class:"cm-selectionLayer"}),nl={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Qs&&(nl[".cm-line"].caretColor="transparent !important");var rl=Tn.highest(Ms.theme(nl)),il=Kn.define({map:function(e,t){return null==e?null:t.mapPos(e)}}),ol=Cn.define({create:function(){return null},update:function(e,t){return null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce((function(e,t){return t.is(il)?t.value:e}),e)}}),al=fo.fromClass(function(){function e(t){h(this,e),this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}return m(e,[{key:"update",value:function(e){var t,n=e.state.field(ol);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(ol)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}},{key:"readPos",value:function(){var e=this.view.state.field(ol),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;var n=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+this.view.scrollDOM.scrollLeft,top:t.top-n.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}},{key:"drawCursor",value:function(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}},{key:"destroy",value:function(){this.cursor&&this.cursor.remove()}},{key:"setDropPos",value:function(e){this.view.state.field(ol)!=e&&this.view.dispatch({effects:il.of(e)})}}]),e}(),{eventHandlers:{dragover:function(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave:function(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend:function(){this.setDropPos(null)},drop:function(){this.setDropPos(null)}}});function sl(e,t,n,r,i){t.lastIndex=0;for(var o,a=e.iterRange(n,r),s=n;!a.next().done;s+=a.value.length)if(!a.lineBreak)for(;o=t.exec(a.value);)i(s+o.index,o)}var ll=function(){function e(t){h(this,e);var n=t.regexp,r=t.decoration,i=t.decorate,o=t.boundary,a=t.maxLength,s=void 0===a?1e3:a;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=function(e,t,n,r){return i(r,n,n+e[0].length,e,t)};else if("function"==typeof r)this.addMatch=function(e,t,n,i){var o=r(e,t,n);o&&i(n,n+e[0].length,o)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=function(e,t,n,i){return i(n,n+e[0].length,r)}}this.boundary=o,this.maxLength=s}return m(e,[{key:"createDeco",value:function(e){var t,n=this,r=new dr,i=r.add.bind(r),o=_(function(e,t){var n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;var r,i=[],o=_(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.from,l=a.to;s=Math.max(e.state.doc.lineAt(s).from,s-t),l=Math.min(e.state.doc.lineAt(l).to,l+t),i.length&&i[i.length-1].to>=s?i[i.length-1].to=l:i.push({from:s,to:l})}}catch(u){o.e(u)}finally{o.f()}return i}(e,this.maxLength));try{for(o.s();!(t=o.n()).done;){var a=t.value,s=a.from,l=a.to;sl(e.state.doc,this.regexp,s,l,(function(t,r){return n.addMatch(r,e,t,i)}))}}catch(u){o.e(u)}finally{o.f()}return r.finish()}},{key:"updateDeco",value:function(e,t){var n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((function(t,i,o,a){a>e.view.viewport.from&&o<e.view.viewport.to&&(n=Math.min(o,n),r=Math.max(a,r))})),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}},{key:"updateRange",value:function(e,t,n,r){var i,o=this,a=_(e.visibleRanges);try{var s=function(){var a=i.value,s=Math.max(a.from,n),l=Math.min(a.to,r);if(l>s){var u=e.state.doc.lineAt(s),c=u.to<l?e.state.doc.lineAt(l):u,f=Math.max(a.from,u.from),h=Math.min(a.to,c.to);if(o.boundary){for(;s>u.from;s--)if(o.boundary.test(u.text[s-1-u.from])){f=s;break}for(;l<c.to;l++)if(o.boundary.test(c.text[l-c.from])){h=l;break}}var d,p=[],v=function(e,t,n){return p.push(n.range(e,t))};if(u==c)for(o.regexp.lastIndex=f-u.from;(d=o.regexp.exec(u.text))&&d.index<h-u.from;)o.addMatch(d,e,d.index+u.from,v);else sl(e.state.doc,o.regexp,f,h,(function(t,n){return o.addMatch(n,e,t,v)}));t=t.update({filterFrom:f,filterTo:h,filter:function(e,t){return e<f||t>h},add:p})}};for(a.s();!(i=a.n()).done;)s()}catch(l){a.e(l)}finally{a.f()}return t}}]),e}(),ul=null!=/x/.unicode?"gu":"g",cl=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",ul),fl={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},hl=null;var dl=yn.define({combine:function(e){var t=ar(e,{render:null,specialChars:cl,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==hl&&"undefined"!=typeof document&&document.body){var t=document.body.style;hl=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return hl||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,ul)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,ul)),t}});var pl=null;function vl(){return pl||(pl=fo.fromClass(function(){function e(t){h(this,e),this.view=t,this.decorations=Fi.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(dl)),this.decorations=this.decorator.createDeco(t)}return m(e,[{key:"makeDecorator",value:function(e){var t=this;return new ll({regexp:e.specialChars,decoration:function(n,r,i){var o=r.state.doc,a=en(n[0],0);if(9==a){var s=o.lineAt(i),l=r.state.tabSize,u=Cr(s.text,l,i-s.from);return Fi.replace({widget:new gl((l-u%l)*t.view.defaultCharacterWidth)})}return t.decorationCache[a]||(t.decorationCache[a]=Fi.replace({widget:new ml(e,a)}))},boundary:e.replaceTabs?void 0:/[^]/})}},{key:"update",value:function(e){var t=e.state.facet(dl);e.startState.facet(dl)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}}]),e}(),{decorations:function(e){return e.decorations}}))}var ml=function(e){y(n,e);var t=S(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).options=e,i.code=r,i}return m(n,[{key:"eq",value:function(e){return e.code==this.code}},{key:"toDOM",value:function(e){var t=function(e){return e>=32?"\u2022":10==e?"\u2424":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(fl[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;var i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Bi),gl=function(e){y(n,e);var t=S(n);function n(e){var r;return h(this,n),(r=t.call(this)).width=e,r}return m(n,[{key:"eq",value:function(e){return e.width==this.width}},{key:"toDOM",value:function(){var e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Bi);var yl=Fi.line({class:"cm-activeLine"}),bl=fo.fromClass(function(){function e(t){h(this,e),this.decorations=this.getDeco(t)}return m(e,[{key:"update",value:function(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t,n=-1,r=[],i=_(e.state.selection.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=e.lineBlockAt(o.head);a.from>n&&(r.push(yl.range(a.from)),n=a.from)}}catch(s){i.e(s)}finally{i.f()}return Fi.set(r)}}]),e}(),{decorations:function(e){return e.decorations}}),kl=function(e){y(n,e);var t=S(n);function n(e){var r;return h(this,n),(r=t.call(this)).content=e,r}return m(n,[{key:"toDOM",value:function(){var e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild("string"==typeof this.content?document.createTextNode(this.content):this.content),"string"==typeof this.content?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Bi);var wl=2e3;function xl(e,t){var n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,o=i>wl?-1:i==r.length?function(e,t){var n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):Cr(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function Sl(e,t){var n=xl(e,t),r=e.state.selection;return n?{update:function(e){if(e.docChanged){var t=e.changes.mapPos(e.startState.doc.line(n.line).from),i=e.state.doc.lineAt(t);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(e.changes)}},get:function(t,i,o){var a=xl(e,t);if(!a)return r;var s=function(e,t,n){var r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),o=[];if(t.off>wl||n.off>wl||t.col<0||n.col<0)for(var a=Math.min(t.off,n.off),s=Math.max(t.off,n.off),l=r;l<=i;l++){var u=e.doc.line(l);u.length<=s&&o.push(vn.range(u.from+a,u.to+s))}else for(var c=Math.min(t.col,n.col),f=Math.max(t.col,n.col),h=r;h<=i;h++){var d=e.doc.line(h),p=jr(d.text,c,e.tabSize,!0);if(p<0)o.push(vn.cursor(d.to));else{var v=jr(d.text,f,e.tabSize);o.push(vn.range(d.from+p,d.from+v))}}return o}(e.state,n,a);return s.length?o?vn.create(s.concat(r.ranges)):vn.create(s):r}}:null}var Cl={Alt:[18,function(e){return e.altKey}],Control:[17,function(e){return e.ctrlKey}],Shift:[16,function(e){return e.shiftKey}],Meta:[91,function(e){return e.metaKey}]},jl={style:"cursor: crosshair"};var _l="-10000px",Ml=function(){function e(t,n,r){h(this,e),this.facet=n,this.createTooltipView=r,this.input=t.state.facet(n),this.tooltips=this.input.filter((function(e){return e})),this.tooltipViews=this.tooltips.map(r)}return m(e,[{key:"update",value:function(e){var t,n=e.state.facet(this.facet),r=n.filter((function(e){return e}));if(n===this.input){var i,o=_(this.tooltipViews);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.update&&a.update(e)}}catch(g){o.e(g)}finally{o.f()}return!1}for(var s=[],l=0;l<r.length;l++){var u=r[l],c=-1;if(u){for(var f=0;f<this.tooltips.length;f++){var h=this.tooltips[f];h&&h.create==u.create&&(c=f)}if(c<0)s[l]=this.createTooltipView(u);else{var d=s[l]=this.tooltipViews[c];d.update&&d.update(e)}}}var p,v=_(this.tooltipViews);try{for(v.s();!(p=v.n()).done;){var m=p.value;s.indexOf(m)<0&&(m.dom.remove(),null===(t=m.destroy)||void 0===t||t.call(m))}}catch(g){v.e(g)}finally{v.f()}return this.input=n,this.tooltips=r,this.tooltipViews=s,!0}}]),e}();function El(e){var t=e.win;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}var Al=yn.define({combine:function(e){var t,n,r;return{position:Si.ios?"absolute":(null===(t=e.find((function(e){return e.position})))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((function(e){return e.parent})))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find((function(e){return e.tooltipSpace})))||void 0===r?void 0:r.tooltipSpace)||El}}}),Tl=fo.fromClass(function(){function e(t){var n=this;h(this,e),this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;var r=t.state.facet(Al);this.position=r.position,this.parent=r.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Ml(t,Dl,(function(e){return n.createTooltip(e)})),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((function(e){Date.now()>n.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&n.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}return m(e,[{key:"createContainer",value:function(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}},{key:"observeIntersection",value:function(){if(this.intersectionObserver){this.intersectionObserver.disconnect();var e,t=_(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.intersectionObserver.observe(n.dom)}}catch(r){t.e(r)}finally{t.f()}}}},{key:"measureSoon",value:function(){var e=this;this.measureTimeout<0&&(this.measureTimeout=setTimeout((function(){e.measureTimeout=-1,e.maybeMeasure()}),50))}},{key:"update",value:function(e){e.transactions.length&&(this.lastTransaction=Date.now());var t=this.manager.update(e);t&&this.observeIntersection();var n=t||e.geometryChanged,r=e.state.facet(Al);if(r.position!=this.position){this.position=r.position;var i,o=_(this.manager.tooltipViews);try{for(o.s();!(i=o.n()).done;){i.value.dom.style.position=this.position}}catch(u){o.e(u)}finally{o.f()}n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();var a,s=_(this.manager.tooltipViews);try{for(s.s();!(a=s.n()).done;){var l=a.value;this.container.appendChild(l.dom)}}catch(u){s.e(u)}finally{s.f()}n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}},{key:"createTooltip",value:function(e){var t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){var n=document.createElement("div");n.className="cm-tooltip-arrow",t.dom.appendChild(n)}return t.dom.style.position=this.position,t.dom.style.top=_l,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}},{key:"destroy",value:function(){var e,t;this.view.win.removeEventListener("resize",this.measureSoon);var n,r=_(this.manager.tooltipViews);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dom.remove(),null===(e=i.destroy)||void 0===e||e.call(i)}}catch(o){r.e(o)}finally{r.f()}null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}},{key:"readMeasure",value:function(){var e=this,t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((function(t,n){var r=e.manager.tooltipViews[n];return r.getCoords?r.getCoords(t.pos):e.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((function(e){return e.dom.getBoundingClientRect()})),space:this.view.state.facet(Al).tooltipSpace(this.view)}}},{key:"writeMeasure",value:function(e){for(var t=e.editor,n=e.space,r=[],i=0;i<this.manager.tooltips.length;i++){var o=this.manager.tooltips[i],a=this.manager.tooltipViews[i],s=a.dom,l=e.pos[i],u=e.size[i];if(!l||l.bottom<=Math.max(t.top,n.top)||l.top>=Math.min(t.bottom,n.bottom)||l.right<Math.max(t.left,n.left)-.1||l.left>Math.min(t.right,n.right)+.1)s.style.top=_l;else{var c=o.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,f=c?7:0,h=u.right-u.left,d=u.bottom-u.top,p=a.offset||Ol,v=this.view.textDirection==xo.LTR,m=u.width>n.right-n.left?v?n.left:n.right-u.width:v?Math.min(l.left-(c?14:0)+p.x,n.right-h):Math.max(n.left,l.left-h+(c?14:0)-p.x),g=!!o.above;!o.strictSide&&(g?l.top-(u.bottom-u.top)-p.y<n.top:l.bottom+(u.bottom-u.top)+p.y>n.bottom)&&g==n.bottom-l.bottom>l.top-n.top&&(g=!g);var y=(g?l.top-n.top:n.bottom-l.bottom)-f;if(y<d&&!1!==a.resize){if(y<this.view.defaultLineHeight){s.style.top=_l;continue}s.style.height=(d=y)+"px"}else s.style.height&&(s.style.height="");var b=g?l.top-d-f-p.y:l.bottom+f+p.y,k=m+h;if(!0!==a.overlap){var w,x=_(r);try{for(x.s();!(w=x.n()).done;){var S=w.value;S.left<k&&S.right>m&&S.top<b+d&&S.bottom>b&&(b=g?S.top-d-2-f:S.bottom+f+2)}}catch(C){x.e(C)}finally{x.f()}}"absolute"==this.position?(s.style.top=b-e.parent.top+"px",s.style.left=m-e.parent.left+"px"):(s.style.top=b+"px",s.style.left=m+"px"),c&&(c.style.left="".concat(l.left+(v?p.x:-p.x)-(m+14-7),"px")),!0!==a.overlap&&r.push({left:m,top:b,right:k,bottom:b+d}),s.classList.toggle("cm-tooltip-above",g),s.classList.toggle("cm-tooltip-below",!g),a.positioned&&a.positioned(e.space)}}}},{key:"maybeMeasure",value:function(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView))){var e,t=_(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){e.value.dom.style.top=_l}}catch(n){t.e(n)}finally{t.f()}}}}]),e}(),{eventHandlers:{scroll:function(){this.maybeMeasure()}}}),Nl=Ms.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Ol={x:0,y:0},Dl=yn.define({enables:[Tl,Nl]}),Pl=yn.define(),Rl=function(){function e(t){var n=this;h(this,e),this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Ml(t,Pl,(function(e){return n.createHostedView(e)}))}return m(e,[{key:"createHostedView",value:function(e){var t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}},{key:"mount",value:function(e){var t,n=_(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.mount&&r.mount(e)}}catch(i){n.e(i)}finally{n.f()}this.mounted=!0}},{key:"positioned",value:function(e){var t,n=_(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.positioned&&r.positioned(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"update",value:function(e){this.manager.update(e)}}],[{key:"create",value:function(t){return new e(t)}}]),e}(),Ll=Dl.compute([Pl],(function(e){var t=e.facet(Pl).filter((function(e){return e}));return 0===t.length?null:{pos:Math.min.apply(Math,f(t.map((function(e){return e.pos})))),end:Math.max.apply(Math,f(t.filter((function(e){return null!=e.end})).map((function(e){return e.end})))),create:Rl.create,above:t[0].above,arrow:t.some((function(e){return e.arrow}))}})),Il=function(){function e(t,n,r,i,o){h(this,e),this.view=t,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}return m(e,[{key:"update",value:function(){var e=this;this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((function(){return e.startHover()}),20))}},{key:"active",get:function(){return this.view.state.field(this.field)}},{key:"checkHover",value:function(){if(this.hoverTimeout=-1,!this.active){var e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}}},{key:"startHover",value:function(){var e=this;clearTimeout(this.restartTimeout);var t=this.lastMove,n=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(t):null;if(null!=n){var r=this.view.coordsAtPos(n);if(!(null==r||t.y<r.top||t.y>r.bottom||t.x<r.left-this.view.defaultCharacterWidth||t.x>r.right+this.view.defaultCharacterWidth)){var i=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find((function(e){return e.from<=n&&e.to>=n})),o=i&&i.dir==xo.RTL?-1:1,a=this.source(this.view,n,t.x<r.left?-o:o);if(null===a||void 0===a?void 0:a.then){var s=this.pending={pos:n};a.then((function(t){e.pending==s&&(e.pending=null,t&&e.view.dispatch({effects:e.setHover.of(t)}))}),(function(t){return so(e.view.state,t,"hover tooltip")}))}else a&&this.view.dispatch({effects:this.setHover.of(a)})}}}},{key:"mousemove",value:function(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));var n=this.active;if(n&&!Bl(this.lastMove.target)||this.pending){var r=(n||this.pending).pos,i=null!==(t=null===n||void 0===n?void 0:n.end)&&void 0!==t?t:r;(r==i?this.view.posAtCoords(this.lastMove)==r:function(e,t,n,r,i,o){var a=document.createRange(),s=e.domAtPos(t),l=e.domAtPos(n);a.setEnd(l.node,l.offset),a.setStart(s.node,s.offset);var u=a.getClientRects();a.detach();for(var c=0;c<u.length;c++){var f=u[c];if(Math.max(f.top-i,i-f.bottom,f.left-r,r-f.right)<=o)return!0}return!1}(this.view,r,i,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}},{key:"mouseleave",value:function(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Bl(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}},{key:"destroy",value:function(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}]),e}();function Bl(e){for(var t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}function zl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Kn.define(),r=Cn.define({create:function(){return null},update:function(e,r){if(e&&(t.hideOnChange&&(r.docChanged||r.selection)||t.hideOn&&t.hideOn(r,e)))return null;if(e&&r.docChanged){var i=r.changes.mapPos(e.pos,-1,on.TrackDel);if(null==i)return null;var o=Object.assign(Object.create(null),e);o.pos=i,null!=e.end&&(o.end=r.changes.mapPos(e.end)),e=o}var a,s=_(r.effects);try{for(s.s();!(a=s.n()).done;){var l=a.value;l.is(n)&&(e=l.value),l.is(Vl)&&(e=null)}}catch(u){s.e(u)}finally{s.f()}return e},provide:function(e){return Pl.from(e)}});return[r,fo.define((function(i){return new Il(i,e,r,n,t.hoverTime||300)})),Ll]}function Fl(e,t){var n=e.plugin(Tl);if(!n)return null;var r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}var Vl=Kn.define();var Wl=yn.define({combine:function(e){var t,n,r,i=_(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;t=t||o.topContainer,n=n||o.bottomContainer}}catch(a){i.e(a)}finally{i.f()}return{topContainer:t,bottomContainer:n}}});function Hl(e,t){var n=e.plugin(ql),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}var ql=fo.fromClass(function(){function e(t){h(this,e),this.input=t.state.facet(Kl),this.specs=this.input.filter((function(e){return e})),this.panels=this.specs.map((function(e){return e(t)}));var n=t.state.facet(Wl);this.top=new Ul(t,!0,n.topContainer),this.bottom=new Ul(t,!1,n.bottomContainer),this.top.sync(this.panels.filter((function(e){return e.top}))),this.bottom.sync(this.panels.filter((function(e){return!e.top})));var r,i=_(this.panels);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.dom.classList.add("cm-panel"),o.mount&&o.mount()}}catch(a){i.e(a)}finally{i.f()}}return m(e,[{key:"update",value:function(e){var t=e.state.facet(Wl);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Ul(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Ul(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();var n=e.state.facet(Kl);if(n!=this.input){var r,i=n.filter((function(e){return e})),o=[],a=[],s=[],l=[],u=_(i);try{for(u.s();!(r=u.n()).done;){var c=r.value,f=this.specs.indexOf(c),h=void 0;f<0?(h=c(e.view),l.push(h)):(h=this.panels[f]).update&&h.update(e),o.push(h),(h.top?a:s).push(h)}}catch(b){u.e(b)}finally{u.f()}this.specs=i,this.panels=o,this.top.sync(a),this.bottom.sync(s);for(var d=0,p=l;d<p.length;d++){var v=p[d];v.dom.classList.add("cm-panel"),v.mount&&v.mount()}}else{var m,g=_(this.panels);try{for(g.s();!(m=g.n()).done;){var y=m.value;y.update&&y.update(e)}}catch(b){g.e(b)}finally{g.f()}}}},{key:"destroy",value:function(){this.top.sync([]),this.bottom.sync([])}}]),e}(),{provide:function(e){return Ms.scrollMargins.of((function(t){var n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))}}),Ul=function(){function e(t,n,r){h(this,e),this.view=t,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}return m(e,[{key:"sync",value:function(e){var t,n=_(this.panels);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.destroy&&e.indexOf(r)<0&&r.destroy()}}catch(i){n.e(i)}finally{n.f()}this.panels=e,this.syncDOM()}},{key:"syncDOM",value:function(){if(0!=this.panels.length){if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";var e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}var t,n=this.dom.firstChild,r=_(this.panels);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.dom.parentNode==this.dom){for(;n!=i.dom;)n=$l(n);n=n.nextSibling}else this.dom.insertBefore(i.dom,n)}}catch(o){r.e(o)}finally{r.f()}for(;n;)n=$l(n)}else this.dom&&(this.dom.remove(),this.dom=void 0)}},{key:"scrollMargin",value:function(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}},{key:"syncClasses",value:function(){if(this.container&&this.classes!=this.view.themeClasses){var e,t=_(this.classes.split(" "));try{for(t.s();!(e=t.n()).done;){var n=e.value;n&&this.container.classList.remove(n)}}catch(a){t.e(a)}finally{t.f()}var r,i=_((this.classes=this.view.themeClasses).split(" "));try{for(i.s();!(r=i.n()).done;){var o=r.value;o&&this.container.classList.add(o)}}catch(a){i.e(a)}finally{i.f()}}}}]),e}();function $l(e){var t=e.nextSibling;return e.remove(),t}var Kl=yn.define({enables:ql}),Gl=function(e){y(n,e);var t=S(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"eq",value:function(e){return!1}},{key:"destroy",value:function(e){}}]),n}(sr);Gl.prototype.elementClass="",Gl.prototype.toDOM=void 0,Gl.prototype.mapMode=on.TrackBefore,Gl.prototype.startSide=Gl.prototype.endSide=-1,Gl.prototype.point=!0;var Jl=yn.define(),Ql={class:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return fr.empty},lineMarker:function(){return null},lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Yl=yn.define();function Xl(e){return[eu(),Yl.of(Object.assign(Object.assign({},Ql),e))]}var Zl=yn.define({combine:function(e){return e.some((function(e){return e}))}});function eu(e){var t=[tu];return e&&!1===e.fixed&&t.push(Zl.of(!0)),t}var tu=fo.fromClass(function(){function e(t){h(this,e),this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(Yl).map((function(e){return new ou(t,e)}));var n,r=_(this.gutters);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.dom.appendChild(i.dom)}}catch(o){r.e(o)}finally{r.f()}this.fixed=!t.state.facet(Zl),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}return m(e,[{key:"update",value:function(e){if(this.updateGutters(e)){var t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Zl)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}},{key:"syncGutters",value:function(e){var t=this,n=this.dom.nextSibling;e&&this.dom.remove();var r,i=fr.iter(this.view.state.facet(Jl),this.view.viewport.from),o=[],a=this.gutters.map((function(e){return new iu(e,t.view.viewport,-t.view.documentPadding.top)})),s=_(this.view.viewportLineBlocks);try{for(s.s();!(r=s.n()).done;){var l=r.value,u=void 0;if(Array.isArray(l.type)){var c,f=_(l.type);try{for(f.s();!(c=f.n()).done;){var h=c.value;if(h.type==zi.Text){u=h;break}}}catch(g){f.e(g)}finally{f.f()}}else u=l.type==zi.Text?l:void 0;if(u){o.length&&(o=[]),ru(i,o,l.from);var d,p=_(a);try{for(p.s();!(d=p.n()).done;){d.value.line(this.view,u,o)}}catch(g){p.e(g)}finally{p.f()}}}}catch(g){s.e(g)}finally{s.f()}var v,m=_(a);try{for(m.s();!(v=m.n()).done;){v.value.finish()}}catch(g){m.e(g)}finally{m.f()}e&&this.view.scrollDOM.insertBefore(this.dom,n)}},{key:"updateGutters",value:function(e){var t=e.startState.facet(Yl),n=e.state.facet(Yl),r=e.docChanged||e.heightChanged||e.viewportChanged||!fr.eq(e.startState.facet(Jl),e.state.facet(Jl),e.view.viewport.from,e.view.viewport.to);if(t==n){var i,o=_(this.gutters);try{for(o.s();!(i=o.n()).done;){i.value.update(e)&&(r=!0)}}catch(g){o.e(g)}finally{o.f()}}else{r=!0;var a,s=[],l=_(n);try{for(l.s();!(a=l.n()).done;){var u=a.value,c=t.indexOf(u);c<0?s.push(new ou(this.view,u)):(this.gutters[c].update(e),s.push(this.gutters[c]))}}catch(g){l.e(g)}finally{l.f()}var f,h=_(this.gutters);try{for(h.s();!(f=h.n()).done;){var d=f.value;d.dom.remove(),s.indexOf(d)<0&&d.destroy()}}catch(g){h.e(g)}finally{h.f()}for(var p=0,v=s;p<v.length;p++){var m=v[p];this.dom.appendChild(m.dom)}this.gutters=s}return r}},{key:"destroy",value:function(){var e,t=_(this.gutters);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this.dom.remove()}}]),e}(),{provide:function(e){return Ms.scrollMargins.of((function(t){var n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==xo.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}:null}))}});function nu(e){return Array.isArray(e)?e:[e]}function ru(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}var iu=function(){function e(t,n,r){h(this,e),this.gutter=t,this.height=r,this.localMarkers=[],this.i=0,this.cursor=fr.iter(t.markers,n.from)}return m(e,[{key:"line",value:function(e,t,n){this.localMarkers.length&&(this.localMarkers=[]),ru(this.cursor,this.localMarkers,t.from);var r=n.length?this.localMarkers.concat(n):this.localMarkers,i=this.gutter.config.lineMarker(e,t,r);i&&r.unshift(i);var o=this.gutter;if(0!=r.length||o.config.renderEmptyElements){var a=t.top-this.height;if(this.i==o.elements.length){var s=new au(e,t.height,a,r);o.elements.push(s),o.dom.appendChild(s.dom)}else o.elements[this.i].update(e,t.height,a,r);this.height=t.bottom,this.i++}}},{key:"finish",value:function(){for(var e=this.gutter;e.elements.length>this.i;){var t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}]),e}(),ou=function(){function e(t,n){var r=this;h(this,e),this.view=t,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");var i=function(e){r.dom.addEventListener(e,(function(r){var i=t.lineBlockAtHeight(r.clientY-t.documentTop);n.domEventHandlers[e](t,i,r)&&r.preventDefault()}))};for(var o in n.domEventHandlers)i(o);this.markers=nu(n.markers(t)),n.initialSpacer&&(this.spacer=new au(t,0,0,[n.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}return m(e,[{key:"update",value:function(e){var t=this.markers;if(this.markers=nu(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){var n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}var r=e.view.viewport;return!fr.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}},{key:"destroy",value:function(){var e,t=_(this.elements);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}}}]),e}(),au=function(){function e(t,n,r,i){h(this,e),this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,n,r,i)}return m(e,[{key:"update",value:function(e,t,n,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}},{key:"setMarkers",value:function(e,t){for(var n="cm-gutterElement",r=this.dom.firstChild,i=0,o=0;;){var a=o,s=i<t.length?t[i++]:null,l=!1;if(s){var u=s.elementClass;u&&(n+=" "+u);for(var c=o;c<this.markers.length;c++)if(this.markers[c].compare(s)){a=c,l=!0;break}}else a=this.markers.length;for(;o<a;){var f=this.markers[o++];if(f.toDOM){f.destroy(r);var h=r.nextSibling;r.remove(),r=h}}if(!s)break;s.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(s.toDOM(e),r)),l&&o++}this.dom.className=n,this.markers=t}},{key:"destroy",value:function(){this.setMarkers(null,[])}}]),e}();var su=yn.define(),lu=yn.define({combine:function(e){return ar(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(e,t){var n=Object.assign({},e),r=function(){var e=n[i],r=t[i];n[i]=e?function(t,n,i){return e(t,n,i)||r(t,n,i)}:r};for(var i in t)r();return n}})}}),uu=function(e){y(n,e);var t=S(n);function n(e){var r;return h(this,n),(r=t.call(this)).number=e,r}return m(n,[{key:"eq",value:function(e){return this.number==e.number}},{key:"toDOM",value:function(){return document.createTextNode(this.number)}}]),n}(Gl);function cu(e,t){return e.state.facet(lu).formatNumber(t,e.state)}var fu=Yl.compute([lu],(function(e){return{class:"cm-lineNumbers",renderEmptyElements:!1,markers:function(e){return e.state.facet(su)},lineMarker:function(e,t,n){return n.some((function(e){return e.toDOM}))?null:new uu(cu(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:function(e){return e.startState.facet(lu)!=e.state.facet(lu)},initialSpacer:function(e){return new uu(cu(e,hu(e.state.doc.lines)))},updateSpacer:function(e,t){var n=cu(t.view,hu(t.view.state.doc.lines));return n==e.number?e:new uu(n)},domEventHandlers:e.facet(lu).domEventHandlers}}));function hu(e){for(var t=9;t<e;)t=10*t+9;return t}var du=new(function(e){y(n,e);var t=S(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).elementClass="cm-activeLineGutter",e}return m(n)}(Gl)),pu=Jl.compute(["selection"],(function(e){var t,n=[],r=-1,i=_(e.selection.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=e.doc.lineAt(o.head).from;a>r&&(r=a,n.push(du.range(a)))}}catch(s){i.e(s)}finally{i.f()}return fr.of(n)}));function vu(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mu=0,gu=m((function e(t,n){h(this,e),this.from=t,this.to=n})),yu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this.id=mu++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return m(e,[{key:"add",value:function(e){var t=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=ku.match(e)),function(n){var r=e(n);return void 0===r?null:[t,r]}}}]),e}();yu.closedBy=new yu({deserialize:function(e){return e.split(" ")}}),yu.openedBy=new yu({deserialize:function(e){return e.split(" ")}}),yu.group=new yu({deserialize:function(e){return e.split(" ")}}),yu.contextHash=new yu({perNode:!0}),yu.lookAhead=new yu({perNode:!0}),yu.mounted=new yu({perNode:!0});var bu=Object.create(null),ku=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;h(this,e),this.name=t,this.props=n,this.id=r,this.flags=i}return m(e,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if("string"==typeof e){if(this.name==e)return!0;var t=this.prop(yu.group);return!!t&&t.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(t){var n=t.props&&t.props.length?Object.create(null):bu,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new e(t.name||"",n,t.id,r);if(t.props){var o,a=_(t.props);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}}catch(l){a.e(l)}finally{a.f()}}return i}},{key:"match",value:function(e){var t=Object.create(null);for(var n in e){var r,i=_(n.split(" "));try{for(i.s();!(r=i.n()).done;){var o=r.value;t[o]=e[n]}}catch(a){i.e(a)}finally{i.f()}}return function(e){for(var n=e.prop(yu.group),r=-1;r<(n?n.length:0);r++){var i=t[r<0?e.name:n[r]];if(i)return i}}}}]),e}();ku.none=new ku("",Object.create(null),0,8);var wu,xu=new WeakMap,Su=new WeakMap;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(wu||(wu={}));var Cu=function(){function e(t,n,r,i,o){if(h(this,e),this.type=t,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);var a,s=_(o);try{for(s.s();!(a=s.n()).done;){var l=u(a.value,2),c=l[0],f=l[1];this.props["number"==typeof c?c:c.id]=f}}catch(d){s.e(d)}finally{s.f()}}}return m(e,[{key:"toString",value:function(){var e=this.prop(yu.mounted);if(e&&!e.overlay)return e.tree.toString();var t,n="",r=_(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value.toString();i&&(n&&(n+=","),n+=i)}}catch(o){r.e(o)}finally{r.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}},{key:"cursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Ru(this.topNode,e)}},{key:"cursorAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=xu.get(this)||this.topNode,r=new Ru(n);return r.moveTo(e,t),xu.set(this,r._tree),r}},{key:"topNode",get:function(){return new Tu(this,0,0,null)}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Au(xu.get(this)||this.topNode,e,t,!1);return xu.set(this,n),n}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Au(Su.get(this)||this.topNode,e,t,!0);return Su.set(this,n),n}},{key:"iterate",value:function(e){for(var t=e.enter,n=e.leave,r=e.from,i=void 0===r?0:r,o=e.to,a=void 0===o?this.length:o,s=this.cursor((e.mode||0)|wu.IncludeAnonymous);;){var l=!1;if(s.from<=a&&s.to>=i&&(s.type.isAnonymous||!1!==t(s))){if(s.firstChild())continue;l=!0}for(;l&&n&&!s.type.isAnonymous&&n(s),!s.nextSibling();){if(!s.parent())return;l=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var t in this.props)e.push([+t,this.props[t]]);return e}},{key:"balance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:zu(ku.none,this.children,this.positions,0,this.children.length,0,this.length,(function(n,r,i){return new e(t.type,n,r,i,t.propValues)}),n.makeTree||function(t,n,r){return new e(ku.none,t,n,r)})}}],[{key:"build",value:function(e){return function(e){var t,n=e.buffer,r=e.nodeSet,i=e.maxBufferLength,o=void 0===i?1024:i,a=e.reused,s=void 0===a?[]:a,l=e.minRepeatType,u=void 0===l?r.types.length:l,c=Array.isArray(n)?new ju(n,n.length):n,f=r.types,h=0,d=0;function p(e,t,n,i,a){for(var l=c.id,k=c.start,w=c.end,x=c.size,S=d;x<0;){if(c.next(),-1==x){var C=s[l];return n.push(C),void i.push(k-e)}if(-3==x)return void(h=l);if(-4==x)return void(d=l);throw new RangeError("Unrecognized record size: ".concat(x))}var j,_,M=f[l],E=k-e;if(w-k<=o&&(_=y(c.pos-t,a))){for(var A=new Uint16Array(_.size-_.skip),T=c.pos-_.size,N=A.length;c.pos>T;)N=b(_.start,A,N);j=new _u(A,w-_.start,r),E=_.start-e}else{var O=c.pos-x;c.next();for(var D=[],P=[],R=l>=u?l:-1,L=0,I=w;c.pos>O;)R>=0&&c.id==R&&c.size>=0?(c.end<=I-o&&(m(D,P,k,L,c.end,I,R,S),L=D.length,I=c.end),c.next()):p(k,O,D,P,R);if(R>=0&&L>0&&L<D.length&&m(D,P,k,L,k,I,R,S),D.reverse(),P.reverse(),R>-1&&L>0){var B=v(M);j=zu(M,D,P,0,D.length,0,w-k,B,B)}else j=g(M,D,P,w-k,S-w)}n.push(j),i.push(E)}function v(e){return function(t,n,r){var i,o,a=0,s=t.length-1;if(s>=0&&(i=t[s])instanceof Cu){if(!s&&i.type==e&&i.length==r)return i;(o=i.prop(yu.lookAhead))&&(a=n[s]+i.length+o)}return g(e,t,n,r,a)}}function m(e,t,n,i,o,a,s,l){for(var u=[],c=[];e.length>i;)u.push(e.pop()),c.push(t.pop()+n-o);e.push(g(r.types[s],u,c,a-o,l-a)),t.push(o-n)}function g(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;if(h){var a=[yu.contextHash,h];o=o?[a].concat(o):[a]}if(i>25){var s=[yu.lookAhead,i];o=o?[s].concat(o):[s]}return new Cu(e,t,n,r,o)}function y(e,t){var n=c.fork(),r=0,i=0,a=0,s=n.end-o,l={size:0,start:0,skip:0};e:for(var f=n.pos-e;n.pos>f;){var h=n.size;if(n.id==t&&h>=0)l.size=r,l.start=i,l.skip=a,a+=4,r+=4,n.next();else{var d=n.pos-h;if(h<0||d<f||n.start<s)break;var p=n.id>=u?4:0,v=n.start;for(n.next();n.pos>d;){if(n.size<0){if(-3!=n.size)break e;p+=4}else n.id>=u&&(p+=4);n.next()}i=v,r+=h,a+=p}}return(t<0||r==e)&&(l.size=r,l.start=i,l.skip=a),l.size>4?l:void 0}function b(e,t,n){var r=c.id,i=c.start,o=c.end,a=c.size;if(c.next(),a>=0&&r<u){var s=n;if(a>4)for(var l=c.pos-(a-4);c.pos>l;)n=b(e,t,n);t[--n]=s,t[--n]=o-e,t[--n]=i-e,t[--n]=r}else-3==a?h=r:-4==a&&(d=r);return n}var k=[],w=[];for(;c.pos>0;)p(e.start||0,e.bufferStart||0,k,w,-1);var x=null!==(t=e.length)&&void 0!==t?t:k.length?w[0]+k[0].length:0;return new Cu(f[e.topID],k.reverse(),w.reverse(),x)}(e)}}]),e}();Cu.empty=new Cu(ku.none,[],[],0);var ju=function(){function e(t,n){h(this,e),this.buffer=t,this.index=n}return m(e,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new e(this.buffer,this.index)}}]),e}(),_u=function(){function e(t,n,r){h(this,e),this.buffer=t,this.length=n,this.set=r}return m(e,[{key:"type",get:function(){return ku.none}},{key:"toString",value:function(){for(var e=[],t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}},{key:"childString",value:function(e){var t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;for(var o=[];e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return i+"("+o.join(",")+")"}},{key:"findChild",value:function(e,t,n,r,i){for(var o=this.buffer,a=-1,s=e;s!=t&&!(Mu(i,r,o[s+1],o[s+2])&&(a=s,n>0));s=o[s+3]);return a}},{key:"slice",value:function(t,n,r){for(var i=this.buffer,o=new Uint16Array(n-t),a=0,s=t,l=0;s<n;){o[l++]=i[s++],o[l++]=i[s++]-r;var u=o[l++]=i[s++]-r;o[l++]=i[s++]-t,a=Math.max(a,u)}return new e(o,a,this.set)}}]),e}();function Mu(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function Eu(e,t){for(var n=e.childBefore(t);n;){var r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(e=n,n=r.prevSibling):n=r}return e}function Au(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){var o=!r&&e instanceof Tu&&e.index<0?null:e.parent;if(!o)return e;e=o}var a=r?0:wu.IgnoreOverlays;if(r)for(var s=e,l=s.parent;l;l=(s=l).parent)s instanceof Tu&&s.index<0&&(null===(i=l.enter(t,n,a))||void 0===i?void 0:i.from)!=s.from&&(e=l);for(;;){var u=e.enter(t,n,a);if(!u)return e;e=u}}var Tu=function(){function e(t,n,r,i){h(this,e),this._tree=t,this.from=n,this.index=r,this._parent=i}return m(e,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=this;;){for(var s=a._tree,l=s.children,u=s.positions,c=n>0?l.length:-1;t!=c;t+=n){var f=l[t],h=u[t]+a.from;if(Mu(i,r,h,h+f.length))if(f instanceof _u){if(o&wu.ExcludeBuffers)continue;var d=f.findChild(0,f.buffer.length,n,r-h,i);if(d>-1)return new Pu(new Du(a,f,t,h),null,d)}else if(o&wu.IncludeAnonymous||!f.type.isAnonymous||Lu(f)){var p=void 0;if(!(o&wu.IgnoreMounts)&&f.props&&(p=f.prop(yu.mounted))&&!p.overlay)return new e(p.tree,h,t,a);var v=new e(f,h,t,a);return o&wu.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(n<0?f.children.length-1:0,n,r,i)}}if(o&wu.IncludeAnonymous||!a.type.isAnonymous)return null;if(t=a.index>=0?a.index+n:n<0?-1:a._parent._tree.children.length,!(a=a._parent))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(e){return this.nextChild(0,1,e,2)}},{key:"childBefore",value:function(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}},{key:"enter",value:function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&wu.IgnoreOverlays)&&(r=this._tree.prop(yu.mounted))&&r.overlay){var o,a=t-this.from,s=_(r.overlay);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=l.from,c=l.to;if((n>0?u<=a:u<a)&&(n<0?c>=a:c>a))return new e(r.tree,r.overlay[0].from+this.from,-1,this)}}catch(f){s.e(f)}finally{s.f()}}return this.nextChild(0,1,t,n,i)}},{key:"nextSignificantParent",value:function(){for(var e=this;e.type.isAnonymous&&e._parent;)e=e._parent;return e}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"cursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Ru(this,e)}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Au(this,e,t,!1)}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Au(this,e,t,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return Eu(this,e)}},{key:"getChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Nu(this,e,t,n);return r.length?r[0]:null}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Nu(this,e,t,n)}},{key:"toString",value:function(){return this._tree.toString()}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return Ou(this,e)}}]),e}();function Nu(e,t,n,r){var i=e.cursor(),o=[];if(!i.firstChild())return o;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return o;for(;;){if(null!=r&&i.type.is(r))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return null==r?o:[]}}function Ou(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1,r=e.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}var Du=m((function e(t,n,r,i){h(this,e),this.parent=t,this.buffer=n,this.index=r,this.start=i})),Pu=function(){function e(t,n,r){h(this,e),this.context=t,this._parent=n,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}return m(e,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(t,n,r){var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.context.start,r);return o<0?null:new e(this.context,this,o)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(e){return this.child(1,e,2)}},{key:"childBefore",value:function(e){return this.child(-1,e,-2)}},{key:"enter",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r&wu.ExcludeBuffers)return null;var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,t-this.context.start,n);return o<0?null:new e(this.context,this,o)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}},{key:"nextSibling",get:function(){var t=this.context.buffer,n=t.buffer[this.index+3];return n<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new e(this.context,this._parent,n):this.externalSibling(1)}},{key:"prevSibling",get:function(){var t=this.context.buffer,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new e(this.context,this._parent,t.findChild(n,this.index,-1,0,4))}},{key:"cursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Ru(this,e)}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var e=[],t=[],n=this.context.buffer,r=this.index+4,i=n.buffer[this.index+3];if(i>r){var o=n.buffer[this.index+1];e.push(n.slice(r,i,o)),t.push(0)}return new Cu(this.type,e,t,this.to-this.from)}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Au(this,e,t,!1)}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Au(this,e,t,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return Eu(this,e)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}},{key:"getChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Nu(this,e,t,n);return r.length?r[0]:null}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Nu(this,e,t,n)}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return Ou(this,e)}}]),e}(),Ru=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(h(this,e),this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Tu)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(var r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}return m(e,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,t){this.index=e;var n=this.buffer,r=n.start,i=n.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof Tu?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));var r=this.buffer.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&wu.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(this.mode&wu.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=this.mode&wu.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var t=this.buffer.buffer,n=this.stack.length-1;if(e<0){var r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{var i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var t,n,r=this.buffer;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(var i=0;i<this.index;i++)if(r.buffer.buffer[i+3]<this.index)return!1;t=r.index,n=r.parent}else{var o=this._tree;t=o.index,n=o._parent}for(;n;t=(a=n).index,n=a._parent,a){var a;if(t>-1)for(var s=t+e,l=e<0?-1:n._tree.children.length;s!=l;s+=e){var u=n._tree.children[s];if(this.mode&wu.IncludeAnonymous||u instanceof _u||!u.type.isAnonymous||Lu(u))return!1}}return!0}},{key:"move",value:function(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(var r=this.index,i=this.stack.length;i>=0;){for(var o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,n=i+1;break e}r=this.stack[--i]}for(var a=n;a<this.stack.length;a++)t=new Pu(this.buffer,t,this.stack[a]);return this.bufferNode=new Pu(this.buffer,t,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,t){for(var n=0;;){var r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}},{key:"matchContext",value:function(e){if(!this.buffer)return Ou(this.node,e);for(var t=this.buffer.buffer,n=t.set.types,r=e.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return Ou(this.node,e,r);var o=n[t.buffer[this.stack[i]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}]),e}();function Lu(e){return e.children.some((function(e){return e instanceof _u||!e.type.isAnonymous||Lu(e)}))}var Iu=new WeakMap;function Bu(e,t){if(!e.isAnonymous||t instanceof _u||t.type!=e)return 1;var n=Iu.get(t);if(null==n){n=1;var r,i=_(t.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.type!=e||!(o instanceof Cu)){n=1;break}n+=Bu(e,o)}}catch(a){i.e(a)}finally{i.f()}Iu.set(t,n)}return n}function zu(e,t,n,r,i,o,a,s,l){for(var u=0,c=r;c<i;c++)u+=Bu(e,t[c]);var f=Math.ceil(1.5*u/8),h=[],d=[];return function t(n,r,i,a,s){for(var u=i;u<a;){var c=u,p=r[u],v=Bu(e,n[u]);for(u++;u<a;u++){var m=Bu(e,n[u]);if(v+m>=f)break;v+=m}if(u==c+1){if(v>f){var g=n[c];t(g.children,g.positions,0,g.children.length,r[c]+s);continue}h.push(n[c])}else{var y=r[u-1]+n[u-1].length-p;h.push(zu(e,n,r,c,u,p,y,null,l))}d.push(p+s-o)}}(t,n,r,i,0),(s||l)(h,d,a)}var Fu=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];h(this,e),this.from=t,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(a?2:0)}return m(e,[{key:"openStart",get:function(){return(1&this.open)>0}},{key:"openEnd",get:function(){return(2&this.open)>0}}],[{key:"addTree",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[new e(0,t.length,t,0,!1,i)],a=_(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;s.to>t.length&&o.push(s)}}catch(l){a.e(l)}finally{a.f()}return o}},{key:"applyChanges",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!n.length)return t;for(var i=[],o=1,a=t.length?t[0]:null,s=0,l=0,u=0;;s++){var c=s<n.length?n[s]:null,f=c?c.fromA:1e9;if(f-l>=r)for(;a&&a.from<f;){var h=a;if(l>=h.from||f<=h.to||u){var d=Math.max(h.from,l)-u,p=Math.min(h.to,f)-u;h=d>=p?null:new e(d,p,h.tree,h.offset+u,s>0,!!c)}if(h&&i.push(h),a.to>f)break;a=o<t.length?t[o++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}]),e}(),Vu=function(){function e(){h(this,e)}return m(e,[{key:"startParse",value:function(e,t,n){return"string"==typeof e&&(e=new Wu(e)),n=n?n.length?n.map((function(e){return new gu(e.from,e.to)})):[new gu(0,0)]:[new gu(0,e.length)],this.createParse(e,t||[],n)}},{key:"parse",value:function(e,t,n){for(var r=this.startParse(e,t,n);;){var i=r.advance();if(i)return i}}}]),e}(),Wu=function(){function e(t){h(this,e),this.string=t}return m(e,[{key:"length",get:function(){return this.string.length}},{key:"chunk",value:function(e){return this.string.slice(e)}},{key:"lineChunks",get:function(){return!1}},{key:"read",value:function(e,t){return this.string.slice(e,t)}}]),e}();new yu({perNode:!0});var Hu=0,qu=function(){function e(t,n,r){h(this,e),this.set=t,this.base=n,this.modified=r,this.id=Hu++}return m(e,null,[{key:"define",value:function(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");var n=new e([],null,[]);if(n.set.push(n),t){var r,i=_(t.set);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.set.push(o)}}catch(a){i.e(a)}finally{i.f()}}return n}},{key:"defineModifier",value:function(){var e=new $u;return function(t){return t.modified.indexOf(e)>-1?t:$u.get(t.base||t,t.modified.concat(e).sort((function(e,t){return e.id-t.id})))}}}]),e}(),Uu=0,$u=function(){function e(){h(this,e),this.instances=[],this.id=Uu++}return m(e,null,[{key:"get",value:function(t,n){if(!n.length)return t;var r=n[0].instances.find((function(e){return e.base==t&&(r=n,i=e.modified,r.length==i.length&&r.every((function(e,t){return e==i[t]})));var r,i}));if(r)return r;var i,o=[],a=new qu(o,t,n),s=_(n);try{for(s.s();!(i=s.n()).done;){i.value.instances.push(a)}}catch(v){s.e(v)}finally{s.f()}var l,u=function(e){for(var t=[[]],n=0;n<e.length;n++)for(var r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort((function(e,t){return t.length-e.length}))}(n),c=_(t.set);try{for(c.s();!(l=c.n()).done;){var f=l.value;if(!f.modified.length){var h,d=_(u);try{for(d.s();!(h=d.n()).done;){var p=h.value;o.push(e.get(f,p))}}catch(v){d.e(v)}finally{d.f()}}}}catch(v){c.e(v)}finally{c.f()}return a}}]),e}();function Ku(e){var t=Object.create(null);for(var n in e){var r=e[n];Array.isArray(r)||(r=[r]);var i,o=_(n.split(" "));try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a){for(var s=[],l=2,u=a,c=0;;){if("..."==u&&c>0&&c+3==a.length){l=1;break}var f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!f)throw new RangeError("Invalid path: "+a);if(s.push("*"==f[0]?"":'"'==f[0][0]?JSON.parse(f[0]):f[0]),(c+=f[0].length)==a.length)break;var h=a[c++];if(c==a.length&&"!"==h){l=0;break}if("/"!=h)throw new RangeError("Invalid path: "+a);u=a.slice(c)}var d=s.length-1,p=s[d];if(!p)throw new RangeError("Invalid path: "+a);var v=new Ju(r,l,d>0?s.slice(0,d):null);t[p]=v.sort(t[p])}}}catch(m){o.e(m)}finally{o.f()}}return Gu.add(t)}var Gu=new yu,Ju=function(){function e(t,n,r,i){h(this,e),this.tags=t,this.mode=n,this.context=r,this.next=i}return m(e,[{key:"opaque",get:function(){return 0==this.mode}},{key:"inherit",get:function(){return 1==this.mode}},{key:"sort",value:function(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}},{key:"depth",get:function(){return this.context?this.context.length:0}}]),e}();function Qu(e,t){var n,r=Object.create(null),i=_(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(Array.isArray(o.tag)){var a,s=_(o.tag);try{for(s.s();!(a=s.n()).done;){var l=a.value;r[l.id]=o.class}}catch(d){s.e(d)}finally{s.f()}}else r[o.tag.id]=o.class}}catch(d){i.e(d)}finally{i.f()}var u=t||{},c=u.scope,f=u.all,h=void 0===f?null:f;return{style:function(e){var t,n=h,i=_(e);try{for(i.s();!(t=i.n()).done;){var o,a=_(t.value.set);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=r[s.id];if(l){n=n?n+" "+l:l;break}}}catch(d){a.e(d)}finally{a.f()}}}catch(d){i.e(d)}finally{i.f()}return n},scope:c}}function Yu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length,o=new Xu(r,Array.isArray(t)?t:[t],n);o.highlightRange(e.cursor(),r,i,"",o.highlighters),o.flush(i)}Ju.empty=new Ju([],2,null);var Xu=function(){function e(t,n,r){h(this,e),this.at=t,this.highlighters=n,this.span=r,this.class=""}return m(e,[{key:"startSpan",value:function(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}},{key:"flush",value:function(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}},{key:"highlightRange",value:function(e,t,n,r,i){var o=e.type,a=e.from,s=e.to;if(!(a>=n||s<=t)){o.isTop&&(i=this.highlighters.filter((function(e){return!e.scope||e.scope(o)})));var l=r,u=function(e){var t=e.type.prop(Gu);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||Ju.empty,c=function(e,t){var n,r=null,i=_(e);try{for(i.s();!(n=i.n()).done;){var o=n.value.style(t);o&&(r=r?r+" "+o:o)}}catch(a){i.e(a)}finally{i.f()}return r}(i,u.tags);if(c&&(l&&(l+=" "),l+=c,1==u.mode&&(r+=(r?" ":"")+c)),this.startSpan(e.from,l),!u.opaque){var f=e.tree&&e.tree.prop(yu.mounted);if(f&&f.overlay){for(var h=e.node.enter(f.overlay[0].from+a,1),d=this.highlighters.filter((function(e){return!e.scope||e.scope(f.tree.type)})),p=e.firstChild(),v=0,m=a;;v++){var g=v<f.overlay.length?f.overlay[v]:null,y=g?g.from+a:s,b=Math.max(t,m),k=Math.min(n,y);if(b<k&&p)for(;e.from<k&&(this.highlightRange(e,b,k,r,i),this.startSpan(Math.min(k,e.to),l),!(e.to>=y)&&e.nextSibling()););if(!g||y>n)break;(m=g.to+a)>t&&(this.highlightRange(h.cursor(),Math.max(t,g.from+a),Math.min(n,m),r,d),this.startSpan(m,l))}p&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,i),this.startSpan(Math.min(n,e.to),l)}}while(e.nextSibling());e.parent()}}}}}]),e}();var Zu,ec=qu.define,tc=ec(),nc=ec(),rc=ec(nc),ic=ec(nc),oc=ec(),ac=ec(oc),sc=ec(oc),lc=ec(),uc=ec(lc),cc=ec(),fc=ec(),hc=ec(),dc=ec(hc),pc=ec(),vc={comment:tc,lineComment:ec(tc),blockComment:ec(tc),docComment:ec(tc),name:nc,variableName:ec(nc),typeName:rc,tagName:ec(rc),propertyName:ic,attributeName:ec(ic),className:ec(nc),labelName:ec(nc),namespace:ec(nc),macroName:ec(nc),literal:oc,string:ac,docString:ec(ac),character:ec(ac),attributeValue:ec(ac),number:sc,integer:ec(sc),float:ec(sc),bool:ec(oc),regexp:ec(oc),escape:ec(oc),color:ec(oc),url:ec(oc),keyword:cc,self:ec(cc),null:ec(cc),atom:ec(cc),unit:ec(cc),modifier:ec(cc),operatorKeyword:ec(cc),controlKeyword:ec(cc),definitionKeyword:ec(cc),moduleKeyword:ec(cc),operator:fc,derefOperator:ec(fc),arithmeticOperator:ec(fc),logicOperator:ec(fc),bitwiseOperator:ec(fc),compareOperator:ec(fc),updateOperator:ec(fc),definitionOperator:ec(fc),typeOperator:ec(fc),controlOperator:ec(fc),punctuation:hc,separator:ec(hc),bracket:dc,angleBracket:ec(dc),squareBracket:ec(dc),paren:ec(dc),brace:ec(dc),content:lc,heading:uc,heading1:ec(uc),heading2:ec(uc),heading3:ec(uc),heading4:ec(uc),heading5:ec(uc),heading6:ec(uc),contentSeparator:ec(lc),list:ec(lc),quote:ec(lc),emphasis:ec(lc),strong:ec(lc),link:ec(lc),monospace:ec(lc),strikethrough:ec(lc),inserted:ec(),deleted:ec(),changed:ec(),invalid:ec(),meta:pc,documentMeta:ec(pc),annotation:ec(pc),processingInstruction:ec(pc),definition:qu.defineModifier(),constant:qu.defineModifier(),function:qu.defineModifier(),standard:qu.defineModifier(),local:qu.defineModifier(),special:qu.defineModifier()},mc=(Qu([{tag:vc.link,class:"tok-link"},{tag:vc.heading,class:"tok-heading"},{tag:vc.emphasis,class:"tok-emphasis"},{tag:vc.strong,class:"tok-strong"},{tag:vc.keyword,class:"tok-keyword"},{tag:vc.atom,class:"tok-atom"},{tag:vc.bool,class:"tok-bool"},{tag:vc.url,class:"tok-url"},{tag:vc.labelName,class:"tok-labelName"},{tag:vc.inserted,class:"tok-inserted"},{tag:vc.deleted,class:"tok-deleted"},{tag:vc.literal,class:"tok-literal"},{tag:vc.string,class:"tok-string"},{tag:vc.number,class:"tok-number"},{tag:[vc.regexp,vc.escape,vc.special(vc.string)],class:"tok-string2"},{tag:vc.variableName,class:"tok-variableName"},{tag:vc.local(vc.variableName),class:"tok-variableName tok-local"},{tag:vc.definition(vc.variableName),class:"tok-variableName tok-definition"},{tag:vc.special(vc.variableName),class:"tok-variableName2"},{tag:vc.definition(vc.propertyName),class:"tok-propertyName tok-definition"},{tag:vc.typeName,class:"tok-typeName"},{tag:vc.namespace,class:"tok-namespace"},{tag:vc.className,class:"tok-className"},{tag:vc.macroName,class:"tok-macroName"},{tag:vc.propertyName,class:"tok-propertyName"},{tag:vc.operator,class:"tok-operator"},{tag:vc.comment,class:"tok-comment"},{tag:vc.meta,class:"tok-meta"},{tag:vc.invalid,class:"tok-invalid"},{tag:vc.punctuation,class:"tok-punctuation"}]),new yu);var gc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";h(this,e),this.data=t,this.name=i,or.prototype.hasOwnProperty("tree")||Object.defineProperty(or.prototype,"tree",{get:function(){return bc(this)}}),this.parser=n,this.extension=[Ec.of(this),or.languageData.of((function(e,t,n){return e.facet(yc(e,t,n))}))].concat(r)}return m(e,[{key:"isActiveAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return yc(e,t,n)==this.data}},{key:"findRegions",value:function(e){var t=this,n=e.facet(Ec);if((null===n||void 0===n?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];var r=[];return function e(n,i){if(n.prop(mc)!=t.data){var o=n.prop(yu.mounted);if(o){if(o.tree.prop(mc)==t.data){if(o.overlay){var a,s=_(o.overlay);try{for(s.s();!(a=s.n()).done;){var l=a.value;r.push({from:l.from+i,to:l.to+i})}}catch(h){s.e(h)}finally{s.f()}}else r.push({from:i,to:i+n.length});return}if(o.overlay){var u=r.length;if(e(o.tree,o.overlay[0].from+i),r.length>u)return}}for(var c=0;c<n.children.length;c++){var f=n.children[c];f instanceof Cu&&e(f,n.positions[c]+i)}}else r.push({from:i,to:i+n.length})}(bc(e),0),r}},{key:"allowsNesting",get:function(){return!0}}]),e}();function yc(e,t,n){var r=e.facet(Ec);if(!r)return null;var i=r.data;if(r.allowsNesting)for(var o=bc(e).topNode;o;o=o.enter(t,n,wu.ExcludeBuffers))i=o.type.prop(mc)||i;return i}gc.setState=Kn.define();function bc(e){var t=e.field(gc.state,!1);return t?t.tree:Cu.empty}var kc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length;h(this,e),this.doc=t,this.length=n,this.cursorPos=0,this.string="",this.cursor=t.iter()}return m(e,[{key:"syncTo",value:function(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}},{key:"chunk",value:function(e){return this.syncTo(e),this.string}},{key:"lineChunks",get:function(){return!0}},{key:"read",value:function(e,t){var n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}]),e}(),wc=null,xc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;h(this,e),this.parser=t,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=a,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}return m(e,[{key:"startParse",value:function(){return this.parser.startParse(new kc(this.state.doc),this.fragments)}},{key:"work",value:function(e,t){var n=this;return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=Cu.empty&&this.isDone(null!==t&&void 0!==t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((function(){var r;if("number"==typeof e){var i=Date.now()+e;e=function(){return Date.now()>i}}for(n.parse||(n.parse=n.startParse()),null!=t&&(null==n.parse.stoppedAt||n.parse.stoppedAt>t)&&t<n.state.doc.length&&n.parse.stopAt(t);;){var o=n.parse.advance();if(o){if(n.fragments=n.withoutTempSkipped(Fu.addTree(o,n.fragments,null!=n.parse.stoppedAt)),n.treeLen=null!==(r=n.parse.stoppedAt)&&void 0!==r?r:n.state.doc.length,n.tree=o,n.parse=null,!(n.treeLen<(null!==t&&void 0!==t?t:n.state.doc.length)))return!0;n.parse=n.startParse()}if(e())return!1}}))}},{key:"takeTree",value:function(){var e,t,n=this;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((function(){for(;!(t=n.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Fu.addTree(this.tree,this.fragments,!0)),this.parse=null)}},{key:"withContext",value:function(e){var t=wc;wc=this;try{return e()}finally{wc=t}}},{key:"withoutTempSkipped",value:function(e){for(var t;t=this.tempSkipped.pop();)e=Sc(e,t.from,t.to);return e}},{key:"changes",value:function(t,n){var r=this.fragments,i=this.tree,o=this.treeLen,a=this.viewport,s=this.skipped;if(this.takeTree(),!t.empty){var l=[];if(t.iterChangedRanges((function(e,t,n,r){return l.push({fromA:e,toA:t,fromB:n,toB:r})})),r=Fu.applyChanges(r,l),i=Cu.empty,o=0,a={from:t.mapPos(a.from,-1),to:t.mapPos(a.to,1)},this.skipped.length){s=[];var u,c=_(this.skipped);try{for(c.s();!(u=c.n()).done;){var f=u.value,h=t.mapPos(f.from,1),d=t.mapPos(f.to,-1);h<d&&s.push({from:h,to:d})}}catch(p){c.e(p)}finally{c.f()}}}return new e(this.parser,n,r,i,o,a,s,this.scheduleOn)}},{key:"updateViewport",value:function(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;for(var t=this.skipped.length,n=0;n<this.skipped.length;n++){var r=this.skipped[n],i=r.from,o=r.to;i<e.to&&o>e.from&&(this.fragments=Sc(this.fragments,i,o),this.skipped.splice(n--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}},{key:"reset",value:function(){this.parse&&(this.takeTree(),this.parse=null)}},{key:"skipUntilInView",value:function(e,t){this.skipped.push({from:e,to:t})}},{key:"isDone",value:function(e){e=Math.min(e,this.state.doc.length);var t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}}],[{key:"create",value:function(t,n,r){return new e(t,n,[],Cu.empty,0,r,[],null)}},{key:"getSkippingParser",value:function(e){return new(function(t){y(r,t);var n=S(r);function r(){return h(this,r),n.apply(this,arguments)}return m(r,[{key:"createParse",value:function(t,n,r){var i=r[0].from,o=r[r.length-1].to,a={parsedPos:i,advance:function(){var t=wc;if(t){var n,a=_(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;t.tempSkipped.push(s)}}catch(l){a.e(l)}finally{a.f()}e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new Cu(ku.none,[],[],o-i)},stoppedAt:null,stopAt:function(){}};return a}}]),r}(Vu))}},{key:"get",value:function(){return wc}}]),e}();function Sc(e,t,n){return Fu.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}var Cc=function(){function e(t){h(this,e),this.context=t,this.tree=t.tree}return m(e,[{key:"apply",value:function(t){if(!t.docChanged&&this.tree==this.context.tree)return this;var n=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new e(n)}}],[{key:"init",value:function(t){var n=Math.min(3e3,t.doc.length),r=xc.create(t.facet(Ec).parser,t,{from:0,to:n});return r.work(20,n)||r.takeTree(),new e(r)}}]),e}();gc.state=Cn.define({create:Cc.init,update:function(e,t){var n,r=_(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is(gc.setState))return i.value}}catch(o){r.e(o)}finally{r.f()}return t.startState.facet(Ec)!=t.state.facet(Ec)?Cc.init(t.state):e.apply(t)}});var jc=function(e){var t=setTimeout((function(){return e()}),500);return function(){return clearTimeout(t)}};"undefined"!=typeof requestIdleCallback&&(jc=function(e){var t=-1,n=setTimeout((function(){t=requestIdleCallback(e,{timeout:400})}),100);return function(){return t<0?clearTimeout(n):cancelIdleCallback(t)}});var _c="undefined"!=typeof navigator&&(null===(Zu=navigator.scheduling)||void 0===Zu?void 0:Zu.isInputPending)?function(){return navigator.scheduling.isInputPending()}:null,Mc=fo.fromClass(function(){function e(t){h(this,e),this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}return m(e,[{key:"update",value:function(e){var t=this.view.state.field(gc.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}},{key:"scheduleWork",value:function(){if(!this.working){var e=this.view.state,t=e.field(gc.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=jc(this.work))}}},{key:"work",value:function(e){this.working=null;var t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),!(this.chunkBudget<=0)){var n=this.view,r=n.state,i=n.viewport.to,o=r.field(gc.state);if(o.tree!=o.context.tree||!o.context.isDone(i+1e5)){var a=Date.now()+Math.min(this.chunkBudget,100,e&&!_c?Math.max(25,e.timeRemaining()-5):1e9),s=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work((function(){return _c&&_c()||Date.now()>a}),i+(s?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:gc.setState.of(new Cc(o.context))})),this.chunkBudget>0&&(!l||s)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}}}},{key:"checkAsyncSchedule",value:function(e){var t=this;e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((function(){return t.scheduleWork()})).catch((function(e){return so(t.view.state,e)})).then((function(){return t.workScheduled--})),e.scheduleOn=null)}},{key:"destroy",value:function(){this.working&&this.working()}},{key:"isWorking",value:function(){return!!(this.working||this.workScheduled>0)}}]),e}(),{eventHandlers:{focus:function(){this.scheduleWork()}}}),Ec=yn.define({combine:function(e){return e.length?e[0]:null},enables:function(e){return[gc.state,Mc,Ms.contentAttributes.compute([e],(function(t){var n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]}}),Ac=yn.define(),Tc=yn.define({combine:function(e){if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function Nc(e){var t=e.facet(Tc);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function Oc(e,t){var n="",r=e.tabSize;if(9==e.facet(Tc).charCodeAt(0))for(;t>=r;)n+="\t",t-=r;for(var i=0;i<t;i++)n+=" ";return n}function Dc(e,t){e instanceof or&&(e=new Pc(e));var n,r=_(e.state.facet(Ac));try{for(r.s();!(n=r.n()).done;){var i=(0,n.value)(e,t);if(void 0!==i)return i}}catch(a){r.e(a)}finally{r.f()}var o=bc(e.state);return o?function(e,t,n){return Ic(t.resolveInner(n).enterUnfinishedNodesBefore(n),n,e)}(e,o,t):null}var Pc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this.state=t,this.options=n,this.unit=Nc(t)}return m(e,[{key:"lineAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.state.doc.lineAt(e),r=this.options,i=r.simulateBreak,o=r.simulateDoubleBreak;return null!=i&&i>=n.from&&i<=n.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}},{key:"textAfterPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";var n=this.lineAt(e,t),r=n.text,i=n.from;return r.slice(e-i,Math.min(r.length,e+100-i))}},{key:"column",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.lineAt(e,t),r=n.text,i=n.from,o=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(o+=a-this.countColumn(r,r.search(/\S|$/))),o}},{key:"countColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return Cr(e,this.state.tabSize,t)}},{key:"lineIndent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.lineAt(e,t),r=n.text,i=n.from,o=this.options.overrideIndentation;if(o){var a=o(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}},{key:"simulatedBreak",get:function(){return this.options.simulateBreak||null}}]),e}(),Rc=new yu;function Lc(e){var t=e.type.prop(Rc);if(t)return t;var n,r=e.firstChild;if(r&&(n=r.type.prop(yu.closedBy))){var i=e.lastChild,o=i&&n.indexOf(i.name)>-1;return function(e){return Vc(e,!0,1,void 0,o&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?i.from:void 0)}}return null==e.parent?Bc:null}function Ic(e,t,n){for(;e;e=e.parent){var r=Lc(e);if(r)return r(zc.create(n,t,e))}return null}function Bc(){return 0}var zc=function(e){y(n,e);var t=S(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e.state,e.options)).base=e,o.pos=r,o.node=i,o}return m(n,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){for(var e=this.state.doc.lineAt(this.node.from);;){for(var t=this.node.resolve(e.from);t.parent&&t.parent.from==t.from;)t=t.parent;if(Fc(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}},{key:"continue",value:function(){var e=this.node.parent;return e?Ic(e,this.pos,this.base):0}}],[{key:"create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Pc);function Fc(e,t){for(var n=t;n;n=n.parent)if(e==n)return!0;return!1}function Vc(e,t,n,r,i){var o=e.textAfter,a=o.match(/^\s*/)[0].length,s=r&&o.slice(a,a+r.length)==r||i==e.pos+a,l=t?function(e){var t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;for(var i=e.options.simulateBreak,o=e.state.doc.lineAt(n.from),a=null==i||i<=o.from?o.to:Math.min(o.to,i),s=n.to;;){var l=t.childAfter(s);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<a?n:null;s=l.to}}(e):null;return l?s?e.column(l.from):e.column(l.to):e.baseIndent+(s?0:e.unit*n)}var Wc=yn.define(),Hc=new yu;function qc(e){var t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function Uc(e,t,n){var r,i=_(e.facet(Wc));try{for(i.s();!(r=i.n()).done;){var o=(0,r.value)(e,t,n);if(o)return o}}catch(a){i.e(a)}finally{i.f()}return function(e,t,n){var r=bc(e);if(r.length<n)return null;for(var i=null,o=r.resolveInner(n,1);o;o=o.parent)if(!(o.to<=n||o.from>n)){if(i&&o.from<t)break;var a=o.type.prop(Hc);if(a&&(o.to<r.length-50||r.length==e.doc.length||!qc(o))){var s=a(o,e);s&&s.from<=n&&s.from>=t&&s.to>n&&(i=s)}}return i}(e,t,n)}function $c(e,t){var n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}var Kc=Kn.define({map:$c}),Gc=Kn.define({map:$c});function Jc(e){var t,n=[],r=_(e.state.selection.ranges);try{var i=function(){var r=t.value.head;if(n.some((function(e){return e.from<=r&&e.to>=r})))return"continue";n.push(e.lineBlockAt(r))};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}var Qc=Cn.define({create:function(){return Fi.none},update:function(e,t){e=e.map(t.changes);var n,r=_(t.effects);try{var i=function(){var t=n.value;t.is(Kc)&&!function(e,t,n){var r=!1;return e.between(t,t,(function(e,i){e==t&&i==n&&(r=!0)})),r}(e,t.value.from,t.value.to)?e=e.update({add:[of.range(t.value.from,t.value.to)]}):t.is(Gc)&&(e=e.update({filter:function(e,n){return t.value.from!=e||t.value.to!=n},filterFrom:t.value.from,filterTo:t.value.to}))};for(r.s();!(n=r.n()).done;)i()}catch(s){r.e(s)}finally{r.f()}if(t.selection){var o=!1,a=t.selection.main.head;e.between(a,a,(function(e,t){e<a&&t>a&&(o=!0)})),o&&(e=e.update({filterFrom:a,filterTo:a,filter:function(e,t){return t<=a||e>=a}}))}return e},provide:function(e){return Ms.decorations.from(e)},toJSON:function(e,t){var n=[];return e.between(0,t.doc.length,(function(e,t){n.push(e,t)})),n},fromJSON:function(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");t.push(of.range(r,i))}return Fi.set(t,!0)}});function Yc(e,t,n){var r,i=null;return null===(r=e.field(Qc,!1))||void 0===r||r.between(t,n,(function(e,t){(!i||i.from>e)&&(i={from:e,to:t})})),i}function Xc(e,t){return e.field(Qc,!1)?t:t.concat(Kn.appendConfig.of(rf()))}function Zc(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return Ms.announce.of("".concat(e.state.phrase(n?"Folded lines":"Unfolded lines")," ").concat(r," ").concat(e.state.phrase("to")," ").concat(i,"."))}var ef=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:function(e){var t,n=_(Jc(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=Uc(e.state,r.from,r.to);if(i)return e.dispatch({effects:Xc(e.state,[Kc.of(i),Zc(e,i)])}),!0}}catch(o){n.e(o)}finally{n.f()}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:function(e){if(!e.state.field(Qc,!1))return!1;var t,n=[],r=_(Jc(e));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=Yc(e.state,i.from,i.to);o&&n.push(Gc.of(o),Zc(e,o,!1))}}catch(a){r.e(a)}finally{r.f()}return n.length&&e.dispatch({effects:n}),n.length>0}},{key:"Ctrl-Alt-[",run:function(e){for(var t=e.state,n=[],r=0;r<t.doc.length;){var i=e.lineBlockAt(r),o=Uc(t,i.from,i.to);o&&n.push(Kc.of(o)),r=(o?e.lineBlockAt(o.to):i).to+1}return n.length&&e.dispatch({effects:Xc(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:function(e){var t=e.state.field(Qc,!1);if(!t||!t.size)return!1;var n=[];return t.between(0,e.state.doc.length,(function(e,t){n.push(Gc.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],tf={placeholderDOM:null,placeholderText:"\u2026"},nf=yn.define({combine:function(e){return ar(e,tf)}});function rf(e){var t=[Qc,lf];return e&&t.push(nf.of(e)),t}var of=Fi.replace({widget:new(function(e){y(n,e);var t=S(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"toDOM",value:function(e){var t=e.state,n=t.facet(nf),r=function(t){var n=e.lineBlockAt(e.posAtDOM(t.target)),r=Yc(e.state,n.from,n.to);r&&e.dispatch({effects:Gc.of(r)}),t.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(e,r);var i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",t.phrase("folded code")),i.title=t.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}]),n}(Bi))}),af={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:function(){return!1}},sf=function(e){y(n,e);var t=S(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).config=e,i.open=r,i}return m(n,[{key:"eq",value:function(e){return this.config==e.config&&this.open==e.open}},{key:"toDOM",value:function(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);var t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}]),n}(Gl);var lf=Ms.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),uf=function(){function e(t,n){var r;function i(e){var t=Ar.newName();return(r||(r=Object.create(null)))["."+t]=e,t}h(this,e),this.specs=t;var o="string"==typeof n.all?n.all:n.all?i(n.all):void 0,a=n.scope;this.scope=a instanceof gc?function(e){return e.prop(mc)==a.data}:a?function(e){return e==a}:void 0,this.style=Qu(t.map((function(e){return{tag:e.tag,class:e.class||i(Object.assign({},e,{tag:null}))}})),{all:o}).style,this.module=r?new Ar(r):null,this.themeType=n.themeType}return m(e,null,[{key:"define",value:function(t,n){return new e(t,n||{})}}]),e}(),cf=yn.define(),ff=yn.define({combine:function(e){return e.length?[e[0]]:null}});function hf(e){var t=e.facet(cf);return t.length?t:e.facet(ff)}function df(e,t){var n,r=[vf];return e instanceof uf&&(e.module&&r.push(Ms.styleModule.of(e.module)),n=e.themeType),(null===t||void 0===t?void 0:t.fallback)?r.push(ff.of(e)):n?r.push(cf.computeN([Ms.darkTheme],(function(t){return t.facet(Ms.darkTheme)==("dark"==n)?[e]:[]}))):r.push(cf.of(e)),r}var pf=function(){function e(t){h(this,e),this.markCache=Object.create(null),this.tree=bc(t.state),this.decorations=this.buildDeco(t,hf(t.state))}return m(e,[{key:"update",value:function(e){var t=bc(e.state),n=hf(e.state),r=n!=hf(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}},{key:"buildDeco",value:function(e,t){var n=this;if(!t||!this.tree.length)return Fi.none;var r,i=new dr,o=_(e.visibleRanges);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.from,l=a.to;Yu(this.tree,t,(function(e,t,r){i.add(e,t,n.markCache[r]||(n.markCache[r]=Fi.mark({class:r})))}),s,l)}}catch(u){o.e(u)}finally{o.f()}return i.finish()}}]),e}(),vf=Tn.high(fo.fromClass(pf,{decorations:function(e){return e.decorations}})),mf=uf.define([{tag:vc.meta,color:"#404740"},{tag:vc.link,textDecoration:"underline"},{tag:vc.heading,textDecoration:"underline",fontWeight:"bold"},{tag:vc.emphasis,fontStyle:"italic"},{tag:vc.strong,fontWeight:"bold"},{tag:vc.strikethrough,textDecoration:"line-through"},{tag:vc.keyword,color:"#708"},{tag:[vc.atom,vc.bool,vc.url,vc.contentSeparator,vc.labelName],color:"#219"},{tag:[vc.literal,vc.inserted],color:"#164"},{tag:[vc.string,vc.deleted],color:"#a11"},{tag:[vc.regexp,vc.escape,vc.special(vc.string)],color:"#e40"},{tag:vc.definition(vc.variableName),color:"#00f"},{tag:vc.local(vc.variableName),color:"#30a"},{tag:[vc.typeName,vc.namespace],color:"#085"},{tag:vc.className,color:"#167"},{tag:[vc.special(vc.variableName),vc.macroName],color:"#256"},{tag:vc.definition(vc.propertyName),color:"#00c"},{tag:vc.comment,color:"#940"},{tag:vc.invalid,color:"#f00"}]),gf=Ms.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),yf=1e4,bf="()[]{}",kf=yn.define({combine:function(e){return ar(e,{afterCursor:!0,brackets:bf,maxScanDistance:yf,renderMatch:Sf})}}),wf=Fi.mark({class:"cm-matchingBracket"}),xf=Fi.mark({class:"cm-nonmatchingBracket"});function Sf(e){var t=[],n=e.matched?wf:xf;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}var Cf=Cn.define({create:function(){return Fi.none},update:function(e,t){if(!t.docChanged&&!t.selection)return e;var n,r=[],i=t.state.facet(kf),o=_(t.state.selection.ranges);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.empty){var s=Mf(t.state,a.head,-1,i)||a.head>0&&Mf(t.state,a.head-1,1,i)||i.afterCursor&&(Mf(t.state,a.head,1,i)||a.head<t.state.doc.length&&Mf(t.state,a.head+1,-1,i));s&&(r=r.concat(i.renderMatch(s,t.state)))}}}catch(l){o.e(l)}finally{o.f()}return Fi.set(r,!0)},provide:function(e){return Ms.decorations.from(e)}}),jf=[Cf,gf];function _f(e,t,n){var r=e.prop(t<0?yu.openedBy:yu.closedBy);if(r)return r;if(1==e.name.length){var i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function Mf(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.maxScanDistance||yf,o=r.brackets||bf,a=bc(e),s=a.resolveInner(t,n),l=s;l;l=l.parent){var u=_f(l.type,n,o);if(u&&l.from<l.to)return Ef(e,t,n,l,u,o)}return Af(e,t,n,a,s.type,i,o)}function Ef(e,t,n,r,i,o){var a=r.parent,s={from:r.from,to:r.to},l=0,u=null===a||void 0===a?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==l&&i.indexOf(u.type.name)>-1&&u.from<u.to)return{start:s,end:{from:u.from,to:u.to},matched:!0};if(_f(u.type,n,o))l++;else if(_f(u.type,-n,o)){if(0==l)return{start:s,end:u.from==u.to?void 0:{from:u.from,to:u.to},matched:!1};l--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:s,matched:!1}}function Af(e,t,n,r,i,o,a){var s=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=a.indexOf(s);if(l<0||l%2==0!=n>0)return null;for(var u={from:n<0?t-1:t,to:n>0?t+1:t},c=e.doc.iterRange(t,n>0?e.doc.length:0),f=0,h=0;!c.next().done&&h<=o;){var d=c.value;n<0&&(h+=d.length);for(var p=t+h*n,v=n>0?0:d.length-1,m=n>0?d.length:-1;v!=m;v+=n){var g=a.indexOf(d[v]);if(!(g<0||r.resolveInner(p+v,1).type!=i))if(g%2==0==n>0)f++;else{if(1==f)return{start:u,end:{from:p+v,to:p+v+1},matched:g>>1==l>>1};f--}}n>0&&(h+=d.length)}return c.done?{start:u,matched:!1}:null}for(var Tf=Object.create(null),Nf=[ku.none],Of=[],Df=Object.create(null),Pf=0,Rf=[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]];Pf<Rf.length;Pf++){var Lf=u(Rf[Pf],2),If=Lf[0],Bf=Lf[1];Df[If]=Ff(Tf,Bf)}function zf(e,t){Of.indexOf(e)>-1||(Of.push(e),console.warn(t))}function Ff(e,t){var n,r=null,i=_(t.split("."));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=e[o]||vc[o];a?"function"==typeof a?r?r=a(r):zf(o,"Modifier ".concat(o," used at start of tag")):r?zf(o,"Tag ".concat(o," used as modifier")):r=a:zf(o,"Unknown highlighting tag ".concat(o))}}catch(u){i.e(u)}finally{i.f()}if(!r)return 0;var s=t.replace(/ /g,"_"),l=ku.define({id:Nf.length,name:s,props:[Ku(vu({},s,r))]});return Nf.push(l),l.id}function Vf(e,t){return function(n){var r=n.state,i=n.dispatch;if(r.readOnly)return!1;var o=e(t,r);return!!o&&(i(r.update(o)),!0)}}var Wf=Vf(Gf,0),Hf=Vf(Kf,0),qf=Vf((function(e,t){return Kf(e,t,function(e){var t,n=[],r=_(e.selection.ranges);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=e.doc.lineAt(i.from),a=i.to<=o.to?o:e.doc.lineAt(i.to),s=n.length-1;s>=0&&n[s].to>o.from?n[s].to=a.to:n.push({from:o.from,to:a.to})}}catch(l){r.e(l)}finally{r.f()}return n}(t))}),0);function Uf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selection.main.head,n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}function $f(e,t,n,r){var i,o,a=t.open,s=t.close,l=e.sliceDoc(n-50,n),u=e.sliceDoc(r,r+50),c=/\s*$/.exec(l)[0].length,f=/^\s*/.exec(u)[0].length,h=l.length-c;if(l.slice(h-a.length,h)==a&&u.slice(f,f+s.length)==s)return{open:{pos:n-c,margin:c&&1},close:{pos:r+f,margin:f&&1}};r-n<=100?i=o=e.sliceDoc(n,r):(i=e.sliceDoc(n,n+50),o=e.sliceDoc(r-50,r));var d=/^\s*/.exec(i)[0].length,p=/\s*$/.exec(o)[0].length,v=o.length-p-s.length;return i.slice(d,d+a.length)==a&&o.slice(v,v+s.length)==s?{open:{pos:n+d+a.length,margin:/\s/.test(i.charAt(d+a.length))?1:0},close:{pos:r-p-s.length,margin:/\s/.test(o.charAt(v-1))?1:0}}:null}function Kf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,r=n.map((function(e){return Uf(t,e.from).block}));if(!r.every((function(e){return e})))return null;var i=n.map((function(e,n){return $f(t,r[n],e.from,e.to)}));if(2!=e&&!i.every((function(e){return e})))return{changes:t.changes(n.map((function(e,t){return i[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}]})))};if(1!=e&&i.some((function(e){return e}))){for(var o,a=[],s=0;s<i.length;s++)if(o=i[s]){var l=r[s],u=o,c=u.open,f=u.close;a.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:f.pos-f.margin,to:f.pos+l.close.length})}return{changes:a}}return null}function Gf(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,i=[],o=-1,a=_(r);try{for(a.s();!(n=a.n()).done;){for(var s=n.value,l=s.from,u=s.to,c=i.length,f=1e9,h=l;h<=u;){var d=t.doc.lineAt(h);if(d.from>o&&(l==u||u>d.from)){o=d.from;var p=Uf(t,h).line;if(!p)continue;var v=/^\s*/.exec(d.text)[0].length,m=v==d.length,g=d.text.slice(v,v+p.length)==p?v:-1;v<d.text.length&&v<f&&(f=v),i.push({line:d,comment:g,token:p,indent:v,empty:m,single:!1})}h=d.to+1}if(f<1e9)for(var y=c;y<i.length;y++)i[y].indent<i[y].line.text.length&&(i[y].indent=f);i.length==c+1&&(i[c].single=!0)}}catch(z){a.e(z)}finally{a.f()}if(2!=e&&i.some((function(e){return e.comment<0&&(!e.empty||e.single)}))){var b,k=[],w=_(i);try{for(w.s();!(b=w.n()).done;){var x=b.value,S=x.line,C=x.token,j=x.indent,M=x.empty,E=x.single;!E&&M||k.push({from:S.from+j,insert:C+" "})}}catch(z){w.e(z)}finally{w.f()}var A=t.changes(k);return{changes:A,selection:t.selection.map(A,1)}}if(1!=e&&i.some((function(e){return e.comment>=0}))){var T,N=[],O=_(i);try{for(O.s();!(T=O.n()).done;){var D=T.value,P=D.line,R=D.comment,L=D.token;if(R>=0){var I=P.from+R,B=I+L.length;" "==P.text[B-P.from]&&B++,N.push({from:I,to:B})}}}catch(z){O.e(z)}finally{O.f()}return{changes:N}}return null}var Jf=qn.define(),Qf=qn.define(),Yf=yn.define(),Xf=yn.define({combine:function(e){return ar(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});var Zf=Cn.define({create:function(){return ph.empty},update:function(e,t){var n=t.state.facet(Xf),r=t.annotation(Jf);if(r){var i=t.docChanged?vn.single(function(e){var t=0;return e.iterChangedRanges((function(e,n){return t=n})),t}(t.changes)):void 0,o=oh.fromTransaction(t,i),a=r.side,s=0==a?e.undone:e.done;return s=o?ah(s,s.length,n.minDepth,o):uh(s,t.startState.selection),new ph(0==a?r.rest:s,0==a?s:r.rest)}var l=t.annotation(Qf);if("full"!=l&&"before"!=l||(e=e.isolate()),!1===t.annotation(Gn.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);var u=oh.fromTransaction(t),c=t.annotation(Gn.time),f=t.annotation(Gn.userEvent);return u?e=e.addChanges(u,c,f,n.newGroupDelay,n.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,c,f,n.newGroupDelay)),"full"!=l&&"after"!=l||(e=e.isolate()),e},toJSON:function(e){return{done:e.done.map((function(e){return e.toJSON()})),undone:e.undone.map((function(e){return e.toJSON()}))}},fromJSON:function(e){return new ph(e.done.map(oh.fromJSON),e.undone.map(oh.fromJSON))}});function eh(e,t){return function(n){var r=n.state,i=n.dispatch;if(!t&&r.readOnly)return!1;var o=r.field(Zf,!1);if(!o)return!1;var a=o.pop(e,r,t);return!!a&&(i(a),!0)}}var th=eh(0,!1),nh=eh(1,!1),rh=eh(0,!0),ih=eh(1,!0);var oh=function(){function e(t,n,r,i,o){h(this,e),this.changes=t,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}return m(e,[{key:"setSelAfter",value:function(t){return new e(this.changes,this.effects,this.mapped,this.startSelection,t)}},{key:"toJSON",value:function(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((function(e){return e.toJSON()}))}}}],[{key:"fromJSON",value:function(t){return new e(t.changes&&sn.fromJSON(t.changes),[],t.mapped&&an.fromJSON(t.mapped),t.startSelection&&vn.fromJSON(t.startSelection),t.selectionsAfter.map(vn.fromJSON))}},{key:"fromTransaction",value:function(t,n){var r,i=lh,o=_(t.startState.facet(Yf));try{for(o.s();!(r=o.n()).done;){var a=(0,r.value)(t);a.length&&(i=i.concat(a))}}catch(s){o.e(s)}finally{o.f()}return!i.length&&t.changes.empty?null:new e(t.changes.invert(t.startState.doc),i,void 0,n||t.startState.selection,lh)}},{key:"selection",value:function(t){return new e(void 0,lh,void 0,void 0,t)}}]),e}();function ah(e,t,n,r){var i=t+1>n+20?t-n-1:0,o=e.slice(i,t);return o.push(r),o}function sh(e,t){return e.length?t.length?e.concat(t):e:t}var lh=[];function uh(e,t){if(e.length){var n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),ah(e,e.length-1,1e9,n.setSelAfter(r)))}return[oh.selection([t])]}function ch(e){var t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function fh(e,t){if(!e.length)return e;for(var n=e.length,r=lh;n;){var i=hh(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){var o=e.slice(0,n);return o[n-1]=i,o}t=i.mapped,n--,r=i.selectionsAfter}return r.length?[oh.selection(r)]:lh}function hh(e,t,n){var r=sh(e.selectionsAfter.length?e.selectionsAfter.map((function(e){return e.map(t)})):lh,n);if(!e.changes)return oh.selection(r);var i=e.changes.map(t),o=t.mapDesc(e.changes,!0),a=e.mapped?e.mapped.composeDesc(o):o;return new oh(i,Kn.mapEffects(e.effects,t),a,e.startSelection.map(o),r)}var dh=/^(input\.type|delete)($|\.)/,ph=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;h(this,e),this.done=t,this.undone=n,this.prevTime=r,this.prevUserEvent=i}return m(e,[{key:"isolate",value:function(){return this.prevTime?new e(this.done,this.undone):this}},{key:"addChanges",value:function(t,n,r,i,o){var a=this.done,s=a[a.length-1];return a=s&&s.changes&&!s.changes.empty&&t.changes&&(!r||dh.test(r))&&(!s.selectionsAfter.length&&n-this.prevTime<i&&function(e,t){var n=[],r=!1;return e.iterChangedRanges((function(e,t){return n.push(e,t)})),t.iterChangedRanges((function(e,t,i,o){for(var a=0;a<n.length;){var s=n[a++],l=n[a++];o>=s&&i<=l&&(r=!0)}})),r}(s.changes,t.changes)||"input.type.compose"==r)?ah(a,a.length-1,o,new oh(t.changes.compose(s.changes),sh(t.effects,s.effects),s.mapped,s.startSelection,lh)):ah(a,a.length,o,t),new e(a,lh,n,r)}},{key:"addSelection",value:function(t,n,r,i){var o,a,s=this.done.length?this.done[this.done.length-1].selectionsAfter:lh;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&(o=s[s.length-1],a=t,o.ranges.length==a.ranges.length&&0===o.ranges.filter((function(e,t){return e.empty!=a.ranges[t].empty})).length)?this:new e(uh(this.done,t),this.undone,n,r)}},{key:"addMapping",value:function(t){return new e(fh(this.done,t),fh(this.undone,t),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(e,t,n){var r=0==e?this.done:this.undone;if(0==r.length)return null;var i=r[r.length-1];if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Jf.of({side:e,rest:ch(r)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){var o=1==r.length?lh:r.slice(0,r.length-1);return i.mapped&&(o=fh(o,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Jf.of({side:e,rest:o}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}]),e}();ph.empty=new ph(lh,lh);var vh=[{key:"Mod-z",run:th,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:nh,preventDefault:!0},{linux:"Ctrl-Shift-z",run:nh,preventDefault:!0},{key:"Mod-u",run:rh,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:ih,preventDefault:!0}];function mh(e,t){return vn.create(e.ranges.map(t),e.mainIndex)}function gh(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function yh(e,t){var n=e.state,r=e.dispatch,i=mh(n.selection,t);return!i.eq(n.selection)&&(r(gh(n,i)),!0)}function bh(e,t){return vn.cursor(t?e.to:e.from)}function kh(e,t){return yh(e,(function(n){return n.empty?e.moveByChar(n,t):bh(n,t)}))}function wh(e){return e.textDirectionAt(e.state.selection.main.head)==xo.LTR}var xh=function(e){return kh(e,!wh(e))},Sh=function(e){return kh(e,wh(e))};function Ch(e,t){return yh(e,(function(n){return n.empty?e.moveByGroup(n,t):bh(n,t)}))}function jh(e,t,n){if(t.type.prop(n))return!0;var r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function _h(e,t,n){for(var r=bc(e).resolveInner(t.head),i=n?yu.closedBy:yu.openedBy,o=t.head;;){var a=n?r.childAfter(o):r.childBefore(o);if(!a)break;jh(e,a,i)?r=a:o=n?a.to:a.from}var s,l;return l=r.type.prop(i)&&(s=n?Mf(e,r.from,1):Mf(e,r.to,-1))&&s.matched?n?s.end.to:s.end.from:n?r.to:r.from,vn.cursor(l,n?-1:1)}function Mh(e,t){return yh(e,(function(n){if(!n.empty)return bh(n,t);var r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}var Eh=function(e){return Mh(e,!1)},Ah=function(e){return Mh(e,!0)};function Th(e){return Math.max(e.defaultLineHeight,Math.min(e.dom.clientHeight,innerHeight)-5)}function Nh(e,t){var n=e.state,r=mh(n.selection,(function(n){return n.empty?e.moveVertically(n,t,Th(e)):bh(n,t)}));if(r.eq(n.selection))return!1;var i,o=e.coordsAtPos(n.selection.main.head),a=e.scrollDOM.getBoundingClientRect();return o&&o.top>a.top&&o.bottom<a.bottom&&o.top-a.top<=e.scrollDOM.scrollHeight-e.scrollDOM.scrollTop-e.scrollDOM.clientHeight&&(i=Ms.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-a.top})),e.dispatch(gh(n,r),{effects:i}),!0}var Oh=function(e){return Nh(e,!1)},Dh=function(e){return Nh(e,!0)};function Ph(e,t,n){var r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){var o=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&t.head!=r.from+o&&(i=vn.cursor(r.from+o))}return i}function Rh(e,t,n){var r=!1,i=mh(e.selection,(function(t){var i=Mf(e,t.head,-1)||Mf(e,t.head,1)||t.head>0&&Mf(e,t.head-1,1)||t.head<e.doc.length&&Mf(e,t.head+1,-1);if(!i||!i.end)return t;r=!0;var o=i.start.from==t.head?i.end.to:i.end.from;return n?vn.range(t.anchor,o):vn.cursor(o)}));return!!r&&(t(gh(e,i)),!0)}function Lh(e,t){var n=mh(e.state.selection,(function(e){var n=t(e);return vn.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(e.state.selection)&&(e.dispatch(gh(e.state,n)),!0)}function Ih(e,t){return Lh(e,(function(n){return e.moveByChar(n,t)}))}var Bh=function(e){return Ih(e,!wh(e))},zh=function(e){return Ih(e,wh(e))};function Fh(e,t){return Lh(e,(function(n){return e.moveByGroup(n,t)}))}function Vh(e,t){return Lh(e,(function(n){return e.moveVertically(n,t)}))}var Wh=function(e){return Vh(e,!1)},Hh=function(e){return Vh(e,!0)};function qh(e,t){return Lh(e,(function(n){return e.moveVertically(n,t,Th(e))}))}var Uh=function(e){return qh(e,!1)},$h=function(e){return qh(e,!0)},Kh=function(e){var t=e.state;return(0,e.dispatch)(gh(t,{anchor:0})),!0},Gh=function(e){var t=e.state;return(0,e.dispatch)(gh(t,{anchor:t.doc.length})),!0},Jh=function(e){var t=e.state;return(0,e.dispatch)(gh(t,{anchor:t.selection.main.anchor,head:0})),!0},Qh=function(e){var t=e.state;return(0,e.dispatch)(gh(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0};function Yh(e,t){if(e.state.readOnly)return!1;var n="delete.selection",r=e.state,i=r.changeByRange((function(r){var i=r.from,o=r.to;if(i==o){var a=t(i);a<i?(n="delete.backward",a=Xh(e,a,!1)):a>i&&(n="delete.forward",a=Xh(e,a,!0)),i=Math.min(i,a),o=Math.max(o,a)}else i=Xh(e,i,!1),o=Xh(e,o,!0);return i==o?{range:r}:{changes:{from:i,to:o},range:vn.cursor(i)}}));return!i.changes.empty&&(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?Ms.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Xh(e,t,n){if(e instanceof Ms){var r,i=_(e.state.facet(Ms.atomicRanges).map((function(t){return t(e)})));try{for(i.s();!(r=i.n()).done;){r.value.between(t,t,(function(e,r){e<t&&r>t&&(t=n?r:e)}))}}catch(o){i.e(o)}finally{i.f()}}return t}var Zh=function(e,t){return Yh(e,(function(n){var r,i,o=e.state,a=o.doc.lineAt(n);if(!t&&n>a.from&&n<a.from+200&&!/[^ \t]/.test(r=a.text.slice(0,n-a.from))){if("\t"==r[r.length-1])return n-1;for(var s=Cr(r,o.tabSize)%Nc(o)||Nc(o),l=0;l<s&&" "==r[r.length-1-l];l++)n--;i=n}else(i=Jt(a.text,n-a.from,t,t)+a.from)==n&&a.number!=(t?o.doc.lines:1)&&(i+=t?1:-1);return i}))},ed=function(e){return Zh(e,!1)},td=function(e){return Zh(e,!0)},nd=function(e,t){return Yh(e,(function(n){for(var r=n,i=e.state,o=i.doc.lineAt(r),a=i.charCategorizer(r),s=null;;){if(r==(t?o.to:o.from)){r==n&&o.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}var l=Jt(o.text,r-o.from,t)+o.from,u=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),c=a(u);if(null!=s&&c!=s)break;" "==u&&r==n||(s=c),r=l}return r}))},rd=function(e){return nd(e,!1)},id=function(e){return Yh(e,(function(t){var n=e.lineBlockAt(t).to;return t<n?n:Math.min(e.state.doc.length,t+1)}))};function od(e){var t,n=[],r=-1,i=_(e.selection.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=e.doc.lineAt(o.from),s=e.doc.lineAt(o.to);if(o.empty||o.to!=s.from||(s=e.doc.lineAt(o.to-1)),r>=a.number){var l=n[n.length-1];l.to=s.to,l.ranges.push(o)}else n.push({from:a.from,to:s.to,ranges:[o]});r=s.number+1}}catch(u){i.e(u)}finally{i.f()}return n}function ad(e,t,n){if(e.readOnly)return!1;var r,i=[],o=[],a=_(od(e));try{for(a.s();!(r=a.n()).done;){var s=r.value;if(n?s.to!=e.doc.length:0!=s.from){var l=e.doc.lineAt(n?s.to+1:s.from-1),u=l.length+1;if(n){i.push({from:s.to,to:l.to},{from:s.from,insert:l.text+e.lineBreak});var c,f=_(s.ranges);try{for(f.s();!(c=f.n()).done;){var h=c.value;o.push(vn.range(Math.min(e.doc.length,h.anchor+u),Math.min(e.doc.length,h.head+u)))}}catch(m){f.e(m)}finally{f.f()}}else{i.push({from:l.from,to:s.from},{from:s.to,insert:e.lineBreak+l.text});var d,p=_(s.ranges);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(vn.range(v.anchor-u,v.head-u))}}catch(m){p.e(m)}finally{p.f()}}}}}catch(m){a.e(m)}finally{a.f()}return!!i.length&&(t(e.update({changes:i,scrollIntoView:!0,selection:vn.create(o,e.selection.mainIndex),userEvent:"move.line"})),!0)}function sd(e,t,n){if(e.readOnly)return!1;var r,i=[],o=_(od(e));try{for(o.s();!(r=o.n()).done;){var a=r.value;n?i.push({from:a.from,insert:e.doc.slice(a.from,a.to)+e.lineBreak}):i.push({from:a.to,insert:e.lineBreak+e.doc.slice(a.from,a.to)})}}catch(s){o.e(s)}finally{o.f()}return t(e.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var ld=ud(!1);function ud(e){return function(t){var n=t.state,r=t.dispatch;if(n.readOnly)return!1;var i=n.changeByRange((function(t){var r=t.from,i=t.to,o=n.doc.lineAt(r),a=!e&&r==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};var n,r=bc(e).resolveInner(t),i=r.childBefore(t),o=r.childAfter(t);return i&&o&&i.to<=t&&o.from>=t&&(n=i.type.prop(yu.closedBy))&&n.indexOf(o.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(o.from).from?{from:i.to,to:o.from}:null}(n,r);e&&(r=i=(i<=o.to?o:n.doc.lineAt(i)).to);var s=new Pc(n,{simulateBreak:r,simulateDoubleBreak:!!a}),l=Dc(s,r);for(null==l&&(l=/^\s*/.exec(n.doc.lineAt(r).text)[0].length);i<o.to&&/\s/.test(o.text[i-o.from]);)i++;a?(r=a.from,i=a.to):r>o.from&&r<o.from+100&&!/\S/.test(o.text.slice(0,r))&&(r=o.from);var u=["",Oc(n,l)];return a&&u.push(Oc(n,s.lineIndent(o.from,-1))),{changes:{from:r,to:i,insert:Rt.of(u)},range:vn.cursor(r+1+u[1].length)}}));return r(n.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function cd(e,t){var n=-1;return e.changeByRange((function(r){for(var i=[],o=r.from;o<=r.to;){var a=e.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(t(a,i,r),n=a.number),o=a.to+1}var s=e.changes(i);return{changes:i,range:vn.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}}))}var fd=function(e){var t=e.state,n=e.dispatch;return!t.readOnly&&(n(t.update(cd(t,(function(e,n){n.push({from:e.from,insert:t.facet(Tc)})})),{userEvent:"input.indent"})),!0)},hd=function(e){var t=e.state,n=e.dispatch;return!t.readOnly&&(n(t.update(cd(t,(function(e,n){var r=/^\s*/.exec(e.text)[0];if(r){for(var i=Cr(r,t.tabSize),o=0,a=Oc(t,Math.max(0,i-Nc(t)));o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;n.push({from:e.from+o,to:e.from+r.length,insert:a.slice(o)})}})),{userEvent:"delete.dedent"})),!0)},dd=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:function(e){return yh(e,(function(t){return _h(e.state,t,!wh(e))}))},shift:function(e){return Lh(e,(function(t){return _h(e.state,t,!wh(e))}))}},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:function(e){return yh(e,(function(t){return _h(e.state,t,wh(e))}))},shift:function(e){return Lh(e,(function(t){return _h(e.state,t,wh(e))}))}},{key:"Alt-ArrowUp",run:function(e){return ad(e.state,e.dispatch,!1)}},{key:"Shift-Alt-ArrowUp",run:function(e){return sd(e.state,e.dispatch,!1)}},{key:"Alt-ArrowDown",run:function(e){return ad(e.state,e.dispatch,!0)}},{key:"Shift-Alt-ArrowDown",run:function(e){return sd(e.state,e.dispatch,!0)}},{key:"Escape",run:function(e){var t=e.state,n=e.dispatch,r=t.selection,i=null;return r.ranges.length>1?i=vn.create([r.main]):r.main.empty||(i=vn.create([vn.cursor(r.main.head)])),!!i&&(n(gh(t,i)),!0)}},{key:"Mod-Enter",run:ud(!0)},{key:"Alt-l",mac:"Ctrl-l",run:function(e){var t=e.state,n=e.dispatch,r=od(t).map((function(e){var n=e.from,r=e.to;return vn.range(n,Math.min(r+1,t.doc.length))}));return n(t.update({selection:vn.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:function(e){var t=e.state,n=e.dispatch,r=mh(t.selection,(function(e){for(var n,r=bc(t).resolveInner(e.head,1);!(r.from<e.from&&r.to>=e.to||r.to>e.to&&r.from<=e.from)&&(null===(n=r.parent)||void 0===n?void 0:n.parent);)r=r.parent;return vn.range(r.to,r.from)}));return n(gh(t,r)),!0},preventDefault:!0},{key:"Mod-[",run:hd},{key:"Mod-]",run:fd},{key:"Mod-Alt-\\",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=Object.create(null),i=new Pc(t,{overrideIndentation:function(e){var t=r[e];return null==t?-1:t}}),o=cd(t,(function(e,n,o){var a=Dc(i,e.from);if(null!=a){/\S/.test(e.text)||(a=0);var s=/^\s*/.exec(e.text)[0],l=Oc(t,a);(s!=l||o.from<e.from+s.length)&&(r[e.from]=a,n.push({from:e.from,to:e.from+s.length,insert:l}))}}));return o.changes.empty||n(t.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:function(e){if(e.state.readOnly)return!1;var t=e.state,n=t.changes(od(t).map((function(e){var n=e.from,r=e.to;return n>0?n--:r<t.doc.length&&r++,{from:n,to:r}}))),r=mh(t.selection,(function(t){return e.moveVertically(t,!0)})).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:function(e){return Rh(e.state,e.dispatch,!1)}},{key:"Mod-/",run:function(e){var t=Uf(e.state);return t.line?Wf(e):!!t.block&&qf(e)}},{key:"Alt-A",run:Hf}].concat([{key:"ArrowLeft",run:xh,shift:Bh,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:function(e){return Ch(e,!wh(e))},shift:function(e){return Fh(e,!wh(e))},preventDefault:!0},{mac:"Cmd-ArrowLeft",run:function(e){return yh(e,(function(t){return Ph(e,t,!wh(e))}))},shift:function(e){return Lh(e,(function(t){return Ph(e,t,!wh(e))}))},preventDefault:!0},{key:"ArrowRight",run:Sh,shift:zh,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:function(e){return Ch(e,wh(e))},shift:function(e){return Fh(e,wh(e))},preventDefault:!0},{mac:"Cmd-ArrowRight",run:function(e){return yh(e,(function(t){return Ph(e,t,wh(e))}))},shift:function(e){return Lh(e,(function(t){return Ph(e,t,wh(e))}))},preventDefault:!0},{key:"ArrowUp",run:Eh,shift:Wh,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Kh,shift:Jh},{mac:"Ctrl-ArrowUp",run:Oh,shift:Uh},{key:"ArrowDown",run:Ah,shift:Hh,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Gh,shift:Qh},{mac:"Ctrl-ArrowDown",run:Dh,shift:$h},{key:"PageUp",run:Oh,shift:Uh},{key:"PageDown",run:Dh,shift:$h},{key:"Home",run:function(e){return yh(e,(function(t){return Ph(e,t,!1)}))},shift:function(e){return Lh(e,(function(t){return Ph(e,t,!1)}))},preventDefault:!0},{key:"Mod-Home",run:Kh,shift:Jh},{key:"End",run:function(e){return yh(e,(function(t){return Ph(e,t,!0)}))},shift:function(e){return Lh(e,(function(t){return Ph(e,t,!0)}))},preventDefault:!0},{key:"Mod-End",run:Gh,shift:Qh},{key:"Enter",run:ld},{key:"Mod-a",run:function(e){var t=e.state;return(0,e.dispatch)(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:ed,shift:ed},{key:"Delete",run:td},{key:"Mod-Backspace",mac:"Alt-Backspace",run:rd},{key:"Mod-Delete",mac:"Alt-Delete",run:function(e){return nd(e,!0)}},{mac:"Mod-Backspace",run:function(e){return Yh(e,(function(t){var n=e.lineBlockAt(t).from;return t>n?n:Math.max(0,t-1)}))}},{mac:"Mod-Delete",run:id}].concat([{key:"Ctrl-b",run:xh,shift:Bh,preventDefault:!0},{key:"Ctrl-f",run:Sh,shift:zh},{key:"Ctrl-p",run:Eh,shift:Wh},{key:"Ctrl-n",run:Ah,shift:Hh},{key:"Ctrl-a",run:function(e){return yh(e,(function(t){return vn.cursor(e.lineBlockAt(t.head).from,1)}))},shift:function(e){return Lh(e,(function(t){return vn.cursor(e.lineBlockAt(t.head).from)}))}},{key:"Ctrl-e",run:function(e){return yh(e,(function(t){return vn.cursor(e.lineBlockAt(t.head).to,-1)}))},shift:function(e){return Lh(e,(function(t){return vn.cursor(e.lineBlockAt(t.head).to)}))}},{key:"Ctrl-d",run:td},{key:"Ctrl-h",run:ed},{key:"Ctrl-k",run:id},{key:"Ctrl-Alt-h",run:rd},{key:"Ctrl-o",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=t.changeByRange((function(e){return{changes:{from:e.from,to:e.to,insert:Rt.of(["",""])},range:vn.cursor(e.from)}}));return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=t.changeByRange((function(e){if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};var n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:Jt(r.text,n-r.from,!1)+r.from,o=n==r.to?n+1:Jt(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:o,insert:t.doc.slice(n,o).append(t.doc.slice(i,n))},range:vn.cursor(o)}}));return!r.changes.empty&&(n(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Dh}].map((function(e){return{mac:e.key,run:e.run,shift:e.shift}})))),pd={key:"Tab",run:fd,shift:hd};function vd(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?e.setAttribute(r,i):null!=i&&(e[r]=i)}t++}for(;t<arguments.length;t++)md(e,arguments[t]);return e}function md(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)md(e,t[n])}}var gd="function"==typeof String.prototype.normalize?function(e){return e.normalize("NFKD")}:function(e){return e},yd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;h(this,e),this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=o?function(e){return o(gd(e))}:gd,this.query=this.normalize(n)}return m(e,[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return en(this.buffer,this.bufferPos)}},{key:"next",value:function(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var e=this.peek();if(e<0)return this.done=!0,this;var t=tn(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=nn(e);for(var r=this.normalize(t),i=0,o=n;;i++){var a=r.charCodeAt(i),s=this.match(a,o);if(s)return this.value=s,this;if(i==r.length-1)break;o==n&&i<t.length&&t.charCodeAt(i)==a&&o++}}}},{key:"match",value:function(e,t){for(var n=null,r=0;r<this.matches.length;r+=2){var i=this.matches[r],o=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?n={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:t+1}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferPos)&&(n=null),n}}]),e}();"undefined"!=typeof Symbol&&(yd.prototype[Symbol.iterator]=function(){return this});var bd={from:-1,to:-1,match:/.*/.exec("")},kd="gm"+(null==/x/.unicode?"":"u"),wd=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if(h(this,e),this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=bd,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new Cd(t,n,r,i,o);this.re=new RegExp(n,kd+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.test=null===r||void 0===r?void 0:r.test,this.iter=t.iter();var a=t.lineAt(i);this.curLineStart=a.from,this.matchPos=jd(t,i),this.getLine(this.curLineStart)}return m(e,[{key:"getLine",value:function(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}},{key:"next",value:function(){for(var e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){var n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=jd(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}]),e}(),xd=new WeakMap,Sd=function(){function e(t,n){h(this,e),this.from=t,this.text=n}return m(e,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(t,n,r){var i=xd.get(t);if(!i||i.from>=r||i.to<=n){var o=new e(n,t.sliceString(n,r));return xd.set(t,o),o}if(i.from==n&&i.to==r)return i;var a=i.text,s=i.from;return s>n&&(a=t.sliceString(n,s)+a,s=n),i.to<r&&(a+=t.sliceString(i.to,r)),xd.set(t,new e(s,a)),new e(n,a.slice(n-s,r-s))}}]),e}(),Cd=function(){function e(t,n,r,i,o){h(this,e),this.text=t,this.to=o,this.done=!1,this.value=bd,this.matchPos=jd(t,i),this.re=new RegExp(n,kd+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.test=null===r||void 0===r?void 0:r.test,this.flat=Sd.get(t,i,this.chunkEnd(i+5e3))}return m(e,[{key:"chunkEnd",value:function(e){return e>=this.to?this.to:this.text.lineAt(e).to}},{key:"next",value:function(){for(;;){var e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){var n=this.flat.from+t.index,r=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this.matchPos=jd(this.text,r+(n==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Sd.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}]),e}();function jd(e,t){if(t>=e.length)return t;for(var n,r=e.lineAt(t);t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t}function _d(e){var t=vd("input",{class:"cm-textfield",name:"line"});function n(){var n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(n){var r=e.state,i=r.doc.lineAt(r.selection.main.head),o=u(n,5),a=o[1],s=o[2],l=o[3],c=o[4],f=l?+l.slice(1):0,h=s?+s:i.number;if(s&&c){var d=h/100;a&&(d=d*("-"==a?-1:1)+i.number/r.doc.lines),h=Math.round(r.doc.lines*d)}else s&&a&&(h=h*("-"==a?-1:1)+i.number);var p=r.doc.line(Math.max(1,Math.min(r.doc.lines,h)));e.dispatch({effects:Md.of(!1),selection:vn.cursor(p.from+Math.max(0,Math.min(f,p.length))),scrollIntoView:!0}),e.focus()}}return{dom:vd("form",{class:"cm-gotoLine",onkeydown:function(t){27==t.keyCode?(t.preventDefault(),e.dispatch({effects:Md.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:function(e){e.preventDefault(),n()}},vd("label",e.state.phrase("Go to line"),": ",t)," ",vd("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(wd.prototype[Symbol.iterator]=Cd.prototype[Symbol.iterator]=function(){return this});var Md=Kn.define(),Ed=Cn.define({create:function(){return!0},update:function(e,t){var n,r=_(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(Md)&&(e=i.value)}}catch(o){r.e(o)}finally{r.f()}return e},provide:function(e){return Kl.from(e,(function(e){return e?_d:null}))}}),Ad=Ms.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Td={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Nd=yn.define({combine:function(e){return ar(e,Td,{highlightWordAroundCursor:function(e,t){return e||t},minSelectionLength:Math.min,maxMatches:Math.min})}});var Od=Fi.mark({class:"cm-selectionMatch"}),Dd=Fi.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Pd(e,t,n,r){return(0==n||e(t.sliceDoc(n-1,n))!=nr.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=nr.Word)}var Rd=fo.fromClass(function(){function e(t){h(this,e),this.decorations=this.getDeco(t)}return m(e,[{key:"update",value:function(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t=e.state.facet(Nd),n=e.state,r=n.selection;if(r.ranges.length>1)return Fi.none;var i,o=r.main,a=null;if(o.empty){if(!t.highlightWordAroundCursor)return Fi.none;var s=n.wordAt(o.head);if(!s)return Fi.none;a=n.charCategorizer(o.head),i=n.sliceDoc(s.from,s.to)}else{var l=o.to-o.from;if(l<t.minSelectionLength||l>200)return Fi.none;if(t.wholeWords){if(i=n.sliceDoc(o.from,o.to),!Pd(a=n.charCategorizer(o.head),n,o.from,o.to)||!function(e,t,n,r){return e(t.sliceDoc(n,n+1))==nr.Word&&e(t.sliceDoc(r-1,r))==nr.Word}(a,n,o.from,o.to))return Fi.none}else if(!(i=n.sliceDoc(o.from,o.to).trim()))return Fi.none}var u,c=[],f=_(e.visibleRanges);try{for(f.s();!(u=f.n()).done;)for(var h=u.value,d=new yd(n.doc,i,h.from,h.to);!d.next().done;){var p=d.value,v=p.from,m=p.to;if((!a||Pd(a,n,v,m))&&(o.empty&&v<=o.from&&m>=o.to?c.push(Dd.range(v,m)):(v>=o.to||m<=o.from)&&c.push(Od.range(v,m)),c.length>t.maxMatches))return Fi.none}}catch(g){f.e(g)}finally{f.f()}return Fi.set(c)}}]),e}(),{decorations:function(e){return e.decorations}}),Ld=Ms.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});var Id=yn.define({combine:function(e){return ar(e,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:function(e){return new cp(e)}})}});var Bd=function(){function e(t){h(this,e),this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,kd),!0}catch(Zu){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}return m(e,[{key:"unquote",value:function(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"}))}},{key:"eq",value:function(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}},{key:"create",value:function(){return this.regexp?new Ud(this):new Vd(this)}},{key:"getCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=e.doc?e:or.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?Wd(this,r,t,n):Fd(this,r,t,n)}}]),e}(),zd=m((function e(t){h(this,e),this.spec=t}));function Fd(e,t,n,r){return new yd(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:function(e){return e.toLowerCase()},e.wholeWord?function(e,t){return function(n,r,i,o){return(o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=e.sliceString(o,Math.min(e.length,r+2))),(t(Hd(i,n-o))!=nr.Word||t(qd(i,n-o))!=nr.Word)&&(t(qd(i,r-o))!=nr.Word||t(Hd(i,r-o))!=nr.Word)}}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}var Vd=function(e){y(n,e);var t=S(n);function n(e){return h(this,n),t.call(this,e)}return m(n,[{key:"nextMatch",value:function(e,t,n){var r=Fd(this.spec,e,n,e.doc.length).nextOverlapping();return r.done&&(r=Fd(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=n;;){for(var i=Math.max(t,r-1e4-this.spec.unquoted.length),o=Fd(this.spec,e,i,r),a=null;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(i==t)return null;r-=1e4}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace)}},{key:"matchAll",value:function(e,t){for(var n=Fd(this.spec,e,0,e.doc.length),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=Fd(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));!i.next().done;)r(i.value.from,i.value.to)}}]),n}(zd);function Wd(e,t,n,r){return new wd(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(i=t.charCategorizer(t.selection.main.head),function(e,t,n){return!n[0].length||(i(Hd(n.input,n.index))!=nr.Word||i(qd(n.input,n.index))!=nr.Word)&&(i(qd(n.input,n.index+n[0].length))!=nr.Word||i(Hd(n.input,n.index+n[0].length))!=nr.Word)}):void 0},n,r);var i}function Hd(e,t){return e.slice(Jt(e,t,!1),t)}function qd(e,t){return e.slice(t,Jt(e,t))}var Ud=function(e){y(n,e);var t=S(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"nextMatch",value:function(e,t,n){var r=Wd(this.spec,e,n,e.doc.length).next();return r.done&&(r=Wd(this.spec,e,0,t).next()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=1;;r++){for(var i=Math.max(t,n-1e4*r),o=Wd(this.spec,e,i,n),a=null;!o.next().done;)a=o.value;if(a&&(i==t||a.from>i+10))return a;if(i==t)return null}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(function(t,n){return"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t})))}},{key:"matchAll",value:function(e,t){for(var n=Wd(this.spec,e,0,e.doc.length),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=Wd(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));!i.next().done;)r(i.value.from,i.value.to)}}]),n}(zd),$d=Kn.define(),Kd=Kn.define(),Gd=Cn.define({create:function(e){return new Jd(ap(e).create(),null)},update:function(e,t){var n,r=_(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is($d)?e=new Jd(i.value.create(),e.panel):i.is(Kd)&&(e=new Jd(e.query,i.value?op:null))}}catch(o){r.e(o)}finally{r.f()}return e},provide:function(e){return Kl.from(e,(function(e){return e.panel}))}});var Jd=m((function e(t,n){h(this,e),this.query=t,this.panel=n})),Qd=Fi.mark({class:"cm-searchMatch"}),Yd=Fi.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Xd=fo.fromClass(function(){function e(t){h(this,e),this.view=t,this.decorations=this.highlight(t.state.field(Gd))}return m(e,[{key:"update",value:function(e){var t=e.state.field(Gd);(t!=e.startState.field(Gd)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}},{key:"highlight",value:function(e){var t=e.query;if(!e.panel||!t.spec.valid)return Fi.none;for(var n=this.view,r=new dr,i=0,o=n.visibleRanges,a=o.length;i<a;i++){for(var s=o[i],l=s.from,u=s.to;i<a-1&&u>o[i+1].from-500;)u=o[++i].to;t.highlight(n.state,l,u,(function(e,t){var i=n.state.selection.ranges.some((function(n){return n.from==e&&n.to==t}));r.add(e,t,i?Yd:Qd)}))}return r.finish()}}]),e}(),{decorations:function(e){return e.decorations}});function Zd(e){return function(t){var n=t.state.field(Gd,!1);return n&&n.query.spec.valid?e(t,n):sp(t)}}var ep=Zd((function(e,t){var n=t.query,r=e.state.selection.main.to,i=n.nextMatch(e.state,r,r);return!!i&&(e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:dp(e,i),userEvent:"select.search"}),!0)})),tp=Zd((function(e,t){var n=t.query,r=e.state,i=r.selection.main.from,o=n.prevMatch(r,i,i);return!!o&&(e.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:dp(e,o),userEvent:"select.search"}),!0)})),np=Zd((function(e,t){var n=t.query.matchAll(e.state,1e3);return!(!n||!n.length)&&(e.dispatch({selection:vn.create(n.map((function(e){return vn.range(e.from,e.to)}))),userEvent:"select.search.matches"}),!0)})),rp=Zd((function(e,t){var n=t.query,r=e.state,i=r.selection.main,o=i.from,a=i.to;if(r.readOnly)return!1;var s=n.nextMatch(r,o,o);if(!s)return!1;var l,u,c=[],f=[];if(s.from==o&&s.to==a&&(u=r.toText(n.getReplacement(s)),c.push({from:s.from,to:s.to,insert:u}),s=n.nextMatch(r,s.from,s.to),f.push(Ms.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(o).number)+"."))),s){var h=0==c.length||c[0].from>=s.to?0:s.to-s.from-u.length;l={anchor:s.from-h,head:s.to-h},f.push(dp(e,s))}return e.dispatch({changes:c,selection:l,scrollIntoView:!!l,effects:f,userEvent:"input.replace"}),!0})),ip=Zd((function(e,t){var n=t.query;if(e.state.readOnly)return!1;var r=n.matchAll(e.state,1e9).map((function(e){return{from:e.from,to:e.to,insert:n.getReplacement(e)}}));if(!r.length)return!1;var i=e.state.phrase("replaced $ matches",r.length)+".";return e.dispatch({changes:r,effects:Ms.announce.of(i),userEvent:"input.replace.all"}),!0}));function op(e){return e.state.facet(Id).createPanel(e)}function ap(e,t){var n,r,i,o,a=e.selection.main,s=a.empty||a.to>a.from+100?"":e.sliceDoc(a.from,a.to);if(t&&!s)return t;var l=e.facet(Id);return new Bd({search:(null!==(n=null===t||void 0===t?void 0:t.literal)&&void 0!==n?n:l.literal)?s:s.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null===t||void 0===t?void 0:t.caseSensitive)&&void 0!==r?r:l.caseSensitive,literal:null!==(i=null===t||void 0===t?void 0:t.literal)&&void 0!==i?i:l.literal,wholeWord:null!==(o=null===t||void 0===t?void 0:t.wholeWord)&&void 0!==o?o:l.wholeWord})}var sp=function(e){var t=e.state.field(Gd,!1);if(t&&t.panel){var n=Hl(e,op);if(!n)return!1;var r=n.dom.querySelector("[main-field]");if(r&&r!=e.root.activeElement){var i=ap(e.state,t.query.spec);i.valid&&e.dispatch({effects:$d.of(i)}),r.focus(),r.select()}}else e.dispatch({effects:[Kd.of(!0),t?$d.of(ap(e.state,t.query.spec)):Kn.appendConfig.of(vp)]});return!0},lp=function(e){var t=e.state.field(Gd,!1);if(!t||!t.panel)return!1;var n=Hl(e,op);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:Kd.of(!1)}),!0},up=[{key:"Mod-f",run:sp,scope:"editor search-panel"},{key:"F3",run:ep,shift:tp,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:ep,shift:tp,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:lp,scope:"editor search-panel"},{key:"Mod-Shift-l",run:function(e){var t=e.state,n=e.dispatch,r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;for(var i=r.main,o=i.from,a=i.to,s=[],l=0,u=new yd(t.doc,t.sliceDoc(o,a));!u.next().done;){if(s.length>1e3)return!1;u.value.from==o&&(l=s.length),s.push(vn.range(u.value.from,u.value.to))}return n(t.update({selection:vn.create(s,l),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:function(e){var t=Hl(e,_d);if(!t){var n=[Md.of(!0)];null==e.state.field(Ed,!1)&&n.push(Kn.appendConfig.of([Ed,Ad])),e.dispatch({effects:n}),t=Hl(e,_d)}return t&&t.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:function(e){var t=e.state,n=e.dispatch,r=t.selection.ranges;if(r.some((function(e){return e.from===e.to})))return function(e){var t=e.state,n=e.dispatch,r=t.selection,i=vn.create(r.ranges.map((function(e){return t.wordAt(e.head)||vn.cursor(e.head)})),r.mainIndex);return!i.eq(r)&&(n(t.update({selection:i})),!0)}({state:t,dispatch:n});var i=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some((function(e){return t.sliceDoc(e.from,e.to)!=i})))return!1;var o=function(e,t){for(var n=e.selection,r=n.main,i=n.ranges,o=e.wordAt(r.head),a=o&&o.from==r.from&&o.to==r.to,s=function(n,r){if(r.next(),!r.done){if(n&&i.some((function(e){return e.from==r.value.from})))return l=n,u=r,"continue";if(a){var o=e.wordAt(r.value.from);if(!o||o.from!=r.value.from||o.to!=r.value.to)return l=n,u=r,"continue"}return{v:r.value}}if(n)return{v:null};r=new yd(e.doc,t,0,Math.max(0,i[i.length-1].from-1)),l=n=!0,u=r},l=!1,u=new yd(e.doc,t,i[i.length-1].to);;){var c=s(l,u);if("continue"!==c&&"object"===typeof c)return c.v}}(t,i);return!!o&&(n(t.update({selection:t.selection.addRange(vn.range(o.from,o.to),!1),effects:Ms.scrollIntoView(o.to)})),!0)},preventDefault:!0}],cp=function(){function e(t){var n=this;h(this,e),this.view=t;var r=this.query=t.state.field(Gd).query.spec;function i(e,t,n){return vd("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=vd("input",{value:r.search,placeholder:fp(t,"Find"),"aria-label":fp(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=vd("input",{value:r.replace,placeholder:fp(t,"Replace"),"aria-label":fp(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=vd("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=vd("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=vd("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit}),this.dom=vd("div",{onkeydown:function(e){return n.keydown(e)},class:"cm-search"},[this.searchField,i("next",(function(){return ep(t)}),[fp(t,"next")]),i("prev",(function(){return tp(t)}),[fp(t,"previous")]),i("select",(function(){return np(t)}),[fp(t,"all")]),vd("label",null,[this.caseField,fp(t,"match case")]),vd("label",null,[this.reField,fp(t,"regexp")]),vd("label",null,[this.wordField,fp(t,"by word")])].concat(f(t.state.readOnly?[]:[vd("br"),this.replaceField,i("replace",(function(){return rp(t)}),[fp(t,"replace")]),i("replaceAll",(function(){return ip(t)}),[fp(t,"replace all")])]),[vd("button",{name:"close",onclick:function(){return lp(t)},"aria-label":fp(t,"close"),type:"button"},["\xd7"])]))}return m(e,[{key:"commit",value:function(){var e=new Bd({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:$d.of(e)}))}},{key:"keydown",value:function(e){var t,n,r;t=this.view,n=e,r="search-panel",Vs(Bs(t.state),n,t,r)?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?tp:ep)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),rp(this.view))}},{key:"update",value:function(e){var t,n=_(e.transactions);try{for(n.s();!(t=n.n()).done;){var r,i=_(t.value.effects);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.is($d)&&!o.value.eq(this.query)&&this.setQuery(o.value)}}catch(a){i.e(a)}finally{i.f()}}}catch(a){n.e(a)}finally{n.f()}}},{key:"setQuery",value:function(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(Id).top}}]),e}();function fp(e,t){return e.state.phrase(t)}var hp=/[\s\.,:;?!]/;function dp(e,t){var n=t.from,r=t.to,i=e.state.doc.lineAt(n),o=e.state.doc.lineAt(r).to,a=Math.max(i.from,n-30),s=Math.min(o,r+30),l=e.state.sliceDoc(a,s);if(a!=i.from)for(var u=0;u<30;u++)if(!hp.test(l[u+1])&&hp.test(l[u])){l=l.slice(u);break}if(s!=o)for(var c=l.length-1;c>l.length-30;c--)if(!hp.test(l[c-1])&&hp.test(l[c])){l=l.slice(0,c);break}return Ms.announce.of("".concat(e.state.phrase("current match"),". ").concat(l," ").concat(e.state.phrase("on line")," ").concat(i.number,"."))}var pp=Ms.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),vp=[Gd,Tn.lowest(Xd),pp],mp=function(){function e(t,n,r){h(this,e),this.state=t,this.pos=n,this.explicit=r,this.abortListeners=[]}return m(e,[{key:"tokenBefore",value:function(e){for(var t=bc(this.state).resolveInner(this.pos,-1);t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}},{key:"matchBefore",value:function(e){var t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),i=r.search(wp(e,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}},{key:"aborted",get:function(){return null==this.abortListeners}},{key:"addEventListener",value:function(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}]),e}();function gp(e){var t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}function yp(e){var t=e.map((function(e){return"string"==typeof e?{label:e}:e})),n=t.every((function(e){return/^\w+$/.test(e.label)}))?[/\w*$/,/\w+$/]:function(e){var t,n=Object.create(null),r=Object.create(null),i=_(e);try{for(i.s();!(t=i.n()).done;){var o=t.value.label;n[o[0]]=!0;for(var a=1;a<o.length;a++)r[o[a]]=!0}}catch(l){i.e(l)}finally{i.f()}var s=gp(n)+gp(r)+"*$";return[new RegExp("^"+s),new RegExp(s)]}(t),r=u(n,2),i=r[0],o=r[1];return function(e){var n=e.matchBefore(o);return n||e.explicit?{from:n?n.from:e.pos,options:t,validFor:i}:null}}var bp=m((function e(t,n,r){h(this,e),this.completion=t,this.source=n,this.match=r}));function kp(e){return e.selection.main.head}function wp(e,t){var n,r=e.source,i=t&&"^"!=r[0],o="$"!=r[r.length-1];return i||o?new RegExp("".concat(i?"^":"","(?:").concat(r,")").concat(o?"$":""),null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}var xp=qn.define();function Sp(e,t){var n,r,i,o,a=t.completion.apply||t.completion.label,s=t.source;"string"==typeof a?e.dispatch(Object.assign(Object.assign({},(n=e.state,r=a,i=s.from,o=s.to,Object.assign(Object.assign({},n.changeByRange((function(e){if(e==n.selection.main)return{changes:{from:i,to:o,insert:r},range:vn.cursor(i+r.length)};var t=o-i;return!e.empty||t&&n.sliceDoc(e.from-t,e.from)!=n.sliceDoc(i,o)?{range:e}:{changes:{from:e.from-t,to:e.from,insert:r},range:vn.cursor(e.from-t+r.length)}}))),{userEvent:"input.complete"}))),{annotations:xp.of(t.completion)})):a(e,t.completion,s.from,s.to)}var Cp=new WeakMap;function jp(e){if(!Array.isArray(e))return e;var t=Cp.get(e);return t||Cp.set(e,t=yp(e)),t}var _p=function(){function e(t){h(this,e),this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(var n=0;n<t.length;){var r=en(t,n),i=nn(r);this.chars.push(r);var o=t.slice(n,n+i),a=o.toUpperCase();this.folded.push(en(a==o?o.toLowerCase():a,0)),n+=i}this.astral=t.length!=this.chars.length}return m(e,[{key:"match",value:function(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;var t=this.chars,n=this.folded,r=this.any,i=this.precise,o=this.byWord;if(1==t.length){var a=en(e,0);return a==t[0]?[0,0,nn(a)]:a==n[0]?[-200,0,nn(a)]:null}var s=e.indexOf(this.pattern);if(0==s)return[0,0,this.pattern.length];var l=t.length,u=0;if(s<0){for(var c=0,f=Math.min(e.length,200);c<f&&u<l;){var h=en(e,c);h!=t[u]&&h!=n[u]||(r[u++]=c),c+=nn(h)}if(u<l)return null}for(var d=0,p=0,v=!1,m=0,g=-1,y=-1,b=/[a-z]/.test(e),k=!0,w=0,x=Math.min(e.length,200),S=0;w<x&&p<l;){var C=en(e,w);s<0&&(d<l&&C==t[d]&&(i[d++]=w),m<l&&(C==t[m]||C==n[m]?(0==m&&(g=w),y=w+1,m++):m=0));var j=void 0,_=C<255?C>=48&&C<=57||C>=97&&C<=122?2:C>=65&&C<=90?1:0:(j=tn(C))!=j.toLowerCase()?1:j!=j.toUpperCase()?2:0;(!w||1==_&&b||0==S&&0!=_)&&(t[p]==C||n[p]==C&&(v=!0)?o[p++]=w:o.length&&(k=!1)),S=_,w+=nn(C)}return p==l&&0==o[0]&&k?this.result((v?-200:0)-100,o,e):m==l&&0==g?[-200-e.length,0,y]:s>-1?[-700-e.length,s,s+this.pattern.length]:m==l?[-900-e.length,g,y]:p==l?this.result((v?-200:0)-100-700+(k?0:-1100),o,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}},{key:"result",value:function(e,t,n){var r,i=[e-n.length],o=1,a=_(t);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=s+(this.astral?nn(en(n,s)):1);o>1&&i[o-1]==s?i[o-1]=l:(i[o++]=s,i[o++]=l)}}catch(u){a.e(u)}finally{a.f()}return i}}]),e}(),Mp=yn.define({combine:function(e){return ar(e,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:function(){return""},optionClass:function(){return""},aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:function(e,t){return e.label.localeCompare(t.label)},interactionDelay:75},{defaultKeymap:function(e,t){return e&&t},closeOnBlur:function(e,t){return e&&t},icons:function(e,t){return e&&t},tooltipClass:function(e,t){return function(n){return Ep(e(n),t(n))}},optionClass:function(e,t){return function(n){return Ep(e(n),t(n))}},addToOptions:function(e,t){return e.concat(t)}})}});function Ep(e,t){return e?t?e+" "+t:e:t}function Ap(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){var r=Math.floor(t/n);return{from:r*n,to:(r+1)*n}}var i=Math.floor((e-t)/n);return{from:e-(i+1)*n,to:e-i*n}}var Tp=function(){function e(t,n){var r=this;h(this,e),this.view=t,this.stateField=n,this.info=null,this.placeInfo={read:function(){return r.measureInfo()},write:function(e){return r.positionInfo(e)},key:this},this.space=null,this.currentClass="";var i=t.state.field(n),o=i.open,a=o.options,s=o.selected,l=t.state.facet(Mp);this.optionContent=function(e){var t=e.addToOptions.slice();return e.icons&&t.push({render:function(e){var t,n=document.createElement("div");return n.classList.add("cm-completionIcon"),e.type&&(t=n.classList).add.apply(t,f(e.type.split(/\s+/g).map((function(e){return"cm-completionIcon-"+e})))),n.setAttribute("aria-hidden","true"),n},position:20}),t.push({render:function(e,t,n){var r=document.createElement("span");r.className="cm-completionLabel";for(var i=e.label,o=0,a=1;a<n.length;){var s=n[a++],l=n[a++];s>o&&r.appendChild(document.createTextNode(i.slice(o,s)));var u=r.appendChild(document.createElement("span"));u.appendChild(document.createTextNode(i.slice(s,l))),u.className="cm-completionMatchedText",o=l}return o<i.length&&r.appendChild(document.createTextNode(i.slice(o))),r},position:50},{render:function(e){if(!e.detail)return null;var t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort((function(e,t){return e.position-t.position})).map((function(e){return e.render}))}(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=Ap(a.length,s,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",(function(e){for(var n,i=e.target;i&&i!=r.dom;i=i.parentNode)if("LI"==i.nodeName&&(n=/-(\d+)$/.exec(i.id))&&+n[1]<a.length)return Sp(t,a[+n[1]]),void e.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(a,i.id,this.range)),this.list.addEventListener("scroll",(function(){r.info&&r.view.requestMeasure(r.placeInfo)}))}return m(e,[{key:"mount",value:function(){this.updateSel()}},{key:"update",value:function(e){var t,n,r,i=e.state.field(this.stateField),o=e.startState.field(this.stateField);this.updateTooltipClass(e.state),i!=o&&(this.updateSel(),(null===(t=i.open)||void 0===t?void 0:t.disabled)!=(null===(n=o.open)||void 0===n?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(null===(r=i.open)||void 0===r?void 0:r.disabled)))}},{key:"updateTooltipClass",value:function(e){var t=this.tooltipClass(e);if(t!=this.currentClass){var n,r=_(this.currentClass.split(" "));try{for(r.s();!(n=r.n()).done;){var i=n.value;i&&this.dom.classList.remove(i)}}catch(l){r.e(l)}finally{r.f()}var o,a=_(t.split(" "));try{for(a.s();!(o=a.n()).done;){var s=o.value;s&&this.dom.classList.add(s)}}catch(l){a.e(l)}finally{a.f()}this.currentClass=t}}},{key:"positioned",value:function(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}},{key:"updateSel",value:function(){var e=this,t=this.view.state.field(this.stateField),n=t.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Ap(n.options.length,n.selected,this.view.state.facet(Mp).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n.options,t.id,this.range)),this.list.addEventListener("scroll",(function(){e.info&&e.view.requestMeasure(e.placeInfo)}))),this.updateSelectedOption(n.selected)){this.info&&(this.info.remove(),this.info=null);var r=n.options[n.selected].completion,i=r.info;if(!i)return;var o="string"===typeof i?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then((function(n){n&&e.view.state.field(e.stateField,!1)==t&&e.addInfoPane(n)})).catch((function(t){return so(e.view.state,t,"completion info")})):this.addInfoPane(o)}}},{key:"addInfoPane",value:function(e){var t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}},{key:"updateSelectedOption",value:function(e){for(var t=null,n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();r.top<n.top?e.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(e.scrollTop+=r.bottom-n.bottom)}(this.list,t),t}},{key:"measureInfo",value:function(){var e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;var t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),i=this.space;if(!i){var o=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}if(r.top>Math.min(i.bottom,t.bottom)-10||r.bottom<Math.max(i.top,t.top)+10)return null;var a,s=this.view.textDirection==xo.RTL,l=s,u=!1,c="",f="",h=t.left-i.left,d=i.right-t.right;if(l&&h<Math.min(n.width,d)?l=!1:!l&&d<Math.min(n.width,h)&&(l=!0),n.width<=(l?h:d))c=Math.max(i.top,Math.min(r.top,i.bottom-n.height))-t.top+"px",a=Math.min(400,l?h:d)+"px";else{u=!0,a=Math.min(400,(s?t.right:i.right-t.left)-30)+"px";var p=i.bottom-t.bottom;p>=n.height||p>t.top?c=r.bottom-t.top+"px":f=t.bottom-r.top+"px"}return{top:c,bottom:f,maxWidth:a,class:u?s?"left-narrow":"right-narrow":l?"left":"right"}}},{key:"positionInfo",value:function(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}},{key:"createListBox",value:function(e,t,n){var r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(var i=n.from;i<n.to;i++){var o=e[i],a=o.completion,s=o.match,l=r.appendChild(document.createElement("li"));l.id=t+"-"+i,l.setAttribute("role","option");var u=this.optionClass(a);u&&(l.className=u);var c,f=_(this.optionContent);try{for(f.s();!(c=f.n()).done;){var h=(0,c.value)(a,this.view.state,s);h&&l.appendChild(h)}}catch(d){f.e(d)}finally{f.f()}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}]),e}();function Np(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}var Op=function(){function e(t,n,r,i,o,a){h(this,e),this.options=t,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=a}return m(e,[{key:"setSelected",value:function(t,n){return t==this.selected||t>=this.options.length?this:new e(this.options,Rp(n,t),this.tooltip,this.timestamp,t,this.disabled)}},{key:"map",value:function(t){return new e(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}],[{key:"build",value:function(t,n,r,i,o){var a=function(e,t){var n,r=[],i=0,o=_(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.hasResult())if(!1===a.result.filter){var s,l=a.result.getMatch,u=_(a.result.options);try{for(u.s();!(s=u.n()).done;){var c=s.value,f=[1e9-i++];if(l){var h,d=_(l(c));try{for(d.s();!(h=d.n()).done;){var p=h.value;f.push(p)}}catch(M){d.e(M)}finally{d.f()}}r.push(new bp(c,a,f))}}catch(M){u.e(M)}finally{u.f()}}else{var v,m=new _p(t.sliceDoc(a.from,a.to)),g=void 0,y=_(a.result.options);try{for(y.s();!(v=y.n()).done;){var b=v.value;(g=m.match(b.label))&&(null!=b.boost&&(g[0]+=b.boost),r.push(new bp(b,a,g)))}}catch(M){y.e(M)}finally{y.f()}}}}catch(M){o.e(M)}finally{o.f()}var k,w=[],x=null,S=t.facet(Mp).compareCompletions,C=_(r.sort((function(e,t){return t.match[0]-e.match[0]||S(e.completion,t.completion)})));try{for(C.s();!(k=C.n()).done;){var j=k.value;!x||x.label!=j.completion.label||x.detail!=j.completion.detail||null!=x.type&&null!=j.completion.type&&x.type!=j.completion.type||x.apply!=j.completion.apply?w.push(j):Np(j.completion)>Np(x)&&(w[w.length-1]=j),x=j.completion}}catch(M){C.e(M)}finally{C.f()}return w}(t,n);if(!a.length)return i&&t.some((function(e){return 1==e.state}))?new e(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;var s,l=n.facet(Mp).selectOnOpen?0:-1;if(i&&i.selected!=l&&-1!=i.selected)for(var u=i.options[i.selected].completion,c=0;c<a.length;c++)if(a[c].completion==u){l=c;break}return new e(a,Rp(r,l),{pos:t.reduce((function(e,t){return t.hasResult()?Math.min(e,t.from):e}),1e8),create:(s=qp,function(e){return new Tp(e,s)}),above:o.aboveCursor},i?i.timestamp:Date.now(),l,!1)}}]),e}(),Dp=function(){function e(t,n,r){h(this,e),this.active=t,this.id=n,this.open=r}return m(e,[{key:"update",value:function(t){var n=this,r=t.state,i=r.facet(Mp),o=(i.override||r.languageDataAt("autocomplete",kp(r)).map(jp)).map((function(e){return(n.active.find((function(t){return t.source==e}))||new Bp(e,n.active.some((function(e){return 0!=e.state}))?1:0)).update(t,i)}));o.length==this.active.length&&o.every((function(e,t){return e==n.active[t]}))&&(o=this.active);var a=this.open;a&&t.docChanged&&(a=a.map(t.changes)),t.selection||o.some((function(e){return e.hasResult()&&t.changes.touchesRange(e.from,e.to)}))||!function(e,t){if(e==t)return!0;for(var n=0,r=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;r<t.length&&!t[r].hasResult;)r++;var i=n==e.length,o=r==t.length;if(i||o)return i==o;if(e[n++].result!=t[r++].result)return!1}}(o,this.active)?a=Op.build(o,r,this.id,a,i):a&&a.disabled&&!o.some((function(e){return 1==e.state}))&&(a=null),!a&&o.every((function(e){return 1!=e.state}))&&o.some((function(e){return e.hasResult()}))&&(o=o.map((function(e){return e.hasResult()?new Bp(e.source,0):e})));var s,l=_(t.effects);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.is(Hp)&&(a=a&&a.setSelected(u.value,this.id))}}catch(c){l.e(c)}finally{l.f()}return o==this.active&&a==this.open?this:new e(o,this.id,a)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:Pp}}],[{key:"start",value:function(){return new e(Lp,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}}]),e}();var Pp={"aria-autocomplete":"list"};function Rp(e,t){var n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}var Lp=[];function Ip(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}var Bp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;h(this,e),this.source=t,this.state=n,this.explicitPos=r}return m(e,[{key:"hasResult",value:function(){return!1}},{key:"update",value:function(t,n){var r=Ip(t),i=this;r?i=i.handleUserEvent(t,r,n):t.docChanged?i=i.handleChange(t):t.selection&&0!=i.state&&(i=new e(i.source,0));var o,a=_(t.effects);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.is(Fp))i=new e(i.source,1,s.value?kp(t.state):-1);else if(s.is(Vp))i=new e(i.source,0);else if(s.is(Wp)){var l,u=_(s.value);try{for(u.s();!(l=u.n()).done;){var c=l.value;c.source==i.source&&(i=c)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){a.e(f)}finally{a.f()}return i}},{key:"handleUserEvent",value:function(t,n,r){return"delete"!=n&&r.activateOnTyping?new e(this.source,1):this.map(t.changes)}},{key:"handleChange",value:function(t){return t.changes.touchesRange(kp(t.startState))?new e(this.source,0):this.map(t.changes)}},{key:"map",value:function(t){return t.empty||this.explicitPos<0?this:new e(this.source,this.state,t.mapPos(this.explicitPos))}}]),e}(),zp=function(e){y(n,e);var t=S(n);function n(e,r,i,o,a){var s;return h(this,n),(s=t.call(this,e,2,r)).result=i,s.from=o,s.to=a,s}return m(n,[{key:"hasResult",value:function(){return!0}},{key:"handleUserEvent",value:function(e,t,r){var i,o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),s=kp(e.state);if((this.explicitPos<0?s<=o:s<this.from)||s>a||"delete"==t&&kp(e.startState)==this.from)return new Bp(this.source,"input"==t&&r.activateOnTyping?1:0);var l,u=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,n,r){if(!e)return!1;var i=t.sliceDoc(n,r);return"function"==typeof e?e(i,n,r,t):wp(e,!0).test(i)}(this.result.validFor,e.state,o,a)?new n(this.source,u,this.result,o,a):this.result.update&&(l=this.result.update(this.result,o,a,new mp(e.state,s,u>=0)))?new n(this.source,u,l,l.from,null!==(i=l.to)&&void 0!==i?i:kp(e.state)):new Bp(this.source,1,u)}},{key:"handleChange",value:function(e){return e.changes.touchesRange(this.from,this.to)?new Bp(this.source,0):this.map(e.changes)}},{key:"map",value:function(e){return e.empty?this:new n(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}]),n}(Bp);var Fp=Kn.define(),Vp=Kn.define(),Wp=Kn.define({map:function(e,t){return e.map((function(e){return e.map(t)}))}}),Hp=Kn.define(),qp=Cn.define({create:function(){return Dp.start()},update:function(e,t){return e.update(t)},provide:function(e){return[Dl.from(e,(function(e){return e.tooltip})),Ms.contentAttributes.from(e,(function(e){return e.attrs}))]}});function Up(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return function(n){var r=n.state.field(qp,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Mp).interactionDelay)return!1;var i,o=1;"page"==t&&(i=Fl(n,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));var a=r.open.options.length,s=r.open.selected>-1?r.open.selected+o*(e?1:-1):e?0:a-1;return s<0?s="page"==t?0:a-1:s>=a&&(s="page"==t?a-1:0),n.dispatch({effects:Hp.of(s)}),!0}}var $p=m((function e(t,n){h(this,e),this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0})),Kp=fo.fromClass(function(){function e(t){h(this,e),this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;var n,r=_(t.state.field(qp).active);try{for(r.s();!(n=r.n()).done;){var i=n.value;1==i.state&&this.startQuery(i)}}catch(o){r.e(o)}finally{r.f()}}return m(e,[{key:"update",value:function(e){var t=this,n=e.state.field(qp);if(e.selectionSet||e.docChanged||e.startState.field(qp)!=n){for(var r=e.transactions.some((function(e){return(e.selection||e.docChanged)&&!Ip(e)})),i=0;i<this.running.length;i++){var o=this.running[i];if(r||o.updates.length+e.transactions.length>50&&Date.now()-o.time>1e3){var a,s=_(o.context.abortListeners);try{for(s.s();!(a=s.n()).done;){var l=a.value;try{l()}catch(p){so(this.view.state,p)}}}catch(v){s.e(v)}finally{s.f()}o.context.abortListeners=null,this.running.splice(i--,1)}else{var u;(u=o.updates).push.apply(u,f(e.transactions))}}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=n.active.some((function(e){return 1==e.state&&!t.running.some((function(t){return t.active.source==e.source}))}))?setTimeout((function(){return t.startUpdate()}),50):-1,0!=this.composing){var c,h=_(e.transactions);try{for(h.s();!(c=h.n()).done;){var d=c.value;"input"==Ip(d)?this.composing=2:2==this.composing&&d.selection&&(this.composing=3)}}catch(v){h.e(v)}finally{h.f()}}}}},{key:"startUpdate",value:function(){var e=this;this.debounceUpdate=-1;var t,n=_(this.view.state.field(qp).active);try{var r=function(){var n=t.value;1!=n.state||e.running.some((function(e){return e.active.source==n.source}))||e.startQuery(n)};for(n.s();!(t=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}}},{key:"startQuery",value:function(e){var t=this,n=this.view.state,r=kp(n),i=new mp(n,r,e.explicitPos==r),o=new $p(e,i);this.running.push(o),Promise.resolve(e.source(i)).then((function(e){o.context.aborted||(o.done=e||null,t.scheduleAccept())}),(function(e){t.view.dispatch({effects:Vp.of(null)}),so(t.view.state,e)}))}},{key:"scheduleAccept",value:function(){var e=this;this.running.every((function(e){return void 0!==e.done}))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((function(){return e.accept()}),50))}},{key:"accept",value:function(){var e,t=this;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;for(var n=[],r=this.view.state.facet(Mp),i=function(i){var a=t.running[i];if(void 0===a.done)return o=i,"continue";if(t.running.splice(i--,1),a.done){var s,l=new zp(a.active.source,a.active.explicitPos,a.done,a.done.from,null!==(e=a.done.to)&&void 0!==e?e:kp(a.updates.length?a.updates[0].startState:t.view.state)),u=_(a.updates);try{for(u.s();!(s=u.n()).done;){var c=s.value;l=l.update(c,r)}}catch(m){u.e(m)}finally{u.f()}if(l.hasResult())return n.push(l),o=i,"continue"}var f=t.view.state.field(qp).active.find((function(e){return e.source==a.active.source}));if(f&&1==f.state)if(null==a.done){var h,d=new Bp(a.active.source,0),p=_(a.updates);try{for(p.s();!(h=p.n()).done;){var v=h.value;d=d.update(v,r)}}catch(m){p.e(m)}finally{p.f()}1!=d.state&&n.push(d)}else t.startQuery(f);o=i},o=0;o<this.running.length;o++)i(o);n.length&&this.view.dispatch({effects:Wp.of(n)})}}]),e}(),{eventHandlers:{blur:function(){var e=this.view.state.field(qp,!1);e&&e.tooltip&&this.view.state.facet(Mp).closeOnBlur&&this.view.dispatch({effects:Vp.of(null)})},compositionstart:function(){this.composing=1},compositionend:function(){var e=this;3==this.composing&&setTimeout((function(){return e.view.dispatch({effects:Fp.of(!1)})}),20),this.composing=0}}}),Gp=Ms.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});var Jp={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Qp=Kn.define({map:function(e,t){var n=t.mapPos(e,-1,on.TrackAfter);return null==n?void 0:n}}),Yp=Kn.define({map:function(e,t){return t.mapPos(e)}}),Xp=new(function(e){y(n,e);var t=S(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(sr));Xp.startSide=1,Xp.endSide=-1;var Zp=Cn.define({create:function(){return fr.empty},update:function(e,t){if(t.selection){var n=t.state.doc.lineAt(t.selection.main.head).from,r=t.startState.doc.lineAt(t.startState.selection.main.head).from;n!=t.changes.mapPos(r,-1)&&(e=fr.empty)}e=e.map(t.changes);var i,o=_(t.effects);try{var a=function(){var t=i.value;t.is(Qp)?e=e.update({add:[Xp.range(t.value,t.value+1)]}):t.is(Yp)&&(e=e.update({filter:function(e){return e!=t.value}}))};for(o.s();!(i=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}return e}});var ev="()[]{}<>";function tv(e){for(var t=0;t<ev.length;t+=2)if(ev.charCodeAt(t)==e)return ev.charAt(t+1);return tn(e<128?e:e+1)}function nv(e,t){return e.languageDataAt("closeBrackets",t)[0]||Jp}var rv="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),iv=Ms.inputHandler.of((function(e,t,n,r){if((rv?e.composing:e.compositionStarted)||e.state.readOnly)return!1;var i=e.state.selection.main;if(r.length>2||2==r.length&&1==nn(en(r,0))||t!=i.from||n!=i.to)return!1;var o=function(e,t){var n,r=nv(e,e.selection.main.head),i=r.brackets||Jp.brackets,o=_(i);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=tv(en(a,0));if(t==a)return s==a?cv(e,a,i.indexOf(a+a+a)>-1,r):lv(e,a,s,r.before||Jp.before);if(t==s&&av(e,e.selection.main.from))return uv(e,a,s)}}catch(l){o.e(l)}finally{o.f()}return null}(e.state,r);return!!o&&(e.dispatch(o),!0)})),ov=[{key:"Backspace",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=nv(t,t.selection.main.head).brackets||Jp.brackets,i=null,o=t.changeByRange((function(e){if(e.empty){var n,o=function(e,t){var n=e.sliceString(t-2,t);return nn(en(n,0))==n.length?n:n.slice(1)}(t.doc,e.head),a=_(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s==o&&sv(t.doc,e.head)==tv(en(s,0)))return{changes:{from:e.head-s.length,to:e.head+s.length},range:vn.cursor(e.head-s.length)}}}catch(l){a.e(l)}finally{a.f()}}return{range:i=e}}));return i||n(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i}}];function av(e,t){var n=!1;return e.field(Zp).between(0,e.doc.length,(function(e){e==t&&(n=!0)})),n}function sv(e,t){var n=e.sliceString(t,t+2);return n.slice(0,nn(en(n,0)))}function lv(e,t,n,r){var i=null,o=e.changeByRange((function(o){if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:n,from:o.to}],effects:Qp.of(o.to+t.length),range:vn.range(o.anchor+t.length,o.head+t.length)};var a=sv(e.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:t+n,from:o.head},effects:Qp.of(o.head+t.length),range:vn.cursor(o.head+t.length)}:{range:i=o}}));return i?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function uv(e,t,n){var r=null,i=e.selection.ranges.map((function(t){return t.empty&&sv(e.doc,t.head)==n?vn.cursor(t.head+n.length):r=t}));return r?null:e.update({selection:vn.create(i,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((function(e){var t=e.from;return Yp.of(t)}))})}function cv(e,t,n,r){var i=r.stringPrefixes||Jp.stringPrefixes,o=null,a=e.changeByRange((function(r){if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:Qp.of(r.to+t.length),range:vn.range(r.anchor+t.length,r.head+t.length)};var a,s=r.head,l=sv(e.doc,s);if(l==t){if(fv(e,s))return{changes:{insert:t+t,from:s},effects:Qp.of(s+t.length),range:vn.cursor(s+t.length)};if(av(e,s)){var u=n&&e.sliceDoc(s,s+3*t.length)==t+t+t;return{range:vn.cursor(s+t.length*(u?3:1)),effects:Yp.of(s)}}}else{if(n&&e.sliceDoc(s-2*t.length,s)==t+t&&(a=hv(e,s-2*t.length,i))>-1&&fv(e,a))return{changes:{insert:t+t+t+t,from:s},effects:Qp.of(s+t.length),range:vn.cursor(s+t.length)};if(e.charCategorizer(s)(l)!=nr.Word&&hv(e,s,i)>-1&&!function(e,t,n,r){for(var i=bc(e).resolveInner(t,-1),o=r.reduce((function(e,t){return Math.max(e,t.length)}),0),a=0;a<5;a++){var s=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=s.indexOf(n);if(!l||l>-1&&r.indexOf(s.slice(0,l))>-1){for(var u=i.firstChild;u&&u.from==i.from&&u.to-u.from>n.length+l;){if(e.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}var c=i.to==t&&i.parent;if(!c)break;i=c}return!1}(e,s,t,i))return{changes:{insert:t+t,from:s},effects:Qp.of(s+t.length),range:vn.cursor(s+t.length)}}return{range:o=r}}));return o?null:e.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function fv(e,t){var n=bc(e).resolveInner(t+1);return n.parent&&n.from==t}function hv(e,t,n){var r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=nr.Word)return t;var i,o=_(n);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=t-a.length;if(e.sliceDoc(s,t)==a&&r(e.sliceDoc(s-1,s))!=nr.Word)return s}}catch(l){o.e(l)}finally{o.f()}return-1}var dv=[{key:"Ctrl-Space",run:function(e){return!!e.state.field(qp,!1)&&(e.dispatch({effects:Fp.of(!0)}),!0)}},{key:"Escape",run:function(e){var t=e.state.field(qp,!1);return!(!t||!t.active.some((function(e){return 0!=e.state})))&&(e.dispatch({effects:Vp.of(null)}),!0)}},{key:"ArrowDown",run:Up(!0)},{key:"ArrowUp",run:Up(!1)},{key:"PageDown",run:Up(!0,"page")},{key:"PageUp",run:Up(!1,"page")},{key:"Enter",run:function(e){var t=e.state.field(qp,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||Date.now()-t.open.timestamp<e.state.facet(Mp).interactionDelay)&&(t.open.disabled||Sp(e,t.open.options[t.open.selected]),!0)}}],pv=Tn.highest(Ls.computeN([Mp],(function(e){return e.facet(Mp).defaultKeymap?[dv]:[]})));var vv=m((function e(t,n,r){h(this,e),this.from=t,this.to=n,this.diagnostic=r})),mv=function(){function e(t,n,r){h(this,e),this.diagnostics=t,this.panel=n,this.selected=r}return m(e,null,[{key:"init",value:function(t,n,r){var i=t,o=r.facet(Tv).markerFilter;o&&(i=o(i));var a=Fi.set(i.map((function(e){return e.from==e.to||e.from==e.to-1&&r.doc.lineAt(e.from).to==e.from?Fi.widget({widget:new Dv(e),diagnostic:e}).range(e.from):Fi.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity},diagnostic:e}).range(e.from,e.to)})),!0);return new e(a,n,gv(a))}}]),e}();function gv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=null;return e.between(n,1e9,(function(e,n,i){var o=i.spec;if(!t||o.diagnostic==t)return r=new vv(e,n,o.diagnostic),!1})),r}function yv(e,t){return!(!e.effects.some((function(e){return e.is(kv)}))&&!e.changes.touchesRange(t.pos))}function bv(e,t){return e.field(Sv,!1)?t:t.concat(Kn.appendConfig.of([Sv,Ms.decorations.compute([Sv],(function(e){var t=e.field(Sv),n=t.selected,r=t.panel;return n&&r&&n.from!=n.to?Fi.set([Cv.range(n.from,n.to)]):Fi.none})),zl(jv,{hideOn:yv}),Bv]))}var kv=Kn.define(),wv=Kn.define(),xv=Kn.define(),Sv=Cn.define({create:function(){return new mv(Fi.none,null,null)},update:function(e,t){if(t.docChanged){var n=e.diagnostics.map(t.changes),r=null;if(e.selected){var i=t.changes.mapPos(e.selected.from,1);r=gv(n,e.selected.diagnostic,i)||gv(n,null,i)}e=new mv(n,e.panel,r)}var o,a=_(t.effects);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.is(kv)?e=mv.init(s.value,e.panel,t.state):s.is(wv)?e=new mv(e.diagnostics,s.value?Rv.open:null,e.selected):s.is(xv)&&(e=new mv(e.diagnostics,e.panel,s.value))}}catch(l){a.e(l)}finally{a.f()}return e},provide:function(e){return[Kl.from(e,(function(e){return e.panel})),Ms.decorations.from(e,(function(e){return e.diagnostics}))]}});var Cv=Fi.mark({class:"cm-lintRange cm-lintRange-active"});function jv(e,t,n){var r=e.state.field(Sv).diagnostics,i=[],o=2e8,a=0;r.between(t-(n<0?1:0),t+(n>0?1:0),(function(e,r,s){var l=s.spec;t>=e&&t<=r&&(e==r||(t>e||n>0)&&(t<r||n<0))&&(i.push(l.diagnostic),o=Math.min(e,o),a=Math.max(r,a))}));var s=e.state.facet(Tv).tooltipFilter;return s&&(i=s(i)),i.length?{pos:o,end:a,above:e.state.doc.lineAt(o).to<a,create:function(){return{dom:_v(e,i)}}}:null}function _v(e,t){return vd("ul",{class:"cm-tooltip-lint"},t.map((function(t){return Ov(e,t,!1)})))}var Mv=function(e){var t=e.state.field(Sv,!1);return!(!t||!t.panel)&&(e.dispatch({effects:wv.of(!1)}),!0)},Ev=[{key:"Mod-Shift-m",run:function(e){var t=e.state.field(Sv,!1);t&&t.panel||e.dispatch({effects:bv(e.state,[wv.of(!0)])});var n=Hl(e,Rv.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:function(e){var t=e.state.field(Sv,!1);if(!t)return!1;var n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!(!r.value&&(!(r=t.diagnostics.iter(0)).value||r.from==n.from&&r.to==n.to))&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],Av=fo.fromClass(function(){function e(t){h(this,e),this.view=t,this.timeout=-1,this.set=!0;var n=t.state.facet(Tv).delay;this.lintTime=Date.now()+n,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,n)}return m(e,[{key:"run",value:function(){var e=this,t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;var n=this.view.state,r=n.facet(Tv).sources;Promise.all(r.map((function(t){return Promise.resolve(t(e.view))}))).then((function(t){var r=t.reduce((function(e,t){return e.concat(t)}));e.view.state.doc==n.doc&&e.view.dispatch(function(e,t){return{effects:bv(e,[kv.of(t)])}}(e.view.state,r))}),(function(t){so(e.view.state,t)}))}}},{key:"update",value:function(e){var t=e.state.facet(Tv);(e.docChanged||t!=e.startState.facet(Tv))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}},{key:"force",value:function(){this.set&&(this.lintTime=Date.now(),this.run())}},{key:"destroy",value:function(){clearTimeout(this.timeout)}}]),e}()),Tv=yn.define({combine:function(e){return Object.assign({sources:e.map((function(e){return e.source}))},ar(e.map((function(e){return e.config})),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:Av});function Nv(e){var t=[];if(e){var n,r=_(e);try{e:for(r.s();!(n=r.n()).done;){for(var i=n.value.name,o=function(){var e=i[a];if(/[a-zA-Z]/.test(e)&&!t.some((function(t){return t.toLowerCase()==e.toLowerCase()})))return t.push(e),"continue|actions"},a=0;a<i.length;a++){if("continue|actions"===o())continue e}t.push("")}}catch(s){r.e(s)}finally{r.f()}}return t}function Ov(e,t,n){var r,i=n?Nv(t.actions):[];return vd("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},vd("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(r=t.actions)||void 0===r?void 0:r.map((function(n,r){var o=function(r){r.preventDefault();var i=gv(e.state.field(Sv).diagnostics,t);i&&n.apply(e,i.from,i.to)},a=n.name,s=i[r]?a.indexOf(i[r]):-1,l=s<0?a:[a.slice(0,s),vd("u",a.slice(s,s+1)),a.slice(s+1)];return vd("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":" Action: ".concat(a).concat(s<0?"":' (access key "'.concat(i[r],')"'),".")},l)})),t.source&&vd("div",{class:"cm-diagnosticSource"},t.source))}var Dv=function(e){y(n,e);var t=S(n);function n(e){var r;return h(this,n),(r=t.call(this)).diagnostic=e,r}return m(n,[{key:"eq",value:function(e){return e.diagnostic==this.diagnostic}},{key:"toDOM",value:function(){return vd("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}]),n}(Bi),Pv=m((function e(t,n){h(this,e),this.diagnostic=n,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=Ov(t,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")})),Rv=function(){function e(t){var n=this;h(this,e),this.view=t,this.items=[];this.list=vd("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:function(e){if(27==e.keyCode)Mv(n.view),n.view.focus();else if(38==e.keyCode||33==e.keyCode)n.moveSelection((n.selectedIndex-1+n.items.length)%n.items.length);else if(40==e.keyCode||34==e.keyCode)n.moveSelection((n.selectedIndex+1)%n.items.length);else if(36==e.keyCode)n.moveSelection(0);else if(35==e.keyCode)n.moveSelection(n.items.length-1);else if(13==e.keyCode)n.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&n.selectedIndex>=0))return;for(var r=n.items[n.selectedIndex].diagnostic,i=Nv(r.actions),o=0;o<i.length;o++)if(i[o].toUpperCase().charCodeAt(0)==e.keyCode){var a=gv(n.view.state.field(Sv).diagnostics,r);a&&r.actions[o].apply(t,a.from,a.to)}}e.preventDefault()},onclick:function(e){for(var t=0;t<n.items.length;t++)n.items[t].dom.contains(e.target)&&n.moveSelection(t)}}),this.dom=vd("div",{class:"cm-panel-lint"},this.list,vd("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:function(){return Mv(n.view)}},"\xd7")),this.update()}return m(e,[{key:"selectedIndex",get:function(){var e=this.view.state.field(Sv).selected;if(!e)return-1;for(var t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}},{key:"update",value:function(){var e=this,t=this.view.state.field(Sv),n=t.diagnostics,r=t.selected,i=0,o=!1,a=null;for(n.between(0,this.view.state.doc.length,(function(t,n,s){for(var l,u=s.spec,c=-1,f=i;f<e.items.length;f++)if(e.items[f].diagnostic==u.diagnostic){c=f;break}c<0?(l=new Pv(e.view,u.diagnostic),e.items.splice(i,0,l),o=!0):(l=e.items[c],c>i&&(e.items.splice(i,c-i),o=!0)),r&&l.diagnostic==r.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),a=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),i++}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();0==this.items.length&&(this.items.push(new Pv(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:function(){return{sel:a.dom.getBoundingClientRect(),panel:e.list.getBoundingClientRect()}},write:function(t){var n=t.sel,r=t.panel;n.top<r.top?e.list.scrollTop-=r.top-n.top:n.bottom>r.bottom&&(e.list.scrollTop+=n.bottom-r.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}},{key:"sync",value:function(){var e=this.list.firstChild;function t(){var t=e;e=t.nextSibling,t.remove()}var n,r=_(this.items);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e)}}catch(o){r.e(o)}finally{r.f()}for(;e;)t()}},{key:"moveSelection",value:function(e){if(!(this.selectedIndex<0)){var t=gv(this.view.state.field(Sv).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:xv.of(t)})}}}],[{key:"open",value:function(t){return new e(t)}}]),e}();function Lv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'viewBox="0 0 40 40"';return'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" '.concat(t,">").concat(encodeURIComponent(e),"</svg>')")}function Iv(e){return Lv('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(e,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}var Bv=Ms.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Iv("#d11")},".cm-lintRange-warning":{backgroundImage:Iv("orange")},".cm-lintRange-info":{backgroundImage:Iv("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});var zv=function(e){void 0===e&&(e={});var t=[];!1!==e.closeBracketsKeymap&&(t=t.concat(ov)),!1!==e.defaultKeymap&&(t=t.concat(dd)),!1!==e.searchKeymap&&(t=t.concat(up)),!1!==e.historyKeymap&&(t=t.concat(vh)),!1!==e.foldKeymap&&(t=t.concat(ef)),!1!==e.completionKeymap&&(t=t.concat(dv)),!1!==e.lintKeymap&&(t=t.concat(Ev));var n=[];return!1!==e.lineNumbers&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[lu.of(e),eu(),fu]}()),!1!==e.highlightActiveLineGutter&&n.push(pu),!1!==e.highlightSpecialChars&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[dl.of(e),vl()]}()),!1!==e.history&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Zf,Xf.of(e),Ms.domEventHandlers({beforeinput:function(e,t){var n="historyUndo"==e.inputType?th:"historyRedo"==e.inputType?nh:null;return!!n&&(e.preventDefault(),n(t))}})]}()),!1!==e.foldGutter&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign(Object.assign({},af),e),n=new sf(t,!0),r=new sf(t,!1),i=fo.fromClass(function(){function e(t){h(this,e),this.from=t.viewport.from,this.markers=this.buildMarkers(t)}return m(e,[{key:"update",value:function(e){(e.docChanged||e.viewportChanged||e.startState.facet(Ec)!=e.state.facet(Ec)||e.startState.field(Qc,!1)!=e.state.field(Qc,!1)||bc(e.startState)!=bc(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}},{key:"buildMarkers",value:function(e){var t,i=new dr,o=_(e.viewportLineBlocks);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=Yc(e.state,a.from,a.to)?r:Uc(e.state,a.from,a.to)?n:null;s&&i.add(a.from,a.from,s)}}catch(l){o.e(l)}finally{o.f()}return i.finish()}}]),e}()),o=t.domEventHandlers;return[i,Xl({class:"cm-foldGutter",markers:function(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.markers)||fr.empty},initialSpacer:function(){return new sf(t,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:function(e,t,n){if(o.click&&o.click(e,t,n))return!0;var r=Yc(e.state,t.from,t.to);if(r)return e.dispatch({effects:Gc.of(r)}),!0;var i=Uc(e.state,t.from,t.to);return!!i&&(e.dispatch({effects:Kc.of(i)}),!0)}})}),rf()]}()),!1!==e.drawSelection&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Ys.of(e),Zs,tl,rl,io.of(!0)]}()),!1!==e.dropCursor&&n.push([ol,al]),!1!==e.allowMultipleSelections&&n.push(or.allowMultipleSelections.of(!0)),!1!==e.indentOnInput&&n.push(or.transactionFilter.of((function(e){if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;var t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;var n=e.newDoc,r=e.newSelection.main.head,i=n.lineAt(r);if(r>i.from+200)return e;var o=n.sliceString(i.from,r);if(!t.some((function(e){return e.test(o)})))return e;var a,s=e.state,l=-1,u=[],c=_(s.selection.ranges);try{for(c.s();!(a=c.n()).done;){var f=a.value.head,h=s.doc.lineAt(f);if(h.from!=l){l=h.from;var d=Dc(s,h.from);if(null!=d){var p=/^\s*/.exec(h.text)[0],v=Oc(s,d);p!=v&&u.push({from:h.from,to:h.from+p.length,insert:v})}}}}catch(m){c.e(m)}finally{c.f()}return u.length?[e,{changes:u,sequential:!0}]:e}))),!1!==e.syntaxHighlighting&&n.push(df(mf,{fallback:!0})),!1!==e.bracketMatching&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[kf.of(e),jf]}()),!1!==e.closeBrackets&&n.push([iv,Zp]),!1!==e.autocompletion&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[qp,Mp.of(e),Kp,pv,Gp]}()),!1!==e.rectangularSelection&&n.push(function(e){var t=(null===e||void 0===e?void 0:e.eventFilter)||function(e){return e.altKey&&0==e.button};return Ms.mouseSelectionStyle.of((function(e,n){return t(n)?Sl(e,n):null}))}()),!1!==e.crosshairCursor&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u(Cl[e.key||"Alt"],2),n=t[0],r=t[1],i=fo.fromClass(function(){function e(t){h(this,e),this.view=t,this.isDown=!1}return m(e,[{key:"set",value:function(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}}]),e}(),{eventHandlers:{keydown:function(e){this.set(e.keyCode==n||r(e))},keyup:function(e){e.keyCode!=n&&r(e)||this.set(!1)},mousemove:function(e){this.set(r(e))}}});return[i,Ms.contentAttributes.of((function(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.isDown)?jl:null}))]}()),!1!==e.highlightActiveLine&&n.push(bl),!1!==e.highlightSelectionMatches&&n.push(function(e){var t=[Ld,Rd];return e&&t.push(Nd.of(e)),t}()),e.tabSize&&"number"===typeof e.tabSize&&n.push(Tc.of(" ".repeat(e.tabSize))),n.concat([Ls.of(t.flat())]).filter(Boolean)},Fv="#e5c07b",Vv="#e06c75",Wv="#56b6c2",Hv="#ffffff",qv="#abb2bf",Uv="#7d8799",$v="#61afef",Kv="#98c379",Gv="#d19a66",Jv="#c678dd",Qv="#21252b",Yv="#2c313a",Xv="#282c34",Zv="#353a42",em="#3E4451",tm="#528bff",nm=[Ms.theme({"&":{color:qv,backgroundColor:Xv},".cm-content":{caretColor:tm},".cm-cursor, .cm-dropCursor":{borderLeftColor:tm},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:em},".cm-panels":{backgroundColor:Qv,color:qv},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:Xv,color:Uv,border:"none"},".cm-activeLineGutter":{backgroundColor:Yv},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Zv},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Zv,borderBottomColor:Zv},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Yv,color:qv}}},{dark:!0}),df(uf.define([{tag:vc.keyword,color:Jv},{tag:[vc.name,vc.deleted,vc.character,vc.propertyName,vc.macroName],color:Vv},{tag:[vc.function(vc.variableName),vc.labelName],color:$v},{tag:[vc.color,vc.constant(vc.name),vc.standard(vc.name)],color:Gv},{tag:[vc.definition(vc.name),vc.separator],color:qv},{tag:[vc.typeName,vc.className,vc.number,vc.changed,vc.annotation,vc.modifier,vc.self,vc.namespace],color:Fv},{tag:[vc.operator,vc.operatorKeyword,vc.url,vc.escape,vc.regexp,vc.link,vc.special(vc.string)],color:Wv},{tag:[vc.meta,vc.comment],color:Uv},{tag:vc.strong,fontWeight:"bold"},{tag:vc.emphasis,fontStyle:"italic"},{tag:vc.strikethrough,textDecoration:"line-through"},{tag:vc.link,color:Uv,textDecoration:"underline"},{tag:vc.heading,fontWeight:"bold",color:Vv},{tag:[vc.atom,vc.bool,vc.special(vc.variableName)],color:Gv},{tag:[vc.processingInstruction,vc.string,vc.inserted],color:Kv},{tag:vc.invalid,color:Hv}]))];function rm(e){var n=e.value,r=e.selection,i=e.onChange,o=e.onStatistics,a=e.onCreateEditor,s=e.onUpdate,l=e.extensions,c=void 0===l?[]:l,f=e.autoFocus,d=e.theme,p=void 0===d?"light":d,v=e.height,g=void 0===v?"":v,y=e.minHeight,b=void 0===y?"":y,k=e.maxHeight,w=void 0===k?"":k,x=e.placeholder,S=void 0===x?"":x,C=e.width,j=void 0===C?"":C,_=e.minWidth,M=void 0===_?"":_,E=e.maxWidth,A=void 0===E?"":E,T=e.editable,N=void 0===T||T,O=e.readOnly,D=void 0!==O&&O,P=e.indentWithTab,R=void 0===P||P,L=e.basicSetup,I=void 0===L||L,B=e.root,z=e.initialState,F=u((0,t.useState)(),2),V=F[0],W=F[1],H=u((0,t.useState)(),2),q=H[0],U=H[1],$=u((0,t.useState)(),2),K=$[0],G=$[1],J=Ms.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Q=Ms.theme({"&":{height:g,minHeight:b,maxHeight:w,width:j,minWidth:M,maxWidth:A}}),Y=Ms.updateListener.of((function(e){if(e.docChanged&&"function"===typeof i){var t=e.state.doc.toString();i(t,e)}o&&o(function(e){return{line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map((function(t){return e.state.sliceDoc(t.from,t.to)})),selectedText:e.state.selection.ranges.some((function(e){return!e.empty}))}}(e))})),X=[Y,Q];switch(R&&X.unshift(Ls.of([pd])),I&&("boolean"===typeof I?X.unshift(zv()):X.unshift(zv(I))),S&&X.unshift(function(e){return fo.fromClass(function(){function t(n){h(this,t),this.view=n,this.placeholder=Fi.set([Fi.widget({widget:new kl(e),side:1}).range(0)])}return m(t,[{key:"decorations",get:function(){return this.view.state.doc.length?Fi.none:this.placeholder}}]),t}(),{decorations:function(e){return e.decorations}})}(S)),p){case"light":X.push(J);break;case"dark":X.push(nm);break;case"none":break;default:X.push(p)}return!1===N&&X.push(Ms.editable.of(!1)),D&&X.push(or.readOnly.of(!0)),s&&"function"===typeof s&&X.push(Ms.updateListener.of(s)),X=X.concat(c),(0,t.useEffect)((function(){if(V&&!K){var e={doc:n,selection:r,extensions:X},t=z?or.fromJSON(z.json,e,z.fields):or.create(e);if(G(t),!q){var i=new Ms({state:t,parent:V,root:B});U(i),a&&a(i,t)}}return function(){q&&(G(void 0),U(void 0))}}),[V,K]),(0,t.useEffect)((function(){return W(e.container)}),[e.container]),(0,t.useEffect)((function(){return function(){q&&(q.destroy(),U(void 0))}}),[q]),(0,t.useEffect)((function(){f&&q&&q.focus()}),[f,q]),(0,t.useEffect)((function(){q&&q.dispatch({effects:Kn.reconfigure.of(X)})}),[p,c,g,b,w,j,M,A,S,N,D,R,I,i,s]),(0,t.useEffect)((function(){var e=q?q.state.doc.toString():"";q&&n!==e&&q.dispatch({changes:{from:0,to:e.length,insert:n||""}})}),[n,q]),{state:K,setState:G,view:q,setView:U,container:V,setContainer:W}}var im=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],om=(0,t.forwardRef)((function(e,n){var r=e.className,i=e.value,o=void 0===i?"":i,a=e.selection,s=e.extensions,l=void 0===s?[]:s,u=e.onChange,c=e.onStatistics,f=e.onCreateEditor,h=e.onUpdate,d=e.autoFocus,p=e.theme,v=void 0===p?"light":p,m=e.height,g=e.minHeight,y=e.maxHeight,b=e.width,k=e.minWidth,w=e.maxWidth,x=e.basicSetup,S=e.placeholder,C=e.indentWithTab,j=e.editable,_=e.readOnly,M=e.root,E=e.initialState,A=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,im),T=(0,t.useRef)(null),N=rm({container:T.current,root:M,value:o,autoFocus:d,theme:v,height:m,minHeight:g,maxHeight:y,width:b,minWidth:k,maxWidth:w,basicSetup:x,placeholder:S,indentWithTab:C,editable:j,readOnly:_,selection:a,onChange:u,onStatistics:c,onCreateEditor:f,onUpdate:h,extensions:l,initialState:E}),O=N.state,D=N.view,P=N.container;N.setContainer;if((0,t.useImperativeHandle)(n,(function(){return{editor:T.current,state:O,view:D}}),[T,P,O,D]),"string"!==typeof o)throw new Error("value must be typeof string but got "+typeof o);var R="string"===typeof v?"cm-theme-"+v:"cm-theme";return(0,Ge.jsx)("div",Ot({ref:T,className:R+(r?" "+r:"")},A))}));om.displayName="CodeMirror";var am,sm=om,lm=function(e){var t=e.theme,n=e.settings,r=e.styles,i={"&":{backgroundColor:n.background,color:n.foreground},".cm-gutters":{}};n.fontFamily&&(i["&.cm-editor .cm-scroller"]={fontFamily:n.fontFamily}),n.gutterBackground&&(i[".cm-gutters"].backgroundColor=n.gutterBackground),n.gutterForeground&&(i[".cm-gutters"].color=n.gutterForeground),n.gutterBorder&&(i[".cm-gutters"].borderRightColor=n.gutterBorder),n.caret&&(i[".cm-content"]={caretColor:n.caret},i[".cm-cursor, .cm-dropCursor"]={borderLeftColor:n.caret});var o={};return n.gutterActiveForeground&&(o.color=n.gutterActiveForeground),n.lineHighlight&&(i[".cm-activeLine"]={backgroundColor:n.lineHighlight},o.backgroundColor=n.lineHighlight),i[".cm-activeLineGutter"]=o,n.selection&&(i["&.cm-focused .cm-selectionBackground, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={backgroundColor:n.selection}),n.selectionMatch&&(i["& .cm-selectionMatch"]={backgroundColor:n.selectionMatch}),[Ms.theme(i,{dark:"dark"===t}),df(uf.define(r))]},um=function(e){var t=e||{},n=t.theme,r=void 0===n?"dark":n,i=t.settings,o=void 0===i?{}:i,a=t.styles,s=void 0===a?[]:a;return lm({theme:r,settings:Ot({background:"#272822",foreground:"#FFFFFF",caret:"#FFFFFF",selection:"#49483E",selectionMatch:"#49483E",gutterBackground:"#272822",gutterForeground:"#FFFFFF70",lineHighlight:"#00000059"},o),styles:[{tag:[vc.comment,vc.documentMeta],color:"#8292a2"},{tag:[vc.number,vc.bool,vc.null,vc.atom],color:"#ae81ff"},{tag:[vc.attributeValue,vc.className,vc.name],color:"#e6db74"},{tag:[vc.propertyName,vc.attributeName],color:"#a6e22e"},{tag:[vc.variableName],color:"#9effff"},{tag:[vc.squareBracket],color:"#bababa"},{tag:[vc.string,vc.special(vc.brace)],color:"#e6db74"},{tag:[vc.regexp,vc.className,vc.typeName,vc.definition(vc.typeName)],color:"#66d9ef"},{tag:[vc.definition(vc.variableName),vc.definition(vc.propertyName),vc.function(vc.variableName)],color:"#fd971f"},{tag:[vc.keyword,vc.definitionKeyword,vc.modifier,vc.tagName,vc.angleBracket],color:"#f92672"}].concat(f(s))})}(),cm="\n# Interprets MSNScript\n\n\nimport os\nimport time\n\n# Timer class\nclass Timer:\n    def __init__(self):\n        self.start = time.time()\n    def elapsed(self):\n        return time.time() - self.start\n\n\n\n\n\n# --------------------------------------------------------\n\n\n\nclass Interpreter:\n    # execution message\n    exemsg = ''\n\n    # script version\n    version = 1.0\n\n    # variables\n    vars = {}\n\n    # methods\n    methods = {}\n    loggedmethod = []\n\n    # objects\n    objects = {}\n\n    def __init__(self, script):\n        self.script = script\n        self.vars = {}\n        self.methods = {}\n        self.loggedmethod = []\n        self.objects = {}\n        self.version = 1.0\n\n    def verify(self, script):\n        timer = Timer()\n        ec = 0\n        em = 'No error'\n        lines = script.split('\\n')\n        lines = [i for i in lines if i]\n\n        # TODO perform verification\n\n        elapsed = timer.elapsed() * 1000\n        return lines, (ec, em), elapsed\n\n    def exe(self, script):\n        os.system('cls' if os.name == 'nt' else 'clear')\n        self.exemsg += (f'MSNScript v{self.version}\\n')\n        lines = self.verify(script)\n        ec = lines[1][0]\n        em = lines[1][1]\n\n        if ec != 0:\n            return f'Compilation Error {ec}: {em}'\n        self.exemsg += ('Executing...\\n')\n        self.exemsg += ('~~~~~~~~~~OUT~BEGIN~~~~~~~~~~\\n')\n\n        ran = 0\n        inbacktick = False\n        backtickline = ''\n        # for each line of code\n        for line in lines[0]:\n            if not line.lstrip().startswith('::'):\n                seqlines = line.split('|')\n                for seqline in seqlines:\n                    if not inbacktick and seqline.replace(' ', '').startswith('$$'):\n                        inbacktick = True\n                        backtickline += seqline.replace('$$', '')\n                    elif inbacktick and seqline.replace(' ', '').startswith('$$'):\n                        inbacktick = False\n                        self.interpret(backtickline)\n                        ran += 1\n                        backtickline = ''\n                    elif inbacktick:\n                        backtickline += seqline\n                    else:\n                        self.interpret(seqline)\n                        ran += 1\n                        \n\n        self.exemsg += ('~~~~~~~~~~~OUT~END~~~~~~~~~~~\\n')\n        self.exemsg += f\"\"\"    variables:\\n\"\"\"\n        for var in self.vars:\n            self.exemsg += f\"\"\"\\t{var} ({str(type(self.vars[var]))}): {self.vars[var]}\\n\"\"\"\n        self.exemsg += f\"\"\"    methods:\\n\"\"\"\n        for method in self.methods:\n            self.exemsg += f\"\"\"\\t{method}\\n\"\"\"\n        self.exemsg += f\"\"\"    objects:\\n\"\"\"\n        for o in self.objects:\n            self.exemsg += f\"\"\"\\t{o}: vars: {len(self.objects[o].vars)}, methods: {len(self.objects[o].methods)}\\n\"\"\"\n        return self.exemsg, ran, lines[2]\n\n    def interpret(self, line):\n        element = ''\n        variable = ''\n\n        for i in range(0, len(line)):\n            c = line[i]\n            if c != ' ':\n                if c == '+' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n\n                    # if element is a number\n                    if isinstance(element, float) or isinstance(element, int):\n                        value = element\n                        self.vars[variable] += self.evaluate(element, 'number')\n                    # if element is a string\n                    elif isinstance(element, str):\n                        try:\n                            self.vars[variable] += self.evaluate(element, 'string')\n                        except:\n                            try:\n                                self.vars[variable] += self.evaluate(element, 'number')\n                            except TypeError:\n                                self.exemsg += \"Runtime Error: Out Of Bounds: \" + element + '\\n'\n                                \n                    break\n                elif c == '-' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n                    self.vars[variable] -= self.evaluate(element, 'number')\n                    break\n                elif c == '*' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n                    self.vars[variable] *= self.evaluate(element, 'number')\n                    break\n                elif c == '/' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n                    self.vars[variable] /= self.evaluate(element, 'number')\n                    break\n                elif c == '=':\n                    variable = element\n                    element = ''\n                    string = False\n                    array = False\n                    for j in range(i+1, len(line)):   \n                        if line[j] == '\"':\n                            string = True\n                        if line[j] == '[':\n                            array = True                     \n                        element += line[j]\n                    if string:\n                        self.vars[variable] = self.evaluate(element, 'string')\n                    elif array:\n                        self.vars[variable] = self.evaluate(element, 'array')\n                    else:\n                        self.vars[variable] = self.evaluate(element, 'number')\n                    break\n                elif c=='.':\n                    variable = element\n                    element = ''\n                    self.method(variable, line, i)\n                    break\n                elif c == '~':\n                    returnvariable = ''\n                    self.loggedmethod.append('')\n                    for j in range(i + 1, len(line)):\n                        if line[j] != ' ':\n                            if line[j] == '(':\n                                args = self.get_args(line, j)\n                                for k in range(args[1], len(line)):\n                                    if line[k] != ' ':\n                                        if line[k] == '-' and line[k + 1] == '>':\n                                            for l in range(k + 2, len(line)):\n                                                if line[l] != ' ':\n                                                    returnvariable += line[l]\n                                break\n                            self.loggedmethod[-1] += line[j]\n                    if self.loggedmethod[-1] not in self.methods.keys():\n                        self.methods[self.loggedmethod[-1]] = self.Method(self.loggedmethod[-1], self)\n                    else:\n                        break\n                    for arg in args[0]:\n                        if arg != '':\n                            self.vars[arg] = None\n                            self.methods[self.loggedmethod[-1]].add_arg(arg)\n                    self.methods[self.loggedmethod[-1]].add_return(returnvariable)\n                    self.methods[self.loggedmethod[-1]].update_interpreter(self)\n                    break\n                elif element == 'done':\n                    try:\n                        self.methods[self.loggedmethod[-1]].ended = True\n                    except:\n                        None\n                    try:\n                        self.loggedmethod.remove(self.loggedmethod[-1])\n                    except:\n                        None\n                    break\n                elif c=='>':\n                    line = line[i + 1:]\n                    try:\n                        if not self.methods[self.loggedmethod[-1]].ended:\n                            self.methods[self.loggedmethod[-1]].add_body(line)\n                    except:\n                        None\n                    break\n                elif element == 'print':\n                    self.exemsg += self.evaluate(line[i:], 'string') + '\\n'\n                    break\n                elif \"{\" in element and \"}\" in element:\n                    if \":\" not in element:\n                        expression = element.replace(\"{\", '').replace(\"}\", '')\n                        willrun = self.boolean(expression)\n                        \n                        if willrun:\n                            line = line[line.index(\"}\") + 1:]\n                            self.interpret(line)\n                    else:\n                        times = self.loop(element)\n                        first = times[0]\n                        last = times[1]\n                        optvar = times[2]\n                        try:\n                            first = self.vars[first]\n                        except: \n                            None\n                        try:\n                            last = self.vars[last]\n                        except:\n                            None\n                        first = int(first)\n                        last = int(last)\n                        if first <= last:\n                            for i in range(first, last):\n                                if optvar != '':\n                                    self.vars[optvar] = i\n                                self.interpret(line.replace(' ', '').replace(element, ''))\n                        else:\n                            for i in range(last, first):\n                                if optvar != '':\n                                    self.vars[optvar] = i\n                                self.interpret(line.replace(' ', '').replace(element, ''))\n                    break\n                elif element == '^^':\n                    self.methods[self.loggedmethod[-1]].run([])\n                    break\n                elif element == 'assert':\n                    expression = ''\n                    instring = False\n                    for j in range(i, len(line)):\n                        if line[j] == '\"' and instring:\n                            instring = False\n                        elif line[j] == '\"' and not instring:\n                            instring = True\n                        if instring:\n                            expression += line[j]\n                        elif line[j] != ' ':\n                            expression += line[j]\n                    if not self.boolean(expression):\n                        self.exemsg += f'assertion failed: {expression}\\n'\n                    break\n                elif element == 'run':\n                    l = line[i:]\n                    try:\n                        self.interpret (self.vars[l])\n                    except:\n                        try:\n                            self.interpret (string(l))\n                        except:\n                            self.interpret(l)\n                    break\n                else:\n                    element += c\n\n    def throw(self, msg):\n        raise Exception(self.evaluate(msg, 'string'))\n\n\n    def loop(self, section):\n        first = ''\n        last = ''\n        optvar = ''\n        optvarfound = False\n        for i in range(1, len(section)):\n            if section[i] == ':':\n                for j in range(i + 1, len(section)):\n                    if section[j] == ':':\n                        for k in range(j + 1, len(section)):\n                            if section[k] == '}':\n                                optvarfound = True\n                                break\n                            optvar += section[k]    \n                    if section[j] == '}':\n                        break\n                    if optvarfound:\n                        break\n                    last += section[j]\n                break\n            first += section[i]\n        return first, last, optvar\n\n\n    def boolean(self, expression):\n        first = ''\n        last = ''\n        op = ''\n        for i in range(0, len(expression)):\n            if  expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] != '-' and expression[i + 2] != '+':\n                for j in range(i + 2, len(expression)):\n                    last += expression[j]\n                op = '==' \n                break\n            elif expression[i] == '!' and expression[i + 1] == '&' and expression[i + 2] == '&'  and expression[i + 3] != '-' and expression[i + 3] != '+':\n                for j in range(i + 3, len(expression)):\n                    last += expression[j]\n                op = '!=' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '-' and expression[i + 3] != 'e':\n                for j in range(i + 3, len(expression)):\n                    last += expression[j]\n                op = '<' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '+' and expression[i + 3] != 'e':\n                for j in range(i + 3, len(expression)):\n                    last += expression[j]\n                op = '>' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '-' and expression[i + 3] == 'e':\n                for j in range(i + 4, len(expression)):\n                    last += expression[j]\n                op = '<=' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '+' and expression[i + 3] == 'e':\n                for j in range(i + 4, len(expression)):\n                    last += expression[j]\n                op = '>=' \n                break\n            else:\n                first += expression[i]\n        \n        try:\n            firsteval = self.vars[first]\n        except KeyError:\n            firsteval = self.evaluate(first, 'string')\n\n        try:\n            lasteval = self.vars[last]\n        except KeyError:\n            lasteval = self.evaluate(last, 'string')\n\n        if op == '==':\n            return firsteval == lasteval\n        if op == '!=':\n            return firsteval != lasteval\n        if op == '<':\n            return firsteval < lasteval\n        if op == '>':\n            return firsteval > lasteval\n        if op == '<=':\n            return firsteval <= lasteval\n        if op == '>=':\n            return firsteval >= lasteval\n        return False\n\n    def method(self, variable, line, i):\n        method = ''\n        for j in range(i + 1, len(line) - 1): \n            if line[j] != ' ':\n                if line[j] == '(':\n                    if variable == 'System':\n                        self.system(line, self.get_args(line, j), method)\n                        break\n                    if variable == 'Local':\n                        self.local(line, self.get_args(line, j), method)\n                        break\n                    if variable == 'Boolean':\n                        self.bool(line, self.get_args(line, j), method)\n                    if variable == 'Object':\n                        self.obj(line, self.get_args(line, j), method)\n                    # ARRAYS\n                    if method == 'add':\n                        args = self.get_args(line, j)\n                        for arg in args[0]:\n                            try:\n                                self.vars[variable].append(self.evaluate(arg, \"string\"))\n                            except:\n                                self.vars[variable].append(self.evaluate(arg, \"number\"))\n                        break\n                    # ARRAYS\n                    elif method == 'remove':\n                        args = self.get_args(line, j)\n                        ret = 0\n                        try:\n                            for arg in args[0]:\n                                evaluation = self.evaluate(arg, \"string\")\n                                self.vars[variable].remove(evaluation)\n                            ret = 1\n                        except:\n                            ret = 0\n\n                        # if function has a return value\n                        # use ret as the return value\n                        self.store(line, args[1], ret)\n                        break\n\n                    # ARRAYS\n                    elif method == 'clear':\n                        self.vars[variable] = []\n                        break\n                    # ARRAYS\n                    elif method == 'reverse':\n                        self.store(line, self.get_args(line, j)[1], self.vars[variable][::-1])\n                        break\n                    # ARRAYS, STRINGS\n                    elif method == 'length':\n                        self.store(line, self.get_args(line, j)[1], len(self.vars[variable]))\n                        break\n\n                    # ARRAYS, STRINGS\n                    elif method == 'get':\n                        args = self.get_args(line, j)\n                        try:\n                            self.store(line, args[1], self.vars[variable][int(self.evaluate(args[0][0], 'number'))])\n                        except:\n                            # if variable is a dict, get the value of the key and store it\n                            if isinstance(self.vars[variable], dict):\n                                try:\n                                    self.store(line, args[1], self.vars[variable][self.evaluate(args[0][0], 'string')])\n                                except:\n                                    self.store(line, args[1], None)\n                        break\n\n                    # ARRAYS, STRINGS\n                    elif method == 'set':\n                        args = self.get_args(line, j)\n                        try:\n                            self.vars[variable][int(self.evaluate(args[0][0], 'number'))] = self.evaluate(args[0][1], 'unknown')\n                        except:\n                            self.vars[variable][int(self.evaluate(args[0][0], 'number'))] = self.evaluate(args[0][1], 'string')\n                    elif method == 'put':\n                        args = self.get_args(line, j)\n                        key = self.evaluate(args[0][0], 'string')\n                        value = self.evaluate(args[0][1], 'unknown')\n                        self.vars[variable][key] = value\n                    # STRINGS\n                    elif method == 'replace':\n                        args = self.get_args(line, j)\n                        self.store(line, args[1], self.vars[variable].replace(self.evaluate(args[0][0], 'string'), self.evaluate(args[0][1], 'string')))\n                        break\n                    elif method == 'each':\n                        args = self.get_args (line, j)[0]\n                        for i in range(1, len(args)):\n                            l = args[i]\n                            if l[0] =='\"':\n                                l = l[1:]\n                            if l[-1] == '\"':\n                                l = l[0:len(l) - 1]\n                            copy = self.vars[variable].copy()\n                            for el in copy:\n                                self.vars[args[0]] = el\n                                try:\n                                    self.interpret(self.vars[l])\n                                except:\n                                    self.interpret(l)\n                            del self.vars[args[0]]\n                    elif method == 'copy':\n                        args = self.get_args (line, j)\n                        self.store(line, args[1], self.vars[variable].copy())\n                \n                    elif variable in self.objects.keys():\n                        self.get_args(line, j)\n                        self.obj (line, (self.get_args(line, j), variable), method)\n                        break\n                            \n                method += line[j]\n\n    def get_args(self, line, j):\n        argstring = ''\n        instring = False\n        for k in range(j + 1, len(line)):\n            if line[k] == '\"' and not instring:\n                instring = True\n            elif line[k] == '\"' and instring:\n                instring = False\n            if not instring:\n                if line[k] != ' ':\n                    if line[k] == ')':\n                        break\n                    argstring += line[k]\n            else:\n                argstring += line[k]\n        return argstring.split(','), k\n\n        \n    def store(self, line, k, ret):\n        location = ''\n        for i in range(k + 1, len(line)):\n            if line[i] != ' ':\n                if line[i] == '-' and line[i + 1] == '>':\n                    for j in range(i + 2, len(line)):\n                        if line[j] != ' ':\n                            location += line[j]\n                    self.vars[location] = ret\n                    break\n        return ret\n\n    import re\n\n    def findall(sub, string):\n        \"\"\"\n        >>> text = \"Allowed Hello Hollow\"\n        >>> tuple(findall('ll', text))\n        (1, 10, 16)\n        \"\"\"\n        index = 0 - len(sub)\n        try:\n            while True:\n                index = string.index(sub, index + len(sub))\n                yield index\n        except ValueError:\n            pass\n\n    def evaluate(self, postop, type):\n        new = postop\n        \n        if type == 'number':\n            new = self.replace(new) \n            try:\n                return eval(new)\n            except:\n                return eval('\"' + new + '\"')\n        elif type == 'string':\n            return self.string(postop)\n        elif type == 'array':\n            return self.array(postop)\n        elif type == 'unknown':\n            new = self.replace(new) \n            try:\n                evaluation = eval(str(self.string(new)))\n            except:\n                try:\n                    evaluation = self.array(self.vars[new])\n                except:\n                    try:\n                        evaluation = self.vars[self.string(eval(new))]\n                    except:\n                        try:\n                            evaluation = eval(new)\n                        except:\n                            evaluation = new\n            return evaluation\n                \n    def replace(self, new):\n\n        # decending required to avoid variable replacement complications with\n        # substring variables\n        \n        decendinglength = list(self.vars.keys())\n        decendinglength.sort(key=len, reverse=True)\n        for var in decendinglength:\n            new = new.replace(var, str(self.vars[var]))\n        return new\n\n\n    def string(self, string):\n        strn = ''\n        isv = False\n        try:\n            string = self.vars[string]\n            isv = True\n        except KeyError:\n            None\n\n        if isv and '\"' not in string:\n            string = '\"' + string + '\"'\n\n        \n        try:\n            strn = eval(string);\n        except:\n            None\n        try:\n            for var in self.vars:\n                strn = strn.replace(\"{\" + var + \"}\", str(self.vars[var]))\n                strn = strn.replace('<' + var + '>', '\"' + str(var) + '\"')\n            for obj in self.objects.keys():\n                strn = strn.replace(\"{\" + obj + \"}\", str(self.objects[obj].vars) + str(self.objects[obj].methods))\n            for method in self.methods.keys():\n                toprint = ''\n                body = self.methods[method].body\n                for line in body:\n                    toprint += line + '\\n'\n                strn = strn.replace(\"{\" + method + \"}\", toprint)\n        except:\n            None\n        return strn\n\n    def array(self, postop):\n        array = []\n        try:\n            array = eval(postop)\n        except:\n            None\n        return array\n\n    def system(self, line, args, method):\n        if method == 'print':\n            for arg in args[0]:\n                self.exemsg += self.evaluate(arg, 'string') + '\\n'\n        if method == 'destroy':\n            for arg in args[0]:\n                try:\n                    del self.vars[arg]\n                    self.store(line, args[1], 1)\n                except:\n                    None\n                    self.store(line, args[1], 0)\n                try:\n                    if arg == '__':\n                        removing = []\n                        for var in self.vars:\n                            if var.startswith('__'):\n                                removing.append(var)\n                        for var in removing:\n                            del self.vars[var]\n                        removemethods = []\n                        for var in self.methods:\n                            if var.startswith('__'):\n                                removemethods.append(var)\n                        for var in removemethods:\n                            del self.methods[var]\n                except:\n                    None\n                try:\n                    del self.methods[arg]\n                    \n                except:\n                    None\n                try:\n                    del self.objects[arg]\n                except:\n                    None\n        if method == 'verify':\n            k = args[1]\n            args = args[0]\n            for arg in args:\n                self.interpret (self.string(arg) + \"=\" + self.vars[eval(arg)])\n        if method == 'throw':\n            self.throw(args[0][0])\n        if method == 'input':\n            ip = input(self.evaluate(args[0][0], 'string'))\n            try:\n                self.store(line, args[1], eval(ip))\n            except:\n                self.store(line, args[1], ip)\n\n    def local(self, line, args, method):\n        self.methods[method].run(args[0])\n        try:\n            self.store(line, args[1], self.vars[self.methods[method].returns[0]])\n        except:\n            self.vars[self.methods[method].returns[0]] = None\n            self.store(line, args[1], self.vars[self.methods[method].returns[0]])\n\n    def bool(self, line, args, method):\n        expressions = []\n        if method == 'eval':\n            expression = args[0][0]\n            try:\n                self.store(line, args[1], self.boolean(self.vars[expression]))\n            except:    \n                self.store(line, args[1], self.boolean(expression))\n            return\n        if method == 'and':\n            for arg in args[0]:\n                try:\n                    expressions.append(eval(str(arg)))\n                except:\n                    expressions.append(self.vars[arg])\n            for exp in expressions:\n                if exp == False:\n                    self.store(line, args[1], False)\n                    return\n        if method == 'or':\n            for arg in args[0]:\n                try:\n                    expressions.append(eval(str(arg)))\n                except:\n                    expressions.append(self.vars[arg])\n            for exp in expressions:\n                if exp == True:\n                    self.store(line, args[1], True)\n                    return\n            self.store(line, args[1], False)\n            return\n        if method == 'not':\n            arg = args[0][0]\n            try:\n                self.store(line, args[1], not eval(str(arg)))\n            except:\n                self.store(line, args[1], not self.vars[arg])\n            return\n\n        self.store(line, args[1], True)\n\n    def obj(self, line, args, method):\n        if method == 'new':\n            objname = self.evaluate(args[0][0], \"string\")\n            self.objects[objname] = self.Obj(objname, self)\n        elif method == 'setattr':\n            dupset = args[0][0]\n            objname = str(args[1])\n            self.objects[objname].setat(self.evaluate(dupset[0], 'string'), self.evaluate(dupset[1], 'unknown'))\n        elif method == 'getattr':\n            dupset = args[0][0]\n            objname = str(args[1])\n            k = args[0][1]\n            self.store(line, k, self.objects[objname].getat(self.evaluate(dupset[0], 'string')))\n        elif method == 'has':\n            objname = args[1]\n            methodname = self.evaluate(args[0][0][0], \"string\")\n            self.objects[objname].add_method(methodname, self.methods[methodname])\n        elif method in self.objects[args[1]].methods:\n            k = args[0][1]\n            objname = args[1]\n            ret = self.objects[objname].run_method(method, args[0][0])\n            self.store(line, k, ret)\n\n\n    class Obj:\n        def __init__(self, name, interpreter):\n            self.name = name\n            self.vars = {}\n            self.objects = {}\n            self.methods = {}\n            self.supertype = None\n            self.interpreter = interpreter\n        \n        def setat(self, name, value):\n            self.vars[name] = value\n        \n        def getat(self, name):\n            return self.vars[name]\n\n        def add_method(self, name, method):\n            self.methods[name] = method\n\n        def get_method(self, name):\n            return self.methods[name]\n\n        def run_method(self, name, args):            \n            self.methods[name].run(args)\n            try:\n                return self.interpreter.vars[self.methods[name].returns[0]]\n            except:\n                return None\n\n    class Method:\n        def __init__(self, name, interpreter):\n            self.name = name\n            self.args = []\n            self.body = []\n            self.returns = []\n            self.ended = False\n            self.interpreter = interpreter\n\n        def add_arg(self, arg):\n            self.args.append(arg)\n\n        def add_body(self, body):\n            self.body.append(body)\n\n        def add_return(self, ret):\n            self.returns.append(ret)\n\n        def update_interpreter(self, interpreter):\n            self.interpreter = interpreter\n\n        def run(self, args):\n            for i in range(len(self.args)):\n                try:\n                    self.interpreter.vars[self.args[i]] = self.interpreter.vars[args[i]]\n                except:\n                    try: \n                        self.interpreter.vars[self.args[i]] = self.interpreter.evaluate(args[i], 'string')\n                    except:\n                        self.interpreter.vars[self.args[i]] = self.interpreter.evaluate(args[i], 'string')\n            for line in self.body:\n                self.interpreter.interpret(line)",fm={Integers:'integer = 3\ninteger += 3\ninteger2=5\ninteger=integer-integer2\n\n:: assertions verify a certain condition is true\nassert integer && 1\n\n:: you can print variables with the below syntax\nprint "integer is {integer}"\nprint "integer2 is {integer2}"\n\ninteger = 3\ninteger -= 1\ncheck_integer = 2\nassert integer && check_integer\n\n:: variables should be destroyed after use\nSystem.destroy(integer, integer2, check_integer)',Strings:'string = "Hello"\nstring2 = "World"\n\n:: note that strings must be within double quotes\n\n:: you can concatenate strings with the below syntax\nstring3 = "{string} {string2}"\nassert string3 && "Hello World"\nprint "{string3}"\n\n:: you can use $$ to span one instruction across multiple lines\n$$\nlongstring =\n"\nhey, how are you doing\n today? I\'m doing great, thanks!\n"\n$$\nprint "{longstring}"\nSystem.destroy(string, string2, string3, longstring)',Conditions:"integer = 5\n{integer && 5} integer -= 1\nassert integer && 4\n\n\n::    &&    :       equals\n::    &&-   :       less than\n::    &&+   :       greater than\n::    &&-e  :       less than / equal to\n::    &&+e  :       greater than / equal to\n::    !&&   :       not equal\n\n:: 'and' logic is simple to implement:\nboolean = True\nboolean2 = True\n\n{boolean&&True}{boolean2&&True}boolean=False\nassert boolean && False\n\n:: 'or' logic has been implemented via the 'Boolean' class of operations\nBoolean.or (boolean, boolean2)->result\nassert result && True\n\n:: the 'Boolean' class has several methods associated with it besides 'or'\nBoolean.and (boolean, boolean2)->result\nassert result && False\n\nBoolean.eval(0 && 1)->result\nassert result && False\n\n:: 'not' logic:\nboolean = True\nBoolean.not(boolean)->boolean \nassert boolean && False\n\nBoolean.not(boolean)->boolean\nassert boolean && True\n\n:: comparing values\nstring = \"this is a string\"\nstring.length()->length\nassert length && 16\n\nstring.get(0)->first_char\nassert first_char && \"t\"\n\ninteger = 5\ninteger2 = 10\n{integer2 &&+ integer}integer2 -= 1\nassert integer2 && 9\nSystem.destroy(integer, integer2, boolean, boolean2, string, length, first_char, result)",Loops:'integer = 0\n{0:10}integer+=1\nassert integer && 10\n\n:: loops allow for repetition of code\n:: loops can also incorporate a variable\nstring = ""\n{0:3:integer}string += "{integer}"\nassert string && "012"\n\n{0:5:integer}print "{integer}"\nSystem.destroy(integer, string)',Methods:"integer=0\n\n:: methods are defined with the below syntax\n~function()->ret\n>    integer+=1\n>    ret = integer\n\n:: functions can be invoked with the below syntax\nLocal.function()->result\nassert result && 1\n\n:: while a function does not have to utilize a return value, it must declare one with '->'\n:: a function's return value can have any name\n\ninteger += 2\n~ gen_string()->string\n>    string = \"\"\n>    {0:integer}string+=\"{integer}\"\n\n:: once invoked, the storage for a function's return value can have any name\nLocal.gen_string()->return_string\nassert return_string && \"333\"\n\n:: a void method can be utilized with the below syntax\n~ void_method()->nothing\n>    print \"this is a void method\"\nLocal.void_method()\n\n:: a function isn't required to have a name\ninteger = 0\n~()->result\n>    integer += 1\nLocal.()\nassert integer && 1\n\n:: the most recent function written can be invoked with the below syntax\n^^^\nassert integer && 2\n^^^|^^^\nassert integer && 4\n\n:: a function can incorporate parameters\n~ add(integer, integer2)->result\n>    result = integer + integer2\nLocal.add(1, 2)->result\nassert result && 3\n\n~ length_of(__array)->result\n>    __array.length()->result\n\n:: an array cannot be passed as a parameter, but it can be passed as a variable\narray = [1, 2, 3, 4, 5]\nLocal.length_of(array)->result\nassert result && 5\n\n:: when destroying, you can use '__' to destroy all variables prefixed with '__'\nSystem.destroy(integer, result, return_string, array, integer2, ret, string, nothing, __)\n\n:: you can also destroy functions with the below syntax\n\n:: destroying functions without a name:\nSystem.destroy()\n\n:: destroying functions with a name:\nSystem.destroy(function, gen_string, add, length_of, void_method)",Arrays:"array = []\n:: arrays are declared with the above syntax\n\narray methods are accessed the same as any other object\n\narray.add(3)\narray.add(4)\narray.add(5)\nassert array && [3, 4, 5]\n\narray.remove(4)\nassert array && [3, 5]\n\narray.get(0)->result\nassert result && 3\n\narray.length()->length\nassert length && 2\n\narray.reverse()->array\nassert array && [5, 3]\n\narray.copy()->array2\nassert array2 && [5, 3]\n\n:: the 'each' method allows for operations to be performed on each element of an array\narray = [1, 2, 3, 4, 5]\n\n:: there is no limit to the number of arguments to the 'each' method, however the first argument must be the current element\n:: while the rest are string representations of instructions\n\niterations = 0\n$$\narray.each (item, \n    \"print 'current item is {item}'\",\n    \"iterations += 1\"\n    )\n$$\nassert iterations && 5\n\n\n:: computing the sum of an array with functions\n\n~ sum (__array) -> result\n>    result = 0\n>    __array.each (item, \"result += item\")\n\nLocal.sum(array)->result\nassert result && 15\nSystem.destroy(array, array2, result, length, iterations, item, __, sum)",Nests:"array = [1, 2, 3, 4, 5]\n\n:: functions permit nested functions for subroutines\n\n:: computing the sum of an array with nested functions\n~ sum (__array) -> result\n>    result = 0\n>    __array.length()->__length\n>    ~(__index) ->_\n>    >    __array.get(__index)->__curr\n>    >    result += __curr\n\n:: nested functions should have closure via 'done_' to prevent execution issues\n>    >    done_\n>    {0:__length:__i}Local.(__i)\nLocal.sum(array)->result\nassert result && 15\n\n\n:: complex example\n~_()->__void\n>~__()->__void\n>   >   ~___()->__void\n>   >   >   ~____()->__void\n>   >   >   >   ~_____()->__void\n>   >   >   >   >   a += 1\n>   >   >   >   >   done_\n>   >   >   >   {0:2}Local._____()\n>   >   >   >   done_\n>   >   >   {0:2}Local.____()\n>   >   >   done_\n>   >   {0:2}Local.___()\n>   >   done_\n>   {0:2}Local.__()\n\n~()->__v\n>  a = 0\n>  Local._()\n>  assert a && 16\n\n{0:2}Local.()\nSystem.destroy(__,)\nSystem.destroy(array, result, _, sum)",Objects:'Object.new("List")\n:: declare a new object with the above syntax\n\n:: objects in MSNScript have attributes and methods\n:: add attributes with the below syntax\nlist = []\nList.setattr("list", list)\n\n:: methods are not unique to each object as of MSNScript 1.0\n~size()->result\n>    List.getattr("list")->__list\n>    __list.length()->result\n\n:: add methods to an object with the below syntax\nList.has("size")\n\n:: invoke object methods with the below syntax\nList.size()->result\nassert result && 0\n\n~append(item)->success\n>    List.getattr("list")->__list\n>    __list.add(item)\n>    List.setattr("list", __list)\nList.has("append")\n\nList.append(5)\nList.append(10)\nList.append(15)\nList.size()->result\nassert result && 3\nprint "List size is {result}"\n\n\n:: as of MSNSCRIPT 1.0, more than one instance of an object cannot be created at once,\n:: object serialization is planned for a future version\n\n:: you can destroy objects with the below syntax\nSystem.destroy(List, __, success, result, item, __list, list, size, append)',FizzBuzz:'\n~fizzbuzz(number)->nothing\n>   mod3 = number % 3 == 0\n>   mod5 = number % 5 == 0\n>   {mod3 && True} {mod5 && True} print "{number} : FizzBuzz"\n>   {mod3 && True} {mod5 && False} print "{number} : Fizz"\n>   {mod3 && False} {mod5 && True} print "{number} : Buzz"\n>   {mod3 && False} {mod5 && False} print "{number}"\n{1:20:i} Local.fizzbuzz(i)\n\nSystem.destroy(fizzbuzz, i, mod3, mod5, __, number, nothing)'};function hm(){return dm.apply(this,arguments)}function dm(){return(dm=Nt(At().mark((function e(){var t;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.getElementById("out")).value="Preparing Python handler\n\nDo not execute...",e.next=4,window.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.21.0/full/"});case 4:return am=e.sent,e.next=7,am.runPython(cm);case 7:t.value="Ready for execution";case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.addEventListener("load",hm,!1),window.onload=hm();function pm(e){for(var t=document.getElementsByClassName("cm-content");t[0].firstChild;)t[0].removeChild(t[0].firstChild);for(var n=fm[e].split("\n"),r=0;r<n.length;r++){t=document.getElementsByClassName("cm-content")[0];var i=document.createElement("div");i.className="cm-line",i.innerText=n[r],t.appendChild(i)}}function vm(){var e=document.getElementsByClassName("cm-content")[0],t=document.getElementById("out");t.value="Preparing for launch...";for(var n="",r=0;r<e.childNodes.length;r++)"\n"!=e.childNodes[r].innerText&&""!=e.childNodes[r].innerText&&(r!=e.childNodes.length-1?n+=e.childNodes[r].innerText+"|":n+=e.childNodes[r].innerText);var i="sc = "+JSON.stringify(n);console.log(i),am.runPython(i);try{am.runPython("sc = "+JSON.stringify(n)),am.runPython("\n        stdout, linesran, comptime = Interpreter(sc).exe(sc)\n    ")}catch(s){console.log(s),hm()}var o=am.globals.toJs().get("stdout"),a=am.globals.toJs().get("linesran");t.value=o+"\nran "+a+" line(s)\n\n"}var mm=function(){return(0,Ge.jsxs)("div",{className:"msnscript1-div",children:[(0,Ge.jsx)("style",{children:"@import url('https://fonts.googleapis.com/css2?family=Silkscreen:wght@700&display=swap'); @import url('https://fonts.googleapis.com/css2?family=Rubik&display=swap');"}),(0,Ge.jsx)("h1",{className:"msnscript-title",Style:"color: var(--darkpurple); margin-top: 0;",children:"<MSN>"}),(0,Ge.jsx)("h3",{Style:"margin-top: 0; color: gray; font-size: 1rem",children:"stable release 1.0 : 8-19-22"}),(0,Ge.jsxs)("div",{className:"msnscript1-body",children:[(0,Ge.jsx)(Ue,{className:"download-button",to:"/github",Style:"color: white",children:"Back"}),(0,Ge.jsx)(Ue,{className:"download-button",to:"/",Style:"color: white",children:"Home"})]}),(0,Ge.jsxs)("div",{className:"msnscript1-yourself",children:[(0,Ge.jsx)("h4",{Style:"color: gray",children:"Before running code, be sure to start MSNScript's backend handler"}),(0,Ge.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--darkpurple); width: 14rem; height: 3rem; margin: 0; margin-bottom: 3rem",onClick:hm,children:"Start MSNScript Handler"}),(0,Ge.jsxs)("div",{className:"msnscript1-textarea",children:[(0,Ge.jsx)("h4",{Style:"color: gray",children:"Your MSNScript"}),(0,Ge.jsxs)("div",{className:"msnscript1-coding",children:[(0,Ge.jsx)(sm,{className:"msnscript1-code",theme:um,height:"75%",id:"code",value:'print "Hello, World!"',highlightSelectionMatches:{minChars:2,showToken:/Hello/,style:"matchhighlight"}}),(0,Ge.jsxs)("div",{className:"msnscript1-buttons",children:[(0,Ge.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; width: 9rem; margin: 0;",onClick:vm,children:"Execute"}),(0,Ge.jsx)("h4",{Style:"color: gray; margin-top: 2rem",children:"Pre-written code: "}),(0,Ge.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return pm("Integers")},children:"Integers"}),(0,Ge.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return pm("Strings")},children:"Strings"}),(0,Ge.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return pm("Conditions")},children:"Conditions"}),(0,Ge.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return pm("Loops")},children:"Loops"}),(0,Ge.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return pm("Methods")},children:"Functions"}),(0,Ge.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return pm("Arrays")},children:"Arrays"}),(0,Ge.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return pm("Nests")},children:"Nests"}),(0,Ge.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return pm("Objects")},children:"Objects"}),(0,Ge.jsx)("div",{id:"execute",className:"download-button",Style:"color: white; background-color: var(--lightpurple); width: 6rem; height: 2rem; margin: 0; margin-bottom: .5rem",onClick:function(){return pm("FizzBuzz")},children:"FizzBuzz"})]})]})]}),(0,Ge.jsx)("h4",{Style:"color: gray",children:"Out"}),(0,Ge.jsx)("textarea",{id:"out",className:"msnscript1-out",readOnly:!0})]})]})};function gm(e){return(0,Ge.jsxs)("div",{className:"msn2docs-div",children:[(0,Ge.jsx)(Mt,{children:(0,Ge.jsx)("h",{className:"msn2-title",style:{margin:"0 auto",marginBottom:"1rem",marginTop:"30vh"},children:e.title})}),(0,Ge.jsxs)(Mt,{children:[(0,Ge.jsx)("h1",{className:"msn2-ul",style:{color:"white",fontSize:"1.2rem"},children:(0,Ge.jsx)("i",{children:e.subtitle})}),(0,Ge.jsx)("h1",{className:"msn2-ul",style:{color:"white",fontSize:"1.2rem"},children:(0,Ge.jsx)("i",{children:e.subtitle2})})]}),(0,Ge.jsxs)("div",{className:"msn2-top-buttons-div",style:{marginBottom:"50vh"},children:[(0,Ge.jsx)(Mt,{children:(0,Ge.jsx)(Ue,{to:"/",className:"msn2-big-title",style:{color:"white",margin:0,marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Home"})}),(0,Ge.jsx)(Mt,{children:(0,Ge.jsx)(Ue,{to:e.back,className:"msn2-big-title",style:{color:"white",margin:0,marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Directory"})}),(0,Ge.jsx)(Mt,{children:(0,Ge.jsx)(Ue,{to:e.next,className:"msn2-big-title",style:{color:"white",margin:0,marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Next"})})]})]})}function ym(e){return(0,Ge.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,Ge.jsx)("h1",{className:"msn2-ul",style:{fontSize:"2rem",marginLeft:"10vw",marginRight:"10vw"},children:(0,Ge.jsx)("i",{children:e.title})}),(0,Ge.jsx)("p",{className:"msn2-ul",style:{fontSize:"1rem",marginLeft:"10vw",marginRight:"10vw"},children:e.subtitle}),(0,Ge.jsx)("p",{className:"msn2-ul",style:{fontSize:"1rem",marginLeft:"10vw",marginRight:"10vw"},children:e.subtitle2})]})}function bm(){return(0,Ge.jsxs)("div",{className:"msn2-direct-div",children:[(0,Ge.jsx)("h1",{className:"msn2-ul",style:{fontSize:"2rem",margin:"0 auto"},children:(0,Ge.jsx)("i",{children:"Directory"})}),(0,Ge.jsxs)("p",{className:"msn2-ul",style:{fontSize:"1rem",margin:"0 auto"},children:["Find ",(0,Ge.jsx)("i",{children:"MSN2"})," programming assistance here"]}),(0,Ge.jsxs)("div",{className:"msn2-doc-buttons-div",children:[(0,Ge.jsx)(Ue,{to:"/msn2basics",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Basics"}),(0,Ge.jsx)(Ue,{to:"/msn2systemcalls",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"System Calls"}),(0,Ge.jsx)(Ue,{to:"/msn2threads",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Threads"}),(0,Ge.jsx)(Ue,{to:"/msn2apis",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"APIs"}),(0,Ge.jsx)(Ue,{to:"/msn2redirection",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Redirection"}),(0,Ge.jsx)(Ue,{to:"/msn2macros",className:"msn2-big-title",style:{color:"white",margin:"0 auto",marginTop:"4.5vh",marginBottom:"10vh",fontSize:"2rem",textDecoration:"none"},children:"Macros"})]})]})}var km,wm=function(){return(0,Ge.jsxs)("div",{className:"msn2docs-div",children:[(0,Ge.jsx)(gm,{title:"MSN2 Docs",subtitle:"Successor to MSNC and MSN1",subtitle2:"12/28/2022",back:"/github",next:"/msn2basics"}),(0,Ge.jsx)(ym,{title:"MSN2: Your Programming Language",subtitle:"Never before seen syntactical advantages are just waiting to be discovered \r and shared as MSN2 grants you the ability to code as you see fit",subtitle2:"The below documentation features types, conditionals, loops, system calls, user defined functions,\r threads, processes, API requests, posts and deletions, API endpoint hosting with Flask, interpreter redirections, and different macro varieties for adjusting the language"}),(0,Ge.jsx)(bm,{})]})},xm="\n\n# Interpreters MSNScript 2.0\n# Author : Mason Marker\n# Date : 09/15/2022\nimport os\nimport io\nimport math\nimport shutil\nimport random\nimport time\nimport threading\nimport time\nimport logging\nimport socket\nimport sys\nimport subprocess\n\nsys.stdout = io.StringIO()\n\n\n\n# web scraping\n\n\nclass Err:\n    def __init__(self, errorcode):\n        self.errorcode = errorcode\n\n\nclass Var:\n\n    # constructs a new Var\n    def __init__(self, name, value):\n        self.name = name\n        self.value = value\n\n    # determines equality of another Var\n    def __eq__(self, other):\n        if isinstance(other, Var):\n            return other.name == self.name \n\n\n# creates an ai model \n# creates and returns a custom ai model\ndef ai_response(model, prompt, creativity):\n    return openai.Completion.create(\n        model=model,\n        prompt=prompt,\n        temperature=creativity\n    ).choices[0].text\n\n\n    \n# global vars\nlock = threading.Lock()\nauxlock = threading.Lock()\n\n# user defined syntax\nsyntax = {}\n\n# user defined enclosing syntax\nenclosed = {}\n\n# user defined macros\nmacros = {}\n\n# user defined post macros\n# aka macros that are defined that the end of a line\npostmacros = {}\n\n# user defined inline syntax\ninlines = {}\n\n# OpenAI model presets\nmodels = {\n    \n    # standard model, answers questions will little to no creativity\n    'basic': {'model': 'text-davinci-003', 'creativity': 0},\n    \n    # creative model, answers questions with creativity\n    'creative': {'model': 'text-davinci-003', 'creativity': 0.5},\n    \n    # advanced model, answers questions with high creativity\n    'advanced': {'model': 'text-davinci-003', 'creativity': 1}\n    \n}\n\n\n# accounting information\nlines_ran = []\ntotal_ints = 0\n\n\n\n\n# interprets MSNScript2, should create a new interpreter for each execution iteration\nclass Interpreter:\n\n    # initializer\n    def __init__(self):\n        self.version = 2.0\n        self.lines = []\n        self.out = ''\n        self.log = ''\n        self.errors = []\n\n        self.vars = {}\n        self.methods = {}\n        self.loggedmethod = []\n        self.objects = {}\n        self.calledmethod = None\n\n        self.current_line = 0\n        self.breaking = False\n        self.redirect = None\n        self.redirecting = False\n        self.redirect_inside = []\n        self.imports = set()\n\n        self.thread = None\n        self.threads = {}\n        self.parent = None\n\n        self.openaikey = None\n        self.tokens = 100\n        self.browser_path = None\n        self.serial_1 = 0\n        \n        self.endpoints = {}\n        self.endpoint_datas = {}\n        self.endpoint_path = 'demos/practical/apidata/apitestdata.csv'\n        \n        self.processes = {}\n        self.breaking_return = []\n\n    # executes stored script\n    def execute(self, script):\n\n        # convert script to lines\n        self.lines = list(filter(None, script.split(\"\\n\")))\n\n        # for aggregate syntax support !{}\n        inmultiline = False\n        multiline = ''\n\n        # for block syntax\n        inblock = False\n        p = 0\n\n        for line in self.lines:\n            line = line.strip()\n            if line.startswith(\"::\") or line.startswith(\"#\"):\n                self.current_line += 1\n                continue\n    \n            else:   \n                                    \n                # aggregate syntax !{} (not recommended for most cases)\n                if line.startswith('!{') and line.endswith('}'):\n                    multiline = line[2:-1]\n                    self.interpret(multiline)\n                    multiline = ''\n                elif not inmultiline and line.startswith(\"!{\"):\n                    inmultiline = True\n                    multiline += line[2:]\n                elif inmultiline and line.endswith(\"}\"):\n                    inmultiline = False\n                    multiline += line[0:len(line) - 1]\n                    self.interpret(multiline)\n                    multiline = ''\n                elif inmultiline:\n                    multiline += line\n\n                # block syntax (recommended for most cases)\n                elif not inblock and line.endswith('('):\n                    for c in line:\n                        if c == '(':\n                            p += 1\n                        if c == ')':\n                            p -= 1\n                        multiline += c\n                    inblock = True\n                elif inblock:\n                    for i in range(len(line)):\n                        c = line[i]\n                        if c == '(':\n                            p += 1\n                        if c == ')':\n                            p -= 1\n\n                        # end of syntax met                        \n                        if p == 0:\n                            multiline += line[i:]\n                            inter = multiline\n                            multiline = ''\n                            inblock = False\n                            self.interpret(inter)\n                            break\n                        multiline += c\n                else:\n                    self.interpret(line)\n                \n\n            self.current_line += 1\n        return self.out\n\n    def replace_vars(self, line):\n        boo = line \n        varnames = list(self.vars.keys())\n        varnames = sorted(varnames, key=len, reverse=True)\n        for varname in varnames:\n            \n            try:\n                boo = boo.replace(varname, str(self.get_var(eval('\"' + varname + '\"'))))\n            except:\n                None\n        return boo\n\n\n    # interprets a line    \n    def interpret(self, line, block={}):\n        \n        # acquiring globals\n        global total_ints\n        global lock\n        global auxlock\n        \n        # accounting\n        total_ints += 1\n        lines_ran.append(line)\n\n        # interpreter is breaking\n        if self.breaking:\n            return self.breaking_return\n        \n        # strip line for interpretation\n        try:\n            line = line.strip()\n        except:\n            return\n        l = len(line)\n        \n        # whether the line should immediately continue or not\n        cont = False\n        if line == '':\n            return\n\n        # the below conditions interpret a line based on initial appearances\n        # beneath these conditions will the Interpreter then parse the arguments from the line as a method call\n        \n\n        # new variable setting and modification syntax as of 12/20/2022\n        # iterates to the first '=' sign, capturing the variable name in the\n        # process (as it should)\n        # msn1 fallback\n        if line[0] == '@':\n            line = line[1:]\n            return self.interpret_msnscript_1(line)\n        \n\n        # method-specific line reached\n        if line.startswith('--'):\n            line = line[2:]\n            try:\n                if not self.methods[self.loggedmethod[-1]].ended:\n                    self.methods[self.loggedmethod[-1]].add_body(line)\n            except:\n                None\n            return\n\n        if line.startswith('<<'):\n\n            # parse all text in the line for text surrounded by |\n            funccalls = []\n            infunc = False\n            func = ''\n            for i in range(0, line.rindex('>>')):\n                if line[i] == '|' and not infunc:\n                    infunc = True\n                elif line[i] == '|' and infunc:\n                    infunc = False\n                    funccalls.append(func)\n                    func = ''\n                elif infunc:\n                    func += line[i]\n            for function in funccalls:\n                ret = self.interpret(function)\n                if isinstance(ret, str):\n                    line = line.replace('|' + function + '|', '\"' + str(ret) + '\"')\n                else:\n                    line = line.replace('|' + function + '|', str(ret))\n            line = line[2:-2]\n            try:\n                return eval(line)\n            except:\n                return line\n\n        # embedded MSN2 interpretation macro\n        if line.startswith('<2>'):\n            # parse all text in the line for text surrounded by %\n            funccalls = []\n            infunc = False\n            func = ''\n            for i in range(3, line.rindex('<2>')):\n                if line[i] == '%' and not infunc:\n                    infunc = True\n                elif line[i] == '%' and infunc:\n                    infunc = False\n                    funccalls.append(func)\n                    func = ''\n                elif infunc:\n                    func += line[i]\n\n            # for each msn2 evaluation\n            for function in funccalls:\n                ret = self.interpret(function)\n                if isinstance(ret, str):\n                    line = line.replace('%' + function + '%', '\"' + str(ret) + '\"')\n                else:\n                    line = line.replace('%' + function + '%', str(ret))\n            line = line[3:-3]\n            try:\n                return self.interpret(line)\n            except:\n                try:\n                    return eval(line)\n                except:\n                    return line\n\n        # user defined syntax\n        for key in syntax:\n            if line.startswith(key):\n                return self.run_syntax(key, line)\n\n        # user defined macro\n        for token in macros:\n            if line.startswith(token):\n\n                # variable name\n                varname = macros[token][1]\n                \n                # function to execute\n                function = macros[token][2]\n                \n                val = line[len(token):]\n                                \n                # store extended for user defined syntax\n                self.vars[varname] = Var(varname, val)\n\n                # if the macro returns a value instead of executing a function\n                if len(macros[token]) == 4:\n                    return self.interpret(macros[token][3])\n                    \n                # execute function\n                return self.interpret(function)\n\n        # user defined post macro\n        for token in postmacros:\n            if line.endswith(token):\n\n                # if the macro returns a value instead of executing a function\n                if len(postmacros[token]) == 4:\n                    return postmacros[token][3]\n                varname = postmacros[token][1]\n                function = postmacros[token][2]\n                val = line[0:len(line) - len(token)]\n                self.vars[varname] = Var(varname, val)\n                return self.interpret(function)\n\n        if line[0] == '*':\n            line = self.replace_vars(line[1:])\n            return self.interpret(line)\n\n        # invoking user defined enclosing syntax\n        for key in enclosed:\n            start = enclosed[key][0]\n            end = enclosed[key][1]\n            if line.startswith(start) and line.endswith(end):\n                varname = enclosed[key][2]\n                block = enclosed[key][3]\n                val = line[len(start):len(line) - len(end)]\n                self.vars[varname] = Var(varname, val)\n                return self.interpret(block)\n\n        # checks for active Interpreter redirect request\n        if self.redirecting and not 'stopredirect()' in line.replace(' ', ''):\n            _block = self.redirect[1]\n            self.redirect_inside.append([_block, line])   \n            return self.redirect\n\n        # try base literal\n        try:\n            if not line.startswith('--'):\n                return eval(line)\n        except:\n            None\n\n        func = ''\n        objfunc = ''\n        obj = ''\n        s = 0\n        sp = 0\n        for i in range(l):\n            if cont:\n                continue\n            try:\n                c = line[i]\n            except:\n                break\n            if c == ' ' and s == 0:\n                sp += 1\n                continue\n        \n\n            if c == '.':\n                obj = func\n                func = ''\n                objfunc = ''\n                continue\n\n            # basic method creation\n            if c == '~':\n                    returnvariable = ''\n                    self.loggedmethod.append('')\n                    for j in range(i + 1, len(line)):\n                        if line[j] != ' ':\n                            if line[j] == '(':\n                                args = self.method_args(line, j)\n                                for k in range(args[1], len(line)):\n                                    if line[k] != ' ':\n                                        if line[k] == '-' and line[k + 1] == '>':\n                                            for l in range(k + 2, len(line)):\n                                                if line[l] != ' ':\n                                                    returnvariable += line[l]\n                                break\n                            self.loggedmethod[-1] += line[j]\n                    if self.loggedmethod[-1] not in self.methods.keys():\n                        self.methods[self.loggedmethod[-1]] = self.Method(self.loggedmethod[-1], self)\n                    else:\n                        break\n                    for arg in args[0]:\n                        if arg != '':\n                            self.vars[arg] = None\n                            self.methods[self.loggedmethod[-1]].add_arg(arg)\n                    self.methods[self.loggedmethod[-1]].add_return(returnvariable)\n                    return self.loggedmethod[-1]\n            \n            \n            \n            # interpreting a function\n            elif c == '(':\n\n                mergedargs = ''\n                p = 1\n                l = len(line)\n                for j in range(i + 1, l - 1):\n                    c2 = line[j]\n                    if p == 0:\n                        break\n                    if c2 == '(':\n                        p += 1\n                    if c2 == ')':\n                        p -= 1\n                    mergedargs += c2\n                args = self.get_args(mergedargs)\n                f = len(func)\n\n                # clean function for handling\n                func = func.strip()\n                objfunc = objfunc.strip()\n                            \n                # class attribute / method access\n                if obj in self.vars:\n                    vname = obj\n                    try:\n                        var = self.get_var(vname)\n                    except:\n                        var = self.vars[vname]\n                    try:\n                        object = self.vars[obj].value\n                    except:\n                        object = self.vars[obj]\n                    \n                    try:\n                        if objfunc in object:\n                            if args[0][0] == '':\n                                return object[objfunc]\n                            \n                            # parameter provided, wants to set attribute\n                            param = self.parse(0, line, f, sp, args)[2]\n\n                            self.vars[obj].value[objfunc] = param\n                            return param\n                    except:\n                        None\n                    if objfunc == 'copy':\n                        return object.copy()\n                \n                    if objfunc == 'print':\n                        print(object)\n                        return object\n\n                    if objfunc == 'val':\n                        return object\n\n                    # literal specific methods\n                    # the isinstance branches below indicate mostly  DESCTRUCTIVE methods!\n\n                    # integer specific functions\n                    elif isinstance(object, int) or isinstance(object, float):\n                        \n                        # increases the value of the variable by 1\n                        if objfunc == '++':\n                            self.vars[vname].value += 1\n                            return self.vars[vname].value\n\n                        elif objfunc == '--':\n                            self.vars[vname].value -= 1\n                            return self.vars[vname].value\n\n                        elif objfunc == 'add':\n                            self.vars[vname].value += self.parse(0, line, f, sp, args)[2]\n                            return self.vars[vname].value\n\n                        elif objfunc == 'sub':\n                            self.vars[vname].value -= self.parse(0, line, f, sp, args)[2]\n                            return self.vars[vname].value\n                        \n                        elif objfunc == 'mul':\n                            self.vars[vname].value *= self.parse(0, line, f, sp, args)[2]\n                            return self.vars[vname].value\n\n                        elif objfunc == 'div':\n                            self.vars[vname].value /= self.parse(0, line, f, sp, args)[2]\n                            return self.vars[vname].value\n                        \n                        # test if the value is greater than the argument\n                        elif objfunc == 'greater':\n                            return self.vars[vname].value > self.parse(0, line, f, sp, args)[2]\n\n                        # tests if the value is less than the argument\n                        elif objfunc == 'less':\n                            return self.vars[vname].value < self.parse(0, line, f, sp, args)[2]\n                        \n                        # tests if the value is greater than or equal to the argument\n                        elif objfunc == 'greaterequal':\n                            return self.vars[vname].value >= self.parse(0, line, f, sp, args)[2]\n\n                        # tests if the value is less than or equal to the argument\n                        elif objfunc == 'lessequal':\n                            return self.vars[vname].value <= self.parse(0, line, f, sp, args)[2]\n\n\n                        # more basic functions\n\n                        # string representation of self\n                        elif objfunc == 'str':\n                            return str(self.vars[vname].value)\n\n\n                    # array based functions\n                    elif isinstance(object, list):\n\n                        # adds all arguments to the first argument which should be a variable name\n                        # as a string\n                        if objfunc == 'push' or objfunc == 'append' or objfunc == 'add':\n                            for i in range(len(args)):\n                                self.vars[vname].value.append(self.parse(i, line, f, sp, args)[2])\n                            return self.vars[vname].value\n\n                        # getting at an index\n                        elif objfunc == 'get':\n                            return self.vars[vname].value[self.parse(0, line, f, sp, args)[2]]\n\n                        # sets at an index\n                        elif objfunc == 'set':\n                            self.vars[vname].value[self.parse(0, line, f, sp, args)[2]] = self.parse(1, line, f, sp, args)[2]\n                            return self.vars[vname].value\n                        \n                        # gets the average of this array\n                        elif objfunc == 'avg' or objfunc == 'average':\n                            return sum(self.vars[vname].value) / len(self.vars[vname].value)\n\n                        # inserts all values at an index\n                        if objfunc == 'insert':\n                            \n                            # index to insert\n                            index = self.parse(0, line, f, sp, args)[2]\n                            \n                            # inserts the rest of the arguments, one at a time\n                            for i in range(len(args)):\n                                self.vars[vname].value.insert(index, self.parse(i, line, f, sp, args)[2])\n                            return self.vars[vname].value\n                        \n                        # removes a certain amount of all arguments supplied\n                        if objfunc == 'removen':\n                            count = self.parse(0, line, f, sp, args)[2]\n                            \n                            # removes count amount of the rest of the arguments from the object\n                            for i in range(1, len(args)):\n                                for j in range(count):\n                                    del var[var.index(self.parse(i, line, f, sp, args)[2])]\n                            return object\n\n                        # removes all occurances of each argument from the list\n                        if objfunc == 'remove':\n                            for i in range(len(args)):\n                                while self.parse(i, line, f, sp, args)[2] in var:\n                                    del var[var.index(self.parse(i, line, f, sp, args)[2])]\n                            return object\n                    \n                        # gets a sorted copy of this array\n                        if objfunc == 'sorted':\n                            return sorted(self.vars[vname].value)\n                        \n                        # sorts this array\n                        if objfunc == 'sort':\n                            self.vars[vname].value.sort()\n                            return self.vars[vname].value\n\n                        # gets the length of the array\n                        if objfunc == 'len':\n                            return len(self.vars[vname].value)\n\n                        # gets the index of an item in an array\n                        if objfunc == 'index':\n                            el = self.parse(0, line, f, sp, args)[2]\n                            try:\n                                return self.vars[vname].value.index(el)\n                            except:\n                                return self.vars[vname].index(el)\n\n                        # finds an element in a list\n                        # unlike index(), find returns -1 instead of throwing an\n                        # error\n                        if objfunc == 'find':\n                            return self.vars[vname].value.find(self.parse(0, line, f, sp, args)[2])\n\n\n                    # if the object is a string\n                    elif isinstance(object, str):\n                        \n                        if objfunc == 'add':\n                            for i in range(len(args)):\n                                self.vars[vname].value += self.parse(i, line, f, sp, args)[2]\n                            return self.vars[vname].value\n                        \n                        if objfunc == 'split':\n                            arg = self.parse(0, line, f, sp, args)[2]\n                            try:\n                                return self.vars[vname].value.split(arg)\n                            except:\n                                return self.vars[vname].split(arg)\n\n                        # replaces all instances of the first argument with the second argument\n                        if objfunc == 'replace':\n                            \n                            # what to replace\n                            replacing = self.parse(0, line, f, sp, args)[2]\n                            \n                            # replacing with\n                            wth = self.parse(1, line, f, sp, args)[2]\n                            \n                            if len(args) == 2:\n                                # replaces all instances of replacing with wth\n                                self.vars[vname].value = self.vars[vname].value.replace(replacing, wth)\n                            elif len(args) == 3:\n                                self.vars[vname].value = self.vars[vname].value.replace(replacing, wth, self.parse(2, line, f, sp, args)[2])\n                            \n                            # returns the new string\n                            return self.vars[vname].value\n                           \n                        # strips the value at the variable name \n                        if objfunc == 'strip':\n                            self.vars[vname].value = self.vars[vname].value.strip()\n                            return self.vars[vname].value\n\n                        # obtains a stripped version of itself\n                        if objfunc == 'stripped':\n                            return self.vars[vname].value.strip()\n\n                        # parses an integer from the string\n                        if objfunc == 'int':\n                            return int(self.vars[vname].value)\n                        \n                        # obtains itself\n                        if objfunc == 'self':\n                            try:\n                                return self.vars[vname].value\n                            except:\n                                return self.vars[vname]\n\n                    # if the object is a dictionary\n                    elif isinstance(object, dict):\n                        \n                        # allows for repetitive setting on a multiple indexed dictionary\n                        if objfunc == 'set':\n                            self.vars[vname].value[self.parse(0, line, f, sp ,args)[2]] = self.parse(1, line, f, sp, args)[2]\n                            return self.vars[vname].value\n                        \n                        # first argument is what to set, should be called to_set\n                        # rest of the arguments are the indices at which to index the object and set to_set\n                        if objfunc == 'setn':\n                            \n                            # what to set\n                            to_set = self.parse(0, line, f, sp, args)[2]\n                            \n                            # the rest of the arguments are the indices\n                            # example: dict.setn('im being set', 'index1', 'index2', 'index3', ...)\n                            # should equal: dict['index1']['index2']['index3'] = 'im being set'\n                            \n                            # the object to set\n                            obj = self.vars[vname].value\n\n                            # iterates through the indices\n                            for i in range(1, len(args)):\n                                    \n                                    # if the index is the last one\n                                    if i == len(args) - 1:\n                                        \n                                        # sets the index to to_set\n                                        obj[self.parse(i, line, f, sp, args)[2]] = to_set\n                                    \n                                    # if the index is not the last one\n                                    else:\n                                        \n                                        # sets the object to the index\n                                        obj = obj[self.parse(i, line, f, sp, args)[2]]\n\n                            # returns the object\n                            return self.vars[vname].value\n                        \n                        # recursively gets a value in a dictionary\n                        if objfunc == 'get':\n                            \n                            # the object to get from\n                            obj = self.vars[vname].value\n                                \n                            # iterates through the indices\n                            for i in range(len(args)):\n                                    \n                                # sets the object to the index\n                                obj = obj[self.parse(i, line, f, sp, args)[2]]\n                                \n                            # returns the object\n                            return obj\n\n                # the below conditions interpret a line based on initial appearances\n                # beneath these conditions will the Interpreter then parse the arguments from the line as a method call\n                # request for Interpreter redirect to a block of code\n                # the first argument is \n                if func == 'redirect':\n                    line_vname = self.parse(0, line, f, sp, args)[2]\n                    _block = args[1][0]\n                    \n                    # creates redirect for this interpreter\n                    self.redirect = [line_vname, _block]\n                    self.redirecting = True\n                    return self.redirect\n                        \n                # request for Interpreter redirect cancellation\n                if func == 'stopredirect':\n                    self.redirecting = False\n                    return True\n            \n                # starts the redirection\n                if func == 'startredirect':\n                    ret = None\n                    for _ins in self.redirect_inside:\n                        ins = _ins[0]\n                        _line = _ins[1]\n                        self.vars[self.redirect[0]] = Var(self.redirect[0], _line)\n                        ret = self.interpret(ins)\n                    return ret       \n\n                # alternative to '~' user defined method syntax\n                # example call:\n                # function('sum')\n                elif func == 'function':\n                    \n                    # obtain the name of the function\n                    fname = self.parse(0, line, f, sp, args)[2]\n                    \n                    # obtain line to be added to the method\n                    block = args[1][0]\n                    \n                    # function arguments\n                    \n                    # return variable name\n                    ret = '__unused'\n                    \n                    # create the new Method\n                    new_method = self.Method(fname, self)\n                    \n                    # add the body\n                    new_method.add_body(block)\n                    new_method.add_return(fname + \"__return__\")\n                    \n                    # obtain the rest of the arguments as method args\n                    for i in range(2, len(args)):\n                        # adds variable name as an argument\n                        new_method.add_arg(self.parse(i, line, f, sp, args)[2])\n                    self.methods[fname] = new_method\n                    return fname\n\n                # performs modular arithmetic on the two arguments given\n                elif func == 'mod':\n                    return self.parse(0, line, f, sp, args)[2] % self.parse(1, line, f, sp, args)[2]\n\n                # returns a value to a function\n                # first argument is the function to return to\n                # second argument is the value to return\n                elif func == 'ret':\n                    \n                    # function to return to\n                    fname = self.parse(0, line, f, sp, args)[2]\n                    \n                    # value\n                    value = self.parse(1, line, f, sp, args)[2]\n                    \n                    vname = fname + \"__return__\"\n                    \n                    self.vars[vname].value = value\n\n                # user method execution requested\n                elif func in self.methods.keys():\n                    method = self.methods[func]\n\n                    # create func args \n                    func_args = []    \n\n                    try:                \n                        for i in range(len(args)):\n                            arguments = args[i]\n                            line, as_s, arg = self.parse(i, line, f, sp, args)\n                            func_args.append(arg)\n                            meth_argname = method.args[i]\n                            self.vars[meth_argname] = Var(meth_argname, arg)\n                    except:\n                        l = len(method.args)\n                        if l != 0:\n                            self.err(\"bad arg count\", f\"correct arg count is {l}\", line)\n\n                    # create return variable\n                    ret_name = method.returns[0]\n\n                    if ret_name not in self.vars:\n                        self.vars[ret_name] = Var(ret_name, None)\n\n                    # execute method\n                    method.run(func_args, self)\n                    \n                    try: \n                        return eval(str(self.vars[method.returns[0]].value))\n                    except:\n                        try:\n                            return str(self.vars[method.returns[0]].value)\n                        except:\n                            return str(self.vars[method.returns[0]])\n                \n                # creating a list\n                if func == 'from':\n                    arr = []\n                    if args[0][0] == '':\n                        return arr\n                    for i in range(len(args)):\n                        arr.append(self.parse(i, line, f, sp, args)[2])\n                    return arr\n\n                # creates a dictionary from its arguments\n                # every two arguments \n                # an odd quantity of arguments is impossible\n                if func == 'dictfrom':\n                    d = {}\n                    if args[0][0] == '':\n                        return d\n\n                    # step over arguments in steps of 2\n                    for i in range(0, len(args), 2):\n                        cur = self.parse(i, line, f, sp, args)[2]\n                        nxt = self.parse(i + 1, line, f, sp, args)[2]\n                        d[cur] = nxt\n                    return d\n\n                # splits the first argument by the second argument\n                if func == 'split':\n                    to_split = self.parse(0, line, f, sp, args)[2]               \n                    splitting_by = self.parse(1, line, f, sp, args)[2]     \n                    return to_split.split(splitting_by)\n                \n                # obtains text between the first argument of the second argument\n                if func == 'between':\n                    \n                    # surrounding token\n                    surrounding = self.parse(0, line, f, sp, args)[2]\n                    \n                    # string to analyze\n                    string = self.parse(1, line, f, sp, args)[2]\n                    \n                    funccalls = []\n                    try:\n                        while string.count(surrounding) > 1:\n                            string = string[string.index(surrounding) + len(surrounding):]\n                            funccalls.append(string[:string.index(surrounding)])\n                            string = string[string.index(surrounding) + len(surrounding):]\n                    except: \n                        None\n                        \n                    return funccalls\n                \n                # determines if the argument passed is of the type specified\n                if func == 'isstr':\n                    return isinstance(self.parse(0, line, f, sp, args)[2], str)\n                elif func == 'islist':\n                    return isinstance(self.parse(0, line, f, sp, args)[2], list)\n                elif func == 'isfloat':\n                    return isinstance(self.parse(0, line, f, sp, args)[2], float)\n                elif func == 'isint':\n                    return isinstance(self.parse(0, line, f, sp, args)[2], int)\n                elif func == 'isdict':\n                    return isinstance(self.parse(0, line, f, sp, args)[2], dict)\n\n                # gets the sum of the first argument\n                if func == 'sum':\n                    return sum(self.parse(0, line, f, sp, args)[2])\n                \n                # creates / sets a variable\n                if func == 'var':\n  \n                    # extract varname\n                    varname = self.parse(0, line, f, sp ,args)[2]\n\n                    # extract value\n                    value = self.parse(1, line, f, sp ,args)[2]\n                                        \n                    # add / set variable\n                    self.vars[varname] = Var(varname, value)\n                    return value\n\n                # converts the argument to a list\n                elif func == 'list':\n                    return list(self.parse(0, line, f, sp, args)[2])\n\n                # gets the first argument at the second argument\n                elif func == 'get':\n                    \n                    getting_from = self.parse(0, line, f, sp, args)[2]\n                    index = self.parse(1, line, f, sp, args)[2]\n                    return eval(getting_from[index])\n\n                # determines if a variable exists or not\n                elif func == 'exists':\n                    return self.parse(0, line, f, sp, args)[2] in self.vars\n\n                # gets the length of the first argument\n                elif func == 'len':\n                    line, as_s, arg = self.parse(0, line, f, sp, args)\n                    return len(arg)\n\n                # asserts each argument is True, prints and logs assertion error\n                elif func == 'assert':\n                    for i in range(len(args)):\n                        arguments = args[i]\n                        line, assertion = self.convert_arg(arguments[0], line, f, sp, args)\n                        if not assertion:\n                            failed = ''\n                            for arg in args:\n                                failed += str(arg[0]) + ' '\n                            err = self.err(\"assertion error\", \"\", failed)\n                            self.logg(err, line)\n                            return False\n\n                    return True\n\n\n                # trace capabilities\n                elif obj == 'trace':\n                    if objfunc == 'before':\n                        return lines_ran[len(lines_ran) - self.parse(0, line, f, sp, args)[2]:]\n                    if objfunc == 'this':\n                        return lines_ran[-1] \n                    if objfunc == 'len':\n                        return total_ints\n                    return '<msnint2 class>'\n\n\n                # conditional logic\n                elif func == 'if':\n                    # if condition and blocks arguments              \n                    ifcond_s = args[0][0]\n                    true_block_s = args[1][0]\n\n                    # false block is optional\n                    try:\n                        false_block_s = args[2][0]\n                    except:\n                        false_block_s = None\n                    \n                    ifcond = self.parse(0, line, f, sp ,args)[2]                    \n                    \n                    # if condition is true\n                    if (ifcond):\n                        return self.parse(1, line, f, sp, args)[2]\n\n                    # otherwise false block is executed\n                    if false_block_s:\n                        return self.parse(2, line, f, sp, args)[2]\n                    return False\n\n                # while logic WIPWIPWIPWIPWIP\n                elif func == 'while':\n\n                    # while arguments as strings\n                    whilecond_s = args[0][0]\n                    while_block_s = args[1][0]\n\n                    while (self.interpret(whilecond_s)):\n                        self.interpret(while_block_s)\n                    return True\n\n                 # iteration\n                elif func == 'for':\n\n                    # block to execute\n                    inside = args[3][0]\n\n                    # times to loop\n                    line, as_s, start = self.parse(0, line, f, sp, args)\n                    line, as_s, end = self.parse(1, line, f, sp, args)\n                    line, as_s, loopvar = self.parse(2, line, f, sp, args)\n                    self.vars[loopvar] = Var(loopvar, start)\n                    # regular iteration\n                    if start < end:\n                        for i in range(start, end):\n                            if loopvar in self.vars and self.vars[loopvar].value >= end:\n                                break\n                            self.vars[loopvar] = Var(loopvar, i)\n                            self.interpret(inside)\n                    \n                    # reversed if requested\n                    elif start > end:\n                        for i in reversed(range(end, start)):\n                            if loopvar in self.vars and self.vars[loopvar].value < end:\n                                break\n                            self.vars[loopvar] = Var(loopvar, i) \n                            self.interpret(inside)\n                    return self.vars[loopvar].value\n\n                # executes a block of code for each element in an array\n                elif func == 'each':\n                    \n                    # get array argument\n                    line, as_s, array = self.parse(0, line, f, sp, args)\n            \n                    # get element variable name\n                    line, as_s, element_name = self.parse(1, line, f, sp, args)\n                    block_s = args[2][0]\n\n                    # prepare each element\n                    self.vars[element_name] = Var(element_name, 0)\n\n                    # execute block for each element\n                    for i in range(len(array)):\n                        self.vars[element_name].value = array[i]\n                        self.interpret(block_s)\n                    return array\n\n                # the following provide efficient variable arithmetic\n                elif func == 'add':\n                    line, as_s, first = self.parse(0, line, f, sp, args)\n                    line, as_s, second = self.parse(1, line, f, sp, args)\n\n                    # case array\n                    if isinstance(self.vars[first].value, list):\n                        self.vars[first].value.append(second)\n\n                    # case string or number\n                    else:\n                        self.vars[first].value += second\n                    return self.vars[first].value\n                \n                # performs basic operations on non-variable values\n                elif obj == 'op':\n\n                    # obtains the first argument\n                    arg1 = self.parse(0, line, f, sp, args)[2]\n\n                    # adding\n                    if objfunc == 'append' or objfunc == 'push' or objfunc == 'add':\n                        \n                        # obtain the argument being added\n                        arg2 = self.parse(1, line, f, sp, args)[2]\n\n                        # first argument is an array\n                        if isinstance(arg1, list):\n                            arg1.append(arg2)\n                            return arg1\n                        # otherwise perform '+'\n                        else:\n                            arg1 += arg2\n                            return arg1\n\n                    # performs subtraction\n                    if objfunc == 'sub':\n                        arg1 = self.parse(0, line, f, sp, args)[2]\n                        arg2 = self.parse(1, line, f, sp, args)[2]\n                        return arg1 - arg2\n                    \n\n                    return '<msnint2 class>'\n\n                # more support for functions\n                elif obj == 'function':\n                    \n                    fname = self.parse(0, line, f, sp, args)[2]\n\n                    # adds a line of code to a function / method's body\n                    if objfunc == 'addbody':\n                        _body = self.parse(1, line, f, sp, args)[2]\n \n                        self.methods[fname].add_body(_body)\n                        return fname\n\n                    # adds an argument to a function\n                    if objfunc == 'addarg':\n\n                        arg = self.parse(1, line, f, sp, args)[2]\n\n                        self.methods[fname].add_arg(arg)\n                        return fname\n\n                    # adds a return variable to this function\n                    if objfunc == 'addreturn':\n                        retvar = self.parse(1, line, f, sp, args)[2]\n\n                        self.methods[fname].add_return(retvar)\n                        return fname\n\n                    return '<msnint2 class>'\n\n\n\n                elif func == 'sub':\n                    line, as_s, first = self.parse(0, line, f, sp, args)\n                    line, as_s, second = self.parse(1, line, f, sp, args)\n                    self.vars[first].value -= second\n                    return self.vars[first].value\n                elif func == 'mul':\n                    line, as_s, first = self.parse(0, line, f, sp, args)\n                    line, as_s, second = self.parse(1, line, f, sp, args)\n                    self.vars[first].value *= second\n                    return self.vars[first].value\n                elif func == 'div':\n                    line, as_s, first = self.parse(0, line, f, sp, args)\n                    line, as_s, second = self.parse(1, line, f, sp, args)\n                    self.vars[first].value /= second\n                    return self.vars[first].value\n                \n                # appends to an array variable\n                elif func == 'append':        \n                    \n                    # varname\n                    varname = self.parse(0, line, f, sp, args)[2]    \n                    \n                    # value to append\n                    value = self.parse(1, line, f, sp, args)[2]\n                    \n                    self.vars[varname].value.append(value)\n                    return value    \n\n                # gets at the index specified\n                elif func == '->':\n                    \n                    # array\n                    array = self.parse(0, line, f, sp, args)[2]\n                    \n                    # index\n                    index = self.parse(1, line, f, sp, args)[2]\n                    \n                    return array[index]\n                \n                # gets the MSNScript version of this interpreter\n                elif func == 'version':\n                    return self.version\n\n                # destroys a function or variable\n                elif func == 'destroy':\n                    varname = self.parse(0, line, f, sp, args)[2]\n                    \n                    # deletes all variables or methods that start with '__'\n                    if varname == '__':\n                        for key in list(self.vars):\n                            if key.startswith('__'):\n                                del self.vars[key]\n                        for key in list(self.methods):\n                            if key.startswith('__'):\n                                del self.methods[key]\n                        return True\n                        \n                    if varname in self.vars:\n                        del self.vars[varname]\n                        \n                    elif varname in self.methods:\n                        del self.methods[varname]\n                        \n                    \n                    return True\n\n                # random capabilities\n                elif func == 'random':\n                    # gets a random number between 0 and 1\n                    if len(args) == 1:\n\n                        arg = self.parse(0, line, f, sp, args)[2]\n\n                        return random.random()\n\n                    # random number in range\n                    elif len(args) == 2:\n                        arg = self.parse(0, line, f, sp, args)[2]\n                        arg2 = self.parse(1, line, f, sp, args)[2]\n\n                        return (random.random() * (arg2 - arg)) + arg\n\n                    # random int in range\n                    elif len(args) == 3:\n                        arg = self.parse(0, line, f, sp, args)[2]\n                        arg2 = self.parse(1, line, f, sp, args)[2]\n\n                        return math.floor((random.random() * (arg2 - arg)) + arg)\n\n\n                    return '<msnint2 class>'\n\n                # html parsing simplified\n                elif obj == 'html':\n                    \n                    url = self.parse(0, line, f, sp, args)[2]\n                \n                    # creates a BeautifulSoup object of a url\n                    if objfunc == 'soup':\n                        \n                        response = requests.get(url)\n                        return BeautifulSoup(response.content, 'html5lib')\n                    \n                    # scrapes all html elements from a url\n                    if objfunc == 'from':\n                        \n                        obj_to_add = []\n                        all_elem = self.html_all_elements(url)\n                        for elem in all_elem:                            \n                            obj_to_add.append({'tag': elem.name, 'attrs': elem.attrs, 'text': elem.text} )\n                        return obj_to_add\n                \n                \n                # ai specific usage\n                elif obj == 'ai':\n                    \n                    # verify existence of openai api key\n                    if not openai.api_key:\n                        try:\n                            openai.api_key = os.environ['OPENAI_API_KEY']\n                        except:\n                            raise Exception('OpenAI API key not found. Please set your OPENAI_API_KEY environment variable to your OpenAI API key.')\n                    \n                    # asks openai model a question\n                    # simple ai, see top of file for definition\n                    if objfunc == 'basic':\n                        \n                        # generates an ai response with the basic model\n                        return ai_response(models['basic']['model'], self.parse(0, line, f, sp, args)[2], models['basic']['creativity'])\n                    return '<msnint2 class>'\n                        \n                                            \n\n                        \n                \n                \n                # performs math functions\n                elif obj == 'math':\n\n                    # extract argument\n                    line, as_s, arg = self.parse(0, line, f, sp, args)\n\n                    # perform function\n                    if objfunc == 'abs':\n                        return abs(arg)\n                    elif objfunc == 'ceil':\n                        return math.ceil(arg)\n                    elif objfunc == 'floor':\n                        return math.floor(arg)\n                    elif objfunc == 'round':\n                        return round(arg)\n                    elif objfunc == 'sqrt':\n                        return math.sqrt(arg)\n                    elif objfunc == 'sin':\n                        return math.sin(arg)\n                    elif objfunc == 'cos':\n                        return math.cos(arg)\n                    elif objfunc == 'tan':\n                        return math.tan(arg)\n                    elif objfunc == 'asin':\n                        return math.asin(arg)\n                    elif objfunc == 'acos':\n                        return math.acos(arg)\n                    elif objfunc == 'atan':\n                        return math.atan(arg)\n                    elif objfunc == 'log':\n                        return math.log(arg)\n                    elif objfunc == 'log10':\n                        return math.log10(arg)\n                    elif objfunc == 'log2':\n                        return math.log2(arg)\n                    elif objfunc == 'exp':\n                        return math.exp(arg)\n                    elif objfunc == 'pow':\n                        return math.pow(arg, self.parse(1, line, f, sp, args)[2])\n                    elif objfunc == 'factorial':\n                        return math.factorial(arg)\n                    elif objfunc == 'e':\n                        return math.e\n                    elif objfunc == 'pi':\n                        return math.pi\n                    return '<msnint2 class>'\n                \n                       \n                # defines new syntax, see tests/validator.msn2 for documentation\n                elif func == 'syntax':\n                    \n                    # gets the syntax token\n                    token = self.parse(0, line, f, sp, args)[2]\n                    \n                    # gets the variable name of the between\n                    between = self.parse(1, line, f, sp, args)[2]\n                    \n                    # function that should be executed when the syntax is found\n                    function = args[2][0]\n                    \n                    return self.add_syntax(token, between, function)\n                \n                # creates a new enclosed syntax that should execute the block\n                # specified on the line by which it was created\n                elif func == 'enclosedsyntax':\n\n                    start = self.parse(0, line, f, sp, args)[2]\n                    end = self.parse(1, line, f, sp, args)[2]\n                    varname = self.parse(2, line, f, sp, args)[2]\n\n                    index = str(start) + 'msnint2_reserved' + str(end)\n                    enclosed[index] = [start, end, varname, args[3][0]]\n\n                    if len(args) == 5:\n                        enclosed[index].append(self.parse(4, line, f, sp, args)[2])\n                    return enclosed[index]\n\n                # defines a new macro\n                elif func == 'macro':\n                    \n                    token = self.parse(0, line, f, sp, args)[2]\n                    \n                    varname = self.parse(1, line, f, sp, args)[2]\n                    \n                    code = args[2][0]\n                    \n                    macros[token] = [token, varname, code]\n                    \n                    # 4th argument offered as a return value from that macro\n                    # as opposed to a block of code\n                    if len(args) == 4:\n                        macros[token].append(self.parse(3, line, f, sp, args)[2])\n                        \n                    return macros[token]\n                \n                # creates a macro that should be declared at the end of a line\n                elif func == 'postmacro':\n                    \n                    token = self.parse(0, line, f, sp, args)[2]\n                    \n                    varname = self.parse(1, line, f, sp, args)[2]\n                    \n                    code = args[2][0]\n                    \n                    postmacros[token] = [token, varname, code]\n                        \n                    # same as macro\n                    if len(args) == 4:\n                        postmacros[token].append(self.parse(3, line, f, sp, args)[2])\n\n                    return postmacros[token]\n                \n                # creates an inline syntax that allows for value replacement\n                # within a line\n                # this is different from the above system calls because this\n                # syntax is invoked and returned as a value which will replace\n                # the invocation within the line\n                # arguments are the same as enclosedsyntax\n                #\n                # WIPWIPWIPWIPWIP\n                elif func == 'inlinesyntax':\n                    start = self.parse(0, line, f, sp, args)[2]\n                    end = self.parse(1, line, f, sp, args)[2]\n                    varname = self.parse(2, line, f, sp, args)[2]\n\n                    index = str(start) + 'msnint2_reserved' + str(end)\n\n                    inlines[index] = [start, end, varname, args[3][0]]\n\n                    if len(args) == 5:\n                        inlines[index].append(self.parse(4, line, f, sp, args)[2])\n                    return inlines[index]\n\n                  \n                # performs object based operations\n                elif obj == 'var':\n                    \n                    # determines if all variables passed are equal\n                    if objfunc == 'equals':\n                        firstvar = self.vars[self.parse(0, line, f, sp, args)[2]].value\n                        for i in range(1, len(args)):\n                            if firstvar != self.vars[self.parse(i, line, f, sp, args)[2]].value:\n                                return False\n                        return True\n                    return '<msnint2 class>'\n                \n                # gets the value of a variable\n                elif func == 'val':\n                    \n                    # gets the variable name\n                    varname = self.parse(0, line, f, sp, args)[2]\n                    \n                    try:\n                        return self.vars[varname].value\n                    except:\n                        return self.vars[varname]\n                    \n                # gets a sorted version of the array \n                elif func == 'sorted':\n                    return sorted(self.parse(0, line, f, sp, args)[2])\n                    \n                    \n                # performs file-specific operations\n                elif obj == 'file':\n                    \n                    # creates a file\n                    if objfunc == 'create':\n                        lock.acquire()\n                        line, as_s, filename = self.parse(0, line, f, sp, args)\n                        open(filename, 'w').close()\n                        lock.release()\n                        return True\n                    \n                    # reads text from a file\n                    if objfunc == 'read':\n                        lock.acquire()\n                        file = open(self.parse(0, line, f, sp, args)[2], \"r\")\n                        contents = file.read()\n                        file.close()\n                        lock.release()\n                        return contents\n                    \n                    # writes to a file\n                    if objfunc == 'write':\n                        lock.acquire()\n                        file = open(self.parse(0, line, f, sp, args)[2], \"w\")\n                        towrite = self.parse(1, line, f, sp, args)[2]\n                        file.write(towrite)\n                        file.close()\n                        lock.release()\n                        return towrite\n                    \n                    # writes the argument as code\n                    if objfunc == 'writemsn':\n                        lock.acquire()\n                        file = open(self.parse(0, line, f, sp, args)[2], \"w\")\n                        towrite = args[1][0]\n                        file.write(towrite)\n                        lock.release()\n                        return towrite\n                    \n                    # clears a file of all text\n                    if objfunc == 'clear':\n                        lock.acquire()\n                        file = open(self.parse(0, line, f, sp, args)[2], \"w\")\n                        file.write(\"\")\n                        file.close()\n                        lock.release()\n                        return True\n                    \n                    # appends to a file \n                    if objfunc == 'append':\n                        lock.acquire()\n                        file = open(self.parse(0, line, f, sp, args)[2], \"a\")\n                        towrite = self.parse(1, line, f, sp, args)[2]\n                        file.write(towrite)\n                        file.close()\n                        lock.release()\n                        return towrite\n                    \n                    # deletes a file\n                    if objfunc == 'delete':\n                        lock.acquire()\n                        deleting = self.parse(0, line, f, sp, args)[2]\n                        try:\n                            os.remove(deleting)\n                        except:\n                            None\n                        lock.release()\n                        return deleting\n                    \n                    # renames a file\n                    if objfunc == 'rename':\n                        lock.acquire()\n                        old = self.parse(0, line, f, sp, args)[2]\n                        new = self.parse(1, line, f, sp, args)[2]\n                        os.rename(old, new)\n                        lock.release()\n                        return new\n                    \n                    # copies a file\n                    if objfunc == 'copy':\n                        lock.acquire()\n                        old = self.parse(0, line, f, sp, args)[2]\n                        new = self.parse(1, line, f, sp, args)[2]\n                        shutil.copy(old, new)\n                        lock.release()\n                        return new\n                    \n                    # moves a file\n                    if objfunc == 'move':\n                        lock.acquire()\n                        old = self.parse(0, line, f, sp, args)[2]\n                        new = self.parse(1, line, f, sp, args)[2]\n                        shutil.move(old, new)\n                        lock.release()\n                        return new\n                    \n                    # determines if a file exists\n                    if objfunc == 'exists':\n                        lock.acquire()\n                        exists = os.path.exists(self.parse(0, line, f, sp, args)[2])\n                        lock.release()\n                        return exists\n                    \n                    # determines if a file is a directory\n                    if objfunc == 'isdir':\n                        lock.acquire()\n                        isdir = os.path.isdir(self.parse(0, line, f, sp, args)[2])\n                        lock.release()\n                        return isdir\n                    \n                    # determines if a file is a file\n                    if objfunc == 'isfile':\n                        lock.acquire()\n                        isfile = os.path.isfile(self.parse(0, line, f, sp, args)[2])\n                        lock.release()\n                        return isfile\n                    \n                    # lists files in a directory\n                    if objfunc == 'listdir':\n                        lock.acquire()\n                        try:\n                            listdir = os.listdir(self.parse(0, line, f, sp, args)[2])\n                            lock.release()\n                            return listdir\n                        except FileNotFoundError:\n                            \n                            # directory doesn't exist\n                            lock.release()\n                            return None\n                    \n                    # makes a directory\n                    if objfunc == 'mkdir':\n                        lock.acquire()\n                        try:\n                            made = os.mkdir(self.parse(0, line, f, sp, args)[2])\n                            lock.release()\n                            return made\n                        except FileExistsError:\n                            lock.release()\n                            return False\n                    \n                    # removes a directory\n                    if objfunc == 'rmdir':\n                        lock.acquire()\n                        try:\n                            rm = os.rmdir(self.parse(0, line, f, sp, args)[2])\n                            lock.release()\n                            return rm\n                        except OSError:\n                            lock.release()\n                            return None\n                                        \n                    # gets the current working directory\n                    if objfunc == 'getcwd':\n                        lock.acquire()\n                        cwd = os.getcwd()\n                        lock.release()\n                        return cwd\n                    \n                    # gets the size of a file\n                    if objfunc == 'getsize':\n                        lock.acquire()\n                        size = os.path.getsize(self.parse(0, line, f, sp, args)[2])\n                        lock.release()\n                        return size\n                        \n                    # deletes all files and directories within a directory\n                    if objfunc == 'emptydir':\n                        lock.acquire()\n                        directory = self.parse(0, line, f, sp, args)[2]\n                        try:\n                            for file in os.listdir(directory):\n                                try:\n                                    os.remove(os.path.join(directory, file))\n                                except:\n                                    shutil.rmtree(os.path.join(directory, file), ignore_errors=True)\n                            lock.release()\n                            return directory\n                        except FileNotFoundError:\n                            \n                            # directory doesn't exist\n                            lock.release()\n                            return None\n\n                # performs math operations\n                elif obj == 'math':\n                    if objfunc == 'add':\n                        return self.parse(0, line, f, sp, args)[2] + self.parse(1, line, f, sp, args)[2]\n                    \n                    if objfunc == 'subtract':\n                        return self.parse(0, line, f, sp, args)[2] - self.parse(1, line, f, sp, args)[2]\n                    \n                    if objfunc == 'multiply':\n                        return self.parse(0, line, f, sp, args)[2] * self.parse(1, line, f, sp, args)[2]\n                    \n                    if objfunc == 'divide':\n                        return self.parse(0, line, f, sp, args)[2] / self.parse(1, line, f, sp, args)[2]\n                    \n                    if objfunc == 'power':\n                        return self.parse(0, line, f, sp, args)[2] ** self.parse(1, line, f, sp, args)[2]\n                    \n                    if objfunc == 'root':\n                        return self.parse(0, line, f, sp, args)[2] ** (1 / self.parse(1, line, f, sp, args)[2])\n                    \n                    if objfunc == 'mod':\n                        return self.parse(0, line, f, sp, args)[2] % self.parse(1, line, f, sp, args)[2]\n                    \n                    if objfunc == 'floor':\n                        return math.floor(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'ceil':\n                        return math.ceil(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'round':\n                        return round(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'abs':\n                        return abs(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'sin':\n                        return math.sin(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'cos':\n                        return math.cos(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'tan':\n                        return math.tan(self.parse(0, line, f, sp, args)[2])\n                    \n                    if objfunc == 'asin':\n                        return math.asin(self.parse(0, line, f, sp, args)[2])\n                    return '<msnint2 class>'\n                    \n                # gets the type of the first argument passed\n                elif func == 'type':\n                    return type(self.parse(0, line, f, sp, args)[2])\n                 \n                # gets the parent context\n                elif func == 'parent':\n                    return self.parent\n                \n                # gets the booting context\n                elif func == 'boot':\n                    while self.parent != None:\n                        self = self.parent\n                    return self\n                \n                # sets an index of an array\n                # first argument is the variable to modify\n                # second is the index to modify\n                # third argument is the value to set\n                elif func == 'set':\n\n                    # obtain varname of array\n                    varname = self.parse(0, line, f, sp, args)[2]\n\n                    # index to set at\n                    ind = self.parse(1, line, f, sp, args)[2]\n\n                    # value to set\n                    val = self.parse(2, line, f, sp, args)[2]\n                    \n                    # perform set operation                                                      \n                    self.vars[varname].value[ind] = val\n                        \n                    return val\n\n                # deletes a variable\n                elif func == 'del':\n                    for i in range(len(args)):\n                        line, as_s, first = self.parse(i, line, f, sp, args)\n                        del self.vars[first]\n                    return True\n\n                # concatinates two strings\n                elif func == 'cat':\n                    \n                    # first argument (required)\n                    first = self.parse(0, line, f, sp, args)[2]\n\n                    # second argument (required)\n                    second = self.parse(1, line, f, sp ,args)[2]\n                    \n                    cat = str(first) + str(second)\n                    \n                    # concatinate rest of arguments\n                    for i in range(2, len(args)):\n                        cat += str(self.parse(i, line, f, sp, args)[2])\n\n                    return cat\n\n                # determines equality of all arguments\n                elif func == 'equals':\n                    line, as_s, arg1 = self.parse(0, line, f, sp, args)\n                    for i in range(1, len(args)):\n                        line, as_s, curr_arg = self.parse(i, line, f, sp, args)\n                        if curr_arg != arg1:\n                            return False\n                    return True\n\n                # nots a bool\n                elif func == 'not':\n                    return not self.parse(0, line, f, sp, args)[2]\n\n                # ands two bools\n                elif func == 'and':\n                    first = self.parse(0, line, f, sp, args)[2]\n                    for i in range(1, len(args)):\n                        if not first and self.parse(i, line, f, sp ,args)[2]:\n                            return False\n                    return True\n\n                # ors two bools\n                elif func == 'or':\n                    return self.parse(0, line, f, sp, args)[2] or self.parse(1, line, f, sp ,args)[2]\n\n                # inline function, takes any amount of instructions\n                # returns the result of the last instruction\n                elif func == \"=>\":\n                    ret = None\n                    for i in range(len(args)):\n                        arguments = args[i]\n\n                        # current instruction\n                        ins_s = arguments[0]\n\n                        line, ret = self.convert_arg(ins_s, line, f, sp, args)\n                    return ret\n\n                # data structure for holding multiple items\n                elif func == 'class':\n                    # new interpreter\n                    inter = Interpreter()\n                    \n                    # log self\n                    inter.parent = self\n                    \n                    # extract class name\n                    name = self.parse(0, line, f, sp, args)[2]\n\n                    # block at which the class exists\n                    block_s = args[1][0]\n\n                    # execute the block in the private environment\n                    inter.execute(block_s)\n                    \n                    # creates a variable out of the new interpreters resources\n                    obj_to_add = {}\n                    for varname in inter.vars.keys():\n                        val = inter.vars[varname].value\n                        obj_to_add[varname] = Var(varname, val)\n                    \n                    for methodname in inter.methods:\n                        obj_to_add[methodname] = Var(methodname + \"#method\", inter.methods[methodname])\n                    \n                    self.vars[name] = Var(name, obj_to_add)\n                    return obj_to_add\n\n                # gets the first argument at the second argument\n                elif func == 'get':\n                    iterable = self.parse(0, line, f, sp, args)[2]\n                    index = self.parse(1, line, f, sp, args)[2]\n                    return iterable[index]\n\n                # get the keys of the first argument\n                elif func == 'keys':\n                    return self.parse(0, line, f, sp, args)[2].keys()\n\n                # imports resources from another location\n                elif func == 'import' or func == 'launch' or func == 'include' or func == 'using':\n                    \n                    line, as_s, path = self.parse(0, line, f, sp, args)\n                    if path in self.imports:\n                        continue\n                    self.imports.add(path)\n                    contents = ''\n                    with open(path) as f:\n                        contents = f.readlines()\n                        script = ''\n                        for line in contents:\n                            script += line\n                        self.logg(\"importing library\", str(args[0][0]))\n                        self.execute(script)\n                    return\n\n                # interpreter printing mechanism\n                elif func == 'prnt':\n                    for i in range(len(args)):\n                        arguments = args[i]\n                        first = self.interpret(arguments[0])\n                        srep = str(first)\n                        line = line[:f + sp + arguments[1] + 1] + srep + line[f + sp + arguments[2]+ 1:]\n                        if i != len(args) - 1:\n                            self.out += srep + ' '\n                        else:\n                            self.out += srep + '\\n'\n                    return first\n\n                # python print\n                elif func == 'print':\n                    ret = None\n                    for i in range(len(args)):\n                        ret = self.parse(i, line, f, sp, args)[2]\n                        if i != len(args) - 1:\n                            print(ret, end=\" \", flush=True)\n                        else:\n                            print(ret, flush=True)\n                    return ret\n\n                # sleeps the thread for the first argument amount of seconds\n                elif func == \"sleep\":\n                    return time.sleep(self.parse(0, line, f, sp, args)[2])\n\n                # returns this interpreter\n                elif func == 'me':\n                    return self.me()\n\n                # provides a representation of the current environment\n                elif func == 'env':\n                    should_print_s = args[0][0]\n                    line, should_print = self.convert_arg(should_print_s, line, f, sp, args)\n                    strenv = ''                        \n                    strenv += \"--------- environment ---------\"\n                    strenv += \"\\nout:\\n\" + self.out\n                    strenv += \"\\nvariables:\\n\"\n                    for varname, v in self.vars.items():\n                        try:\n                            strenv += \"\\t\" + varname + \" = \" + str(v.value) + '\\n'\n                        except:\n                            None\n\n                    strenv += \"\\nmethods:\\n\"\n                    # printing methods\n                    for methodname, Method in self.methods.items():\n                        strenv += \"\\t\" + methodname + \"(\"\n                        for i in range(len(Method.args)):\n                            arg = Method.args[i]\n                            if i != len(Method.args) - 1:\n                                strenv += \"\" + str(arg) + \", \"\n                            else:\n                                strenv += \"\" + str(arg)\n                        strenv += \")\\n\"\n                        \n\n                    strenv += \"\\nlog:\\n\" + self.log\n                    strenv +=\"\\n-------------------------------\"\n                    if should_print:\n                        print(strenv)\n                    return strenv\n\n                # executes MSNScript2 from its string representation\n                elif func == '-':\n                    line, as_s, string = self.parse(0, line, f, sp, args)\n                    return self.interpret(string)\n\n                # strips a str\n                elif func == 'strip':\n                    return self.parse(0, line, f, sp, args)[2].strip()\n\n                # returns the MSNScript2 passed as a string\n                elif func == 'async':\n                    return args[0][0]\n\n                # gets the current time\n                elif func == 'now':\n                    return time.time()\n\n                # creates a private execution enviroment\n                # private block will have read access to the enclosing Interpreter's\n                # variables and methods\n                elif func == 'private' or func == 'inherit:all':\n                    block_s = args[0][0]\n                    inter = Interpreter()\n                    inter.parent = self\n                    for vname, entry in self.vars.items():\n                        try:\n                            inter.vars[vname] = Var(vname, entry.value)\n                        except:\n                            inter.vars[vname] = Var(vname, entry)\n                    for mname, entry in self.methods.items():\n                        inter.methods[mname] = entry\n                    return inter.interpret(block_s)\n\n                # breaks out of the working context\n                elif func == 'break':\n                    self.breaking = True\n                    return\n\n                # inherits methods only from the parent context\n                elif func == 'inherit:methods':\n                    for methodname in self.parent.methods:\n                        self.methods[methodname] = self.parent.methods[methodname]\n                    return True\n\n                # inherits variables from parent context\n                elif func == 'inherit:vars':\n                    for varname in self.parent.vars:\n                        self.vars[varname] = self.parent.vars[varname]\n                    return True\n\n                # creates a new execution environment\n                # new env is executed by a fresh interpreter\n                # nothing is inherited from parent context\n                elif func == 'new' or func == 'inherit:none':\n                    inter = Interpreter()\n                    inter.parent = self\n                    return inter.interpret(args[0][0])\n\n                # starts a new process with the first argument as the target\n                elif func == 'process':\n                    \n                    # path to the process to run\n                    path = self.parse(0, line, f, sp, args)[2]\n                \n                    # if windows:\n                    if os.name == 'nt':\n                    \n                        # runs the process\n                        sub = subprocess.run (args=['python', 'msn2.py', path], shell=True)\n                        self.processes[path] = sub \n                        return sub\n\n                    # if linux\n                    elif os.name == 'posix':\n                        \n                        return None\n                    return None\n\n\n                # gets the pid of the working process\n                elif func == 'pid':\n                    return os.getpid()\n                \n                # creates a new thread to execute the block, thread\n                # starts on the same interpreter\n                elif func == \"thread\":\n                    name = self.parse(0, line, f, sp, args)[2]\n                    thread = threading.Thread(target=self.interpret, args=(args[1][0],))\n                    thread.name = name\n                    self.threads[name] = [thread, self]\n                    thread.start()\n                    return True\n\n                # acquires the global lock\n                elif func == 'acquire':\n                    return auxlock.acquire()\n                \n                # releases the global lock\n                elif func == 'release':\n                    return auxlock.release()\n                    \n\n                # joins the current working thread with the thread name specified\n                elif func == 'join':\n                    \n                    for i in range(len(args)):\n                        name = self.parse(i, line, f, sp, args)[2]\n                        thread = self.thread_by_name(name)\n                        while thread == None:\n                            None\n                        thread.join()\n                    return True\n                \n                # exits the working thread\n                elif func == 'stop':\n                    \n                    return os._exit(0)\n                            \n                # tries the first argument, if it fails, code falls to the catch/except block\n                # there is no finally implementation\n                elif func == 'try':\n                    ret = None\n                    try:\n                        ret = self.interpret(args[0][0])\n                    except:\n                        try:\n                            catch_block = args[1][0]\n                            ret = self.interpret(catch_block)\n                        except:\n                            None\n                    return ret\n                    \n                # waits for a certain condition to be true\n                elif func == 'wait':\n\n                    # no block per tick provided\n                    if (len(args)) == 1:\n                        while not self.interpret(args[0][0]):\n                            None\n\n                    # block provided\n                    else:\n                        while not self.interpret(args[0][0]):\n                            self.interpret(args[1][0])\n                    return True\n\n                # exports a quantity of variables or methods from the working context to the parent context,\n                # ex private context -> boot context\n                elif func == 'export':\n                    for i in range(len(args)):\n                        varname = self.parse(i, line, f, sp, args)[2]\n                        if varname in self.vars:\n                            self.parent.vars[varname] = self.vars[varname]\n                        elif varname in self.methods:\n                            self.parent.methods[varname] = self.methods[varname]\n                    return True\n\n                # exports a single value as the variable name\n                # first argument is the new variable name\n                # second is the value to export\n                elif func == 'exportas':\n                    \n                    # variable name\n                    varname = self.parse(0, line, f, sp, args)[2]\n\n                    # value\n                    val = self.parse(1, line, f, sp, args)[2]      \n\n                    # export to parent context\n                    self.parent.vars[varname] = Var(varname, val)\n                    return val\n\n                # exports all variables and methods to the parent context\n                elif func == 'exportall':\n                    for varname in self.vars:\n                        self.parent.vars[varname] = self.vars[varname]\n                    for methodname in self.methods:\n                        self.parent.methods[methodname] = self.methods[methodname]\n                    return True\n\n                # sends a command to the console, console type depends on\n                # executors software of course\n                elif func == 'console':\n                    ins_s = args[0][0]\n                    line, to_run = self.convert_arg(ins_s, line, f, sp, args)\n                    os.system(to_run)\n                    return True\n\n                # performs a get request to an http server\n                # first parameter is the URL\n                # second parameter is a map of parameters to sent as a request\n                elif func == 'request':\n                    \n                    # get URL to request from\n                    url = self.parse(0, line, f, sp, args)[2]\n\n                    try:\n                        # get parameters\n                        params = self.parse(1, line, f, sp, args)[2]\n                    except:\n                        params = None\n\n                    response = requests.get(url=url, params=params)\n                    \n                    # return response\n                    return response.json()\n                \n                # requires thread-safe context, see /demos/protected.msn2\n                # simulates returning of the function currently running\n                # should be used cautiously, if you dont know whether to use return() or var()\n                # to return a value, use var()\n                elif func == 'return':\n                    method = self.methods[self.loggedmethod[-1]]\n                    \n                    # evaluate returning literal\n                    line, as_s, ret = self.parse(0, line, f, sp, args)\n\n                    # set return variable\n                    ret_name = method.returns[0]\n\n                    # if not a variable\n                    if ret_name not in self.vars:\n                        self.vars[ret_name] = Var(ret_name, None)\n\n                    self.vars[ret_name].value = ret\n                    return ret\n\n                # gets the public IP address of the machine\n                elif func == 'pubip':\n                    \n                    # asks an api server for this address\n                    return requests.get('https://api.ipify.org').text\n\n                # gets the private ips of this machine\n                elif func == 'privips':\n                    return socket.gethostbyname_ex(socket.gethostname())[2]\n\n                # starts an api endpoint\n                elif func == 'ENDPOINT':\n                    \n                    # initial API endpoint data\n                    path = None\n                    init_data = {}\n                    port = 5000\n                    host = '127.0.0.1'\n                    \n                    # 1 argument, defaults to 127.0.0.1:5000/path = {}\n                    if len(args) == 1:\n                        \n                        # path to endpoint\n                        path = self.parse(0, line, f, sp, args)[2]\n\n                    # 2 arguments, defaults to 127.0.0.1:5000/path = init_data\n                    elif len(args) == 2:\n                    \n                        # path to endpoint\n                        path = self.parse(0, line, f, sp, args)[2]\n                    \n                        # json to initialize at the endpoint\n                        init_data = self.parse(1, line, f, sp, args)[2]\n                    \n                    # 3 arguments, defaults to host:port/path = init_data\n                    elif len(args) == 4:\n                        \n                        # host to endpoint as first argument\n                        host = self.parse(0, line, f, sp, args)[2]\n                        \n                        # port to endpoint as second argument\n                        port = self.parse(1, line, f, sp, args)[2]\n                        \n                        # path to endpoint\n                        path = self.parse(2, line, f, sp, args)[2]\n                        \n                        # json to initialize at the endpoint\n                        init_data = self.parse(3, line, f, sp, args)[2]                        \n                        \n                    \n                    # prepare endpoint\n                    print('serving on http://' + host +':' + str(port) + path)\n                    app = Flask(__name__)\n                    \n                    # disable flask messages that aren't error-related\n                    log = logging.getLogger('werkzeug')\n                    log.disabled = True\n                    app.logger.disabled = True\n                    \n                    # gets Flask Api\n                    api = Api(app)\n                    \n                    # makes a response to itself, carrying data to endpoint as a response\n                    curr_endpoint = self.EndPoint.make_api(init_data)\n                    \n                    # logs newly created endpoint\n                    self.endpoints[path] = api\n                    \n                    # adds class EndPoint as a Resource to the Api with the specific path\n                    # passes arg2 alongside\n                    api.add_resource(curr_endpoint, path)\n                    \n                    # starting flask server\n                    try:\n                        \n                        # if internal\n                        app.run(host=host, port=port, debug=False, use_reloader=False)\n                        \n                    except:\n                        # if external\n                        try:\n                            if __name__ == '__main__':\n                                app.run(host='0.0.0.0', port=port, debug=False, use_reloader=False)\n                        except:\n                            None\n                    return api\n\n                # posts to an api endpoint\n                elif func == 'POST':\n                    \n                    # url to post to, defaults to localhost\n                    host = self.parse(0, line, f, sp, args)[2]\n                    \n                    # port to post to\n                    port = self.parse(1, line, f, sp, args)[2]\n                    \n                    # path after url\n                    path = self.parse(2, line, f, sp, args)[2]\n                    \n                    # data to post\n                    data = self.parse(3, line, f, sp, args)[2]\n\n                    # if local network\n                    if host == '0.0.0.0':\n                        response = requests.post(url=('http://127.0.0.1:' + str(port) + path), json=data)\n                    \n                    # if localhost\n                    else:\n                        # post to endpoint\n                        response = requests.post(url=('http://' + host + ':' + str(port) + path), json=data)\n                    \n                    # get response\n                    return response.json()\n                    \n                # gets from an api endpoint\n                elif func == 'GET':\n                        \n                    # url to get from, defaults to localhost\n                    host = self.parse(0, line, f, sp, args)[2]\n                        \n                    # port to get from\n                    port = self.parse(1, line, f, sp, args)[2]\n                        \n                    # path after url\n                    path = self.parse(2, line, f, sp, args)[2]\n                                            \n                    # if local network\n                    if host == '0.0.0.0':\n                        return requests.get(url=('http://127.0.0.1:' + str(port) + path)).json()\n                    \n                    # if localhost\n                    else:\n                        return requests.get(url=('http://' + host + ':' + str(port) + path)).json()\n\n                            \n                # deletes from an api endpoint\n                elif func == 'DELETE':\n                    \n                    # url to delete from, defaults to localhost\n                    host = self.parse(0, line, f, sp, args)[2]\n                    \n                    # port to delete from\n                    port = self.parse(1, line, f, sp, args)[2]\n                    \n                    # path after url\n                    path = self.parse(2, line, f, sp, args)[2]\n                    \n                    if host == '0.0.0.0':\n                        response = requests.delete(url=('http://127.0.0.1:' + str(port) + path))\n                    else:\n                        # delete from endpoint\n                        response = requests.delete(url=('http://' + host + ':' + str(port) + path))\n                    \n                    return response.json()\n                    \n\n                # determines if the system is windows or not\n                elif func == 'windows':\n                    return os.name == 'nt'\n                \n                # determines if system is linux    \n                elif func == 'linux':\n                    return os.name == 'posix'\n                \n                # determines if system is mac\n                elif func == 'mac':\n                    return sys.platform == 'darwin'\n                \n                # simulates function closure\n                elif func == 'end':\n                    method = self.methods[self.loggedmethod[-1]]\n                    self.loggedmethod.pop()\n                    method.ended = True\n                    return True\n\n                \n                # object instance requested\n                elif func in self.vars:\n\n                    # get classname to create\n                    classname = func\n\n                    # template Var obj to create from\n                    var_obj = self.vars[classname].value\n\n                    # new class instance\n                    instance = {}\n\n                    curr_arg_num = 0\n\n                    # attributes to apply\n                    for name in var_obj:\n\n                        # value can be None\n                        try:\n                            instance[name] = self.parse(curr_arg_num, line, f, sp, args)[2]\n\n                        # if not specified, field is default value\n                        except:\n                            try:\n                                instance[name] = var_obj.value[name].copy()\n                            except:\n                                var = var_obj[name]\n                                instance[name] = var.value\n                        curr_arg_num += 1\n\n                    return instance\n\n                # gets an attribute of an instance of a class\n                elif func == 'getattr':\n                    \n                    # name of the object to pull from\n                    name = self.parse(0, line, f, sp, args)[2]\n\n                    # current working object\n                    o = self.vars[name].value\n\n                    # get attribute to pull\n                    attr = self.parse(1, line, f, sp, args)[2]\n                    return o[attr]\n\n                # sets an attribute of an instance of a class\n                elif func == 'setattr':\n                    \n                    # name of the object to set at\n                    name = self.parse(0, line, f, sp, args)[2]\n\n                    # current working object\n                    o = self.vars[name].value\n\n                    # name of attribute to set\n                    attr = self.parse(1, line, f, sp, args)[2]\n\n                    # value to set\n                    val = self.parse(2, line, f, sp, args)[2]\n\n                    # set the value\n                    o[attr] = val\n                    return val\n\n\n                # functional syntax I decided to add to make loops a tiny bit faster,\n                # cannot receive non literal arguments\n                # syntax:     3|5|i (prnt(i))\n                # prnts 3\\n4\\n5\n                elif func.count('|') == 2:\n                    loop_args = func.split('|')\n                    start = eval(loop_args[0])\n                    end = eval(loop_args[1])\n                    loopvar = loop_args[2]\n\n                    # prepare loop variable\n                    self.vars[loopvar] = Var(loopvar, start)\n\n                    # obtain loop block\n                    block_s = args[0][0]\n\n                    if start < end:\n                        for i in range(start, end):\n                            self.vars[loopvar].value = i\n                            self.interpret(block_s)\n\n                    # reversed iteration\n                    else:\n                        for i in reversed(range(end, start)):\n                            self.vars[loopvar].value = i\n                            self.interpret(block_s)\n                    return\n                \n                # quicker conditional operator as functional prefix\n                elif len(func) > 0 and func[0] == '?':\n                    func = func[1:]\n                    ret = None\n                    if self.interpret(func):\n                        ret = self.interpret(args[0][0])\n                    else:\n\n                        # else block is optional\n                        try:\n                            ret = self.interpret(args[1][0])\n                        except:\n                            None\n                    return ret\n                \n                # fallback\n                else:\n                    try:\n                        line = self.replace_vars2(line)\n                        # python piggyback attempt\n                        \n                        return eval(line)\n                    except:\n                        # maybe its a variable?\n                        try:\n                            return self.vars[line].value\n                        except:\n                            # ok hopefully its a string lol\n                            return line\n  \n  \n            if obj != '':\n                objfunc += c\n            else:\n                func += c\n                \n        \n        try:\n            line = self.replace_vars2(line)\n        except:\n            None\n        try:\n            return eval(line)\n        except:\n            try:\n                return eval(str(self.replace_vars(line)))\n            except:\n                return None\n\n    # adds a new program wide syntax\n    def add_syntax(self, token, between, function):                    \n        syntax[token] = [between, function]\n        return [token, between, function]\n\n    def run_syntax(self, key, line):\n                # get everything between after syntax and before next index of syntax\n                # or end of line\n                inside = line[len(key):line.rindex(key)]\n                \n                # variable name\n                invarname = syntax[key][0]\n                \n                # function to be run\n                function = syntax[key][1]\n                \n                # store the in between for the user function\n                self.vars[invarname] = Var(invarname, inside)\n                \n                return self.interpret(function)\n\n\n\n    def replace_vars2(self, line):\n        for varname, var in self.vars.items():\n                try:\n                    val = var.value\n                except:\n                    try:\n                        val = eval(str(var))\n                    except:\n                        val = str(var)\n                if isinstance(val, str):\n                    val = '\"' + val + '\"'\n                line = line.replace('?'+varname+'?', str(val))\n        return line\n\n    def thread_by_name(self, name):\n        try:\n            # thread exists\n            return self.env_by_name(name)[0]\n        except:\n            \n            # thread does not exist (yet)\n            return None\n\n    def env_by_name(self, name):\n        for threadname in self.threads.keys():\n            if threadname == name:\n                return self.threads[threadname]\n        return None\n\n    def parse(self, arg_number, line, f, sp, args):\n        as_s = args[arg_number][0]\n        line, ret = self.convert_arg(as_s, line, f, sp, args)\n        return line, as_s, ret\n\n    def convert_arg(self, ins_s, line, f, sp ,args):\n        ret = self.interpret(ins_s)\n        return line[:f + sp + args[0][1] + 1] + str(ret) + line[f + sp + args[0][2]+ 1:], ret\n\n    def shell(self):\n        ip = None\n        while ip != 'exit':\n            ip = input(\">>> \")\n            self.interpret(ip)\n\n    def logg(self, msg, line):\n        self.log += \"[*] \" + msg + \" : \" + line + \"\\n\"\n\n    def err(self, err, msg, line):\n        if msg == '':\n            errmsg = \"[-] \" + err + \" : \" + line\n        else:\n            errmsg =  \"[-] \" + err + \" : \" + msg + \" : \" + line\n        self.out += errmsg + \"\\n\"\n        self.log += errmsg + \"\\n\"\n        print (errmsg)\n        return errmsg\n    \n    def __del__(self):\n        None\n    \n    def method_args(self, line, j):\n        argstring = '' \n        instring = False\n        for k in range(j + 1, len(line)):\n            if line[k] == '\"' and not instring:\n                instring = True\n            elif line[k] == '\"' and instring:\n                instring = False\n            if not instring:\n                if line[k] != ' ':\n                    if line[k] == ')':\n                        break\n                    argstring += line[k]\n            else:\n                argstring += line[k]\n        return argstring.split(','), k\n\n    def thread_split(self, line):\n        self.interpret(line)\n\n    # splits a process\n    def process_split(self, line):\n        inter = Interpreter()\n        return inter.interpret(line)\n\n    def var_exists(self, varname):\n        if varname in self.vars:\n            return True\n        return False\n\n    def var_names(self):\n        names = []\n        for key in self.vars:\n            names.append(key)\n        return names\n\n    def is_py_str(self, line):\n        try:\n            return line[0] == '\"' and line[len(line) - 1] == '\"'\n        except:\n            return False\n\n    def is_str(self, line):\n        return line[0] == '<' and line[len(line) - 1] == '>'\n\n    # gets the variable value from the variable name\n    def get_var(self, name):\n        return self.vars[name].value\n\n    # extracts the argument lines from the merged arguments passed\n    def get_args(self, line):\n        args = []\n        l = len(line)\n        arg = ''\n        start = 0\n        p = 0\n        a = 0\n\n        s = 0\n        indouble = False\n\n        s2 = 0\n        insingle = False\n\n        b = 0\n        for i in range(l + 1):\n            c = ''\n            try:\n                c = line[i]\n            except:\n                None\n\n            if c == '[' and not s2 > 0 and not s > 0:\n                a += 1\n            if c == ']' and not s2 > 0 and not s > 0:\n                a -= 1\n\n            if c == '(' and not s2 > 0 and not s > 0:\n                p += 1\n            if c == ')' and not s2 > 0 and not s > 0:\n                p -= 1\n\n            if not self.in_string(s, s2):\n                if c == '{':\n                    b += 1\n                if c == '}':\n                    b -= 1\n\n            if not indouble and not s2 > 0 and c == '\"':\n                s += 1\n                indouble = True\n            elif indouble and c == '\"':\n                s -= 1\n                indouble = False\n\n            if not insingle and not s > 0 and c == \"'\":\n                s2 += 1\n                insingle = True\n            elif insingle and c == \"'\":\n                s2 -= 1\n                insingle = False\n\n            # print(line)\n            # print (f\"\"\"\n            # c: {c}\n            # p: {p}\n            # a: {a}\n            # s: {s}\n            # s2: {s2}\n            \n            # \"\"\")\n\n            if c == ',' and s == 0 and s2 == 0 and  p == 0 and a == 0 and b == 0:\n                args.append([arg, start, start + len(arg)])\n                start = i + 1\n                arg = ''\n                continue\n            elif i == l:\n                args.append([arg, start, start + len(arg)])\n            arg += c\n        return args\n\n    def in_string(self, s, s2):\n        return s > 0 or s2 > 0\n\n    def interpret_msnscript_1(self, line):\n        \n        # parse all text in the line for text surrounded by %\n        funccalls = []\n        infunc = False\n        func = ''\n        for i in range(0, len(line)):\n            if line[i] == '|' and not infunc:\n                infunc = True\n            elif line[i] == '|' and infunc:\n                infunc = False\n                funccalls.append(func)\n                func = ''\n            elif infunc:\n                func += line[i]\n            \n        # for each instance of an msn2 reference    \n        for call in funccalls:\n            line = line.replace('|' + call + '|', str(self.interpret(call)))\n        element = ''\n        variable = ''\n\n        for i in range(0, len(line)):\n            c = line[i]\n            if c != ' ':\n                if c == '+' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n\n                    # if element is a number\n                    if isinstance(element, float) or isinstance(element, int):\n                        self.vars[variable].value += self.interpret(element)\n                    # if element is a string\n                    elif isinstance(element, str):\n                        try:\n                            self.vars[variable].value += self.interpret(element)\n                        except:\n                            self.vars[variable].value += self.interpret(element)\n                                \n                    return self.vars[variable].value\n                elif c == '-' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n                    self.vars[variable].value -= self.interpret(element)\n                    return self.vars[variable].value\n                elif c == '*' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n                    self.vars[variable].value *= self.interpret(element)\n                    return self.vars[variable].value\n                elif c == '/' and line[i + 1] == '=':\n                    variable = element\n                    element = ''\n                    for j in range(i + 2, len(line)):\n                        element += line[j]\n                    self.vars[variable].value /= self.interpret(element)\n                    return self.vars[variable].value\n                elif c == '=':\n                    variable = element\n                    element = ''\n                    string = False\n                    array = False\n                    for j in range(i+1, len(line)):\n                        if line[j] == '\"':\n                            string = True\n                        if line[j] == '[':\n                            array = True                     \n                        element += line[j]\n                    self.vars[variable] = Var(variable, self.interpret(element)) \n                    return self.vars[variable].value\n                \n                elif \"{\" in element and \"}\" in element:\n                    if \":\" not in element:\n                        expression = element.replace(\"{\", '').replace(\"}\", '')\n                        willrun = self.boolean(expression)\n                        \n                        if willrun:\n                            line = line[line.index(\"}\") + 1:]\n                            self.interpret(line)\n                    else:\n                        times = self.loop(element)\n                        first = times[0]\n                        last = times[1]\n                        optvar = times[2]\n                        try:\n                            first = self.vars[first].value\n                        except: \n                            None\n                        try:\n                            last = self.vars[last].value\n                        except:\n                            None\n                        first = int(first)\n                        last = int(last)\n                        self.vars[optvar] = Var(optvar, first)\n                        if first <= last:\n                            for i in range(first, last):\n                                if optvar in self.vars:\n                                    self.vars[optvar].value = i\n                                self.interpret_msnscript_1(line.replace(' ', '').replace(element, ''))\n                        else:\n                            for i in range(last, first):\n                                if optvar != '':\n                                    self.vars[optvar].value = i\n                                self.interpret_msnscript_1(line.replace(' ', '').replace(element, ''))\n                    break\n                elif c == \"&\":\n                    None\n\n                else:\n                    element += c\n\n    def boolean(self, expression):\n        first = ''\n        last = ''\n        op = ''\n        for i in range(0, len(expression)):\n            if  expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] != '-' and expression[i + 2] != '+':\n                for j in range(i + 2, len(expression)):\n                    last += expression[j]\n                op = '==' \n                break\n            elif expression[i] == '!' and expression[i + 1] == '&' and expression[i + 2] == '&'  and expression[i + 3] != '-' and expression[i + 3] != '+':\n                for j in range(i + 3, len(expression)):\n                    last += expression[j]\n                op = '!=' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '-' and expression[i + 3] != 'e':\n                for j in range(i + 3, len(expression)):\n                    last += expression[j]\n                op = '<' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '+' and expression[i + 3] != 'e':\n                for j in range(i + 3, len(expression)):\n                    last += expression[j]\n                op = '>' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '-' and expression[i + 3] == 'e':\n                for j in range(i + 4, len(expression)):\n                    last += expression[j]\n                op = '<=' \n                break\n            elif expression[i] == '&' and expression[i + 1] == '&' and expression[i + 2] == '+' and expression[i + 3] == 'e':\n                for j in range(i + 4, len(expression)):\n                    last += expression[j]\n                op = '>=' \n                break\n            else:\n                first += expression[i]\n        \n        try:\n            firsteval = self.vars[first].value\n        except KeyError:\n            firsteval = self.evaluate(first, 'string')\n\n        try:\n            lasteval = self.vars[last].value\n        except KeyError:\n            lasteval = self.evaluate(last, 'string')\n\n        if op == '==':\n            return firsteval == lasteval\n        if op == '!=':\n            return firsteval != lasteval\n        if op == '<':\n            return firsteval < lasteval\n        if op == '>':\n            return firsteval > lasteval\n        if op == '<=':\n            return firsteval <= lasteval\n        if op == '>=':\n            return firsteval >= lasteval\n        return False\n\n    # scrapes all html elements from a URL\n    def html_all_elements(self, url):\n        \n        # obtains a response from the URL\n        response = requests.get(url)\n        \n        soup = BeautifulSoup(response.content, 'html5lib')\n        \n        # obtains all html elements\n        return soup.find_all()\n        \n        \n\n    def loop(self, section):\n        first = ''\n        last = ''\n        optvar = ''\n        optvarfound = False\n        for i in range(1, len(section)):\n            if section[i] == ':':\n                for j in range(i + 1, len(section)):\n                    if section[j] == ':':\n                        for k in range(j + 1, len(section)):\n                            if section[k] == '}':\n                                optvarfound = True\n                                break\n                            optvar += section[k]    \n                    if section[j] == '}':\n                        break\n                    if optvarfound:\n                        break\n                    last += section[j]\n                break\n            first += section[i]\n        return first, last, optvar\n        \n    def evaluate(self, postop, type):\n        new = postop\n        try:\n            return eval(new)\n        except:\n            None\n        if type == 'number':\n            new = self.replace_vars(new) \n            try:\n                return eval(new)\n            except:\n                return eval(str(new))\n        elif type == 'string':\n            return self.string(postop)\n        elif type == 'array':\n            return self.array(postop)\n        elif type == 'unknown':\n            new = self.replace_vars(new) \n            try:\n                evaluation = eval(str(self.string(new)))\n            except:\n                try:\n                    evaluation = self.array(self.vars[new])\n                except:\n                    try:\n                        evaluation = self.vars[self.string(eval(new))]\n                    except:\n                        try:\n                            evaluation = eval(new)\n                        except:\n                            evaluation = new\n            \n            return evaluation\n\n    def me(self):\n        return str(self).replace(' ', '').replace('<', '').replace('>', '').replace('Interpreter', '')\n\n    def string(self, string):\n        strn = ''\n        isv = False\n        try:\n            string = self.vars[string]\n            isv = True\n        except KeyError:\n            None\n\n        # if isv and '\"' not in string:\n        #     string = '\"' + string + '\"'\n        try:\n            strn = eval(string);\n        except:\n            None\n        try:\n            for var in self.vars:\n                strn = strn.replace(\"{\" + var + \"}\", str(self.vars[var].value))\n            for method in self.methods.keys():\n                toprint = ''\n                body = self.methods[method].body\n                for line in body:\n                    toprint += line + '\\n'\n                strn = strn.replace(\"{\" + method + \"}\", toprint)\n        except:\n            None\n        return strn\n    def array(self, postop):\n        array = []\n        try:\n            array = eval(postop)\n        except:\n            None\n        return array\n\n    class Method:\n            def __init__(self, name, interpreter):\n                self.name = name\n                self.args = []\n                self.body = []\n                self.returns = []\n                self.ended = False\n                self.interpreter = interpreter\n\n            def add_arg(self, arg):\n                self.args.append(arg)\n\n            def add_body(self, body):\n                self.body.append(body)\n\n            def add_return(self, ret):\n                self.returns.append(ret)\n\n            def run(self, args, inter):\n                for i in range(len(self.args)):\n                    try:\n                        inter.vars[self.args[i]] = inter.vars[args[i]]\n                    except:\n                        try: \n                            inter.vars[self.args[i]] = args[i]\n                        except:\n                            inter.vars[self.args[i]] = args[i]\n                for line in self.body:\n                    inter.interpret(line)\n                    \n                    \n                    \n\n\n\n\n\n";function Sm(){return Cm.apply(this,arguments)}function Cm(){return(Cm=Nt(At().mark((function e(){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.21.0/full/"});case 2:return km=e.sent,e.next=5,km.runPython(xm);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.addEventListener("load",Sm,!1),window.onload=Sm();var jm=0;function _m(e){return(0,Ge.jsxs)("div",{className:"msn2-execution-display-div",children:[(0,Ge.jsx)(Am,{codeid:e.executionid,code:e.code,codeheight:e.codeheight}),(0,Ge.jsx)(Em,{executionid:e.executionid}),(0,Ge.jsx)(Mm,{outid:e.executionid,text:"Ready for execution"})]})}function Mm(e){return(0,Ge.jsx)("div",{id:e.outid+"out",className:"msn2-out-div"})}function Em(e){return(0,Ge.jsx)("div",{className:"msn2-execute-button-div",id:e.executionid+"button",onClick:function(){return function(e){jm++;var t=document.getElementById(e+"code").value,n=document.getElementById(e+"out");document.getElementById(e+"button");km.runPython("inter = Interpreter()"),km.runPython("sc = "+JSON.stringify(t)),km.runPython("thisout = inter.execute(sc)");var r=km.runPython("sys.stdout.getvalue()");r.split("\n");if(1==jm){n.innerHTML="\u200e";var i=0,o=setInterval((function(){i<r.length?("\n"==r[i]?n.innerHTML+="<br/>":n.innerHTML+=r[i],i++):(clearInterval(o),jm--)}),Math.max(1,1e3/r.length))}else jm--;km.runPython("sys.stdout.truncate(0)"),km.runPython("sys.stdout.seek(0)")}(e.executionid)},children:"execute"})}function Am(e){return(0,Ge.jsxs)("div",{className:"msn2-code-div",style:{height:e.codeheight},children:[(0,Ge.jsx)("p",{style:{margin:0,padding:0,fontSize:".7rem",marginLeft:"90%",userSelect:"none"},children:"Edit Me!"}),(0,Ge.jsx)("textarea",{id:e.codeid+"code",contentEditable:"true",className:"msn2-code-area",children:e.code})]})}var Tm=function(){return(0,Ge.jsxs)("div",{className:"msn2docs-div",children:[(0,Ge.jsx)(gm,{title:"Basics",subtitle:"Learn the basics!",subtitle2:"Difficulty: Easy",back:"/msn2docs",next:"/msn2systemcalls"}),(0,Ge.jsx)(ym,{title:"Interpretation",subtitle:[(0,Ge.jsx)("i",{children:"MSN2"}),"'s backend is with Python, meaning much of the syntax is similar to Python, and Python fallback is requested if an instruction is not recognized as syntax of",(0,Ge.jsx)("i",{children:"MSN2"}),". However, of course, there are many differences.",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),(0,Ge.jsx)("i",{children:"MSN2"}),"'s base syntax generally interprets code line by line, so there's no need for semicolons.",(0,Ge.jsx)("br",{}),"If a line of base code needs to continue to the next line, the line must be entirely surrounded by !{} (aggregate"," block syntax), OR the initial line must end with a '(', and eventually end with a ')'.",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{})," Example: ",(0,Ge.jsx)("br",{}),(0,Ge.jsx)(_m,{executionid:"ex:aggregate",code:["print('Saying ', end='')\n\n!{print(\n'hello ', end=''\n)}\n\nprint(\n\t'to the','world!')"],codeheight:"11rem"})]}),(0,Ge.jsx)(ym,{title:"Assertions",subtitle:["Assertions are a key component in verifying the correctness of your code.",(0,Ge.jsx)("br",{}),"Assertions are used to verify that a condition is true, and if it is not, an assertion error will be printed, providing details of the error.",(0,Ge.jsx)("br",{}),"assert() takes any amount of arguments separated by a ','. assert() verifies that every argument evaluates to 1.",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),"Find more about assert() in the ",(0,Ge.jsx)("a",{href:"/msn2systemcalls/",children:"system call documentation"}),".",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),(0,Ge.jsx)("i",{children:"Note that the working assertion prints nothing, and the failing assertion prints an error message."}),(0,Ge.jsx)("br",{}),"Example: ",(0,Ge.jsx)("br",{}),(0,Ge.jsx)(_m,{executionid:"ex:assert",code:["assert(True, 1, not 0, not(0), not False)"],codeheight:"3.2rem"}),(0,Ge.jsx)("br",{}),(0,Ge.jsx)(_m,{executionid:"ex:assertfailure",code:["assert(assert(not True))"],codeheight:"3.2rem"})]}),(0,Ge.jsx)(ym,{title:"Layout",subtitle:["The base language is laid out in a way where all instructions can be used as arguments to any function or syntax adjustment.",(0,Ge.jsx)("br",{}),"This means that instructions and syntax intertwining can become very recursive in nature, and",(0,Ge.jsx)("br",{}),"then permits us the ability to program virtually any algorithm with a single line of code.",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),(0,Ge.jsx)(_m,{executionid:"ex:layout",code:["assert(1)\nassert(1, 1)\nassert(1, assert(\n\tassert(\n\t\tassert(\n\t\t\t1\n\t\t),\n\t\tassert(1)\n\t)\n))\n\nassert(1 == 1, 5 in [5], 'hello' in 'hello world')\nassert('key' in {'key': -5438.4382})\nassert(20 - 10 == 10, 5 > 3)"],codeheight:"18rem"})]}),(0,Ge.jsx)(ym,{title:"Comments",subtitle:["Comments are a way to write notes in your code, and are ignored by the interpreter.",(0,Ge.jsx)("br",{}),"Comments are denoted by a #, and should be declared at the beginning of an instruction.",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),"Example: ",(0,Ge.jsx)("br",{}),(0,Ge.jsx)(_m,{executionid:"ex:comment",code:["# prints an assertion result\nprint(assert(1, 1, not 0))"],codeheight:"7rem"})]}),(0,Ge.jsx)(ym,{title:"Environment",subtitle:["You can access a string representation of the environment of your code with the env() system call.",(0,Ge.jsx)("br",{}),"env() can also be found in the ",(0,Ge.jsx)("a",{href:"/msn2systemcalls/",children:"system call documentation"}),".",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),"env() takes 0 or 1 argument, the argument being a boolean as to whether the environment should be printed or not.",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),"Example: ",(0,Ge.jsx)("br",{}),(0,Ge.jsx)(_m,{executionid:"ex:env",code:["env()\nenv(True)"],codeheight:"5rem"})]}),(0,Ge.jsx)(ym,{title:"Variables",subtitle:["Variables are a way to store data in your code, and are used to store data for later use.",(0,Ge.jsx)("br",{}),"Variables are declared with the below syntax: ",(0,Ge.jsx)("br",{}),(0,Ge.jsx)(_m,{executionid:"ex:variable",code:['var("integer", 5)\nenv(True)'],codeheight:"6.3rem"})]}),(0,Ge.jsx)(ym,{title:"Variable manipulation",subtitle:["Variables can be manipulated in various ways.",(0,Ge.jsx)("br",{}),"Variables can be accessed with the val(name) system call, taking a single string argument being the name of the variable.",(0,Ge.jsx)("br",{}),"Variables can also be accessed with the common variable method .val()",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),"Example: ",(0,Ge.jsx)("br",{}),(0,Ge.jsx)(_m,{executionid:"ex:variablemanipulation",code:['var("integer", 5)\n\nprint(val("integer"))\nprint(integer.val())'],codeheight:"8.5rem"})]}),(0,Ge.jsx)(ym,{title:"Variable types",subtitle:["Variables can be of any type, and can be changed at any time.",(0,Ge.jsx)("br",{}),"Variables are of types and behave the same way as those in Python.",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),"You can find type specific methods in the ",(0,Ge.jsx)("a",{href:"/msn2systemcalls/",children:"system call documentation"}),".",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),"Example: ",(0,Ge.jsx)("br",{}),(0,Ge.jsx)(_m,{executionid:"ex:variabletypes",code:['var("integer", 5)\nvar("float", 5.0)\nvar("string", "hello")\nvar("boolean", True)\nvar("list", [1, 2, 3])\nvar("dictionary", {"key": "value"})\nvar("function", lambda x: x + 1)\n\nprint(integer.val(), float.val(), string.val(), boolean.val(), list.val(), dictionary.val(), function.val(5))'],codeheight:"17rem"})]}),(0,Ge.jsx)(ym,{title:"Inline function",subtitle:["Inline functions are a way to create a function in a single line of code.",(0,Ge.jsx)("br",{}),"The inline function system call (=>()), similar to the rest of instructions in the base language, can be used as arguments to any function or syntax adjustment.",(0,Ge.jsx)("br",{}),"The inline function takes any amount of arguments returns the evaluation of its last argument.",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),"Again, you can find methodological documentation of any unknown system call or variable method in the ",(0,Ge.jsx)("a",{href:"/msn2systemcalls/",children:"system call documentation"}),".",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),"Example: ",(0,Ge.jsx)("br",{}),(0,Ge.jsx)(_m,{executionid:"ex:inlinefunction",code:['print(=>(\n\tvar("variable", [1, 2, 3]), \n\tvariable.val()\n))\n\n# simplifying the instruction\nprint(var("variable", [1, 2, 3]))'],codeheight:"10rem"})]}),(0,Ge.jsx)(ym,{title:"Contexts",subtitle:["MSN2 is split into contexts, you can view the context of a certain line of code with the env(should_print) system call.",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),"You can isolate a block of code with the new() or private() system calls, which can be found in the ",(0,Ge.jsx)("a",{href:"/msn2systemcalls/",children:"system call documentation"}),".",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),"In brief, a new context begins with no variables or methods, ",(0,Ge.jsx)("br",{}),"and a private context inherits copies of the variables and methods from the parent context. A private context cannot modify the variables owned by the parent context.",(0,Ge.jsx)("br",{}),(0,Ge.jsx)("br",{}),"Example: ",(0,Ge.jsx)("br",{}),(0,Ge.jsx)(_m,{executionid:"ex:contexts",code:["var(\"global\", 1)\nassert(global.val())\n\n# asserting the global variable is not visible here\nnew(=>(\n\tassert(not(exists(\"global\")))\n))\n\n# asserting the variable is visible here\nprivate(=>(\n\tassert(exists('global')),\n\tvar('private', 0), \n\tglobal.add(5), \n\tassert(equals(global.val(), 6))))\n\n# private variable should not exist\nassert(not(exists('private')))\n\n# global variable should still exist\nassert(exists('global'))\n\n# global variable should still be 1\nassert(equals(global.val(), 1))\nprint('[+] tests passed')"],codeheight:"30rem"})]}),(0,Ge.jsx)(ym,{title:"You've learned the basics! Onto the next topic?",subtitle:[(0,Ge.jsx)(Ue,{to:"/msn2systemcalls",className:"msn2-big-title",style:{color:"white",margin:0,marginTop:"4.5vh",fontSize:"2rem",textDecoration:"none"},children:"Next Topic"})]})]})};var Nm=function(e){var n=e.children,r=xe();return(0,t.useLayoutEffect)((function(){document.documentElement.scrollTo(0,0)}),[r.pathname]),n};i.createRoot(document.getElementById("root")).render((0,Ge.jsx)(qe,{children:(0,Ge.jsx)(Nm,{children:(0,Ge.jsxs)(Be,{children:[(0,Ge.jsx)(Le,{path:"/",element:(0,Ge.jsx)(mt,{})}),(0,Ge.jsx)(Le,{path:"/resume",element:(0,Ge.jsx)(Qe,{})}),(0,Ge.jsx)(Le,{path:"/github",element:(0,Ge.jsx)(Et,{})}),(0,Ge.jsx)(Le,{path:"/msnscript1",element:(0,Ge.jsx)(mm,{})}),(0,Ge.jsx)(Le,{path:"/msn2docs",element:(0,Ge.jsx)(wm,{})}),(0,Ge.jsx)(Le,{path:"/msn2basics",element:(0,Ge.jsx)(Tm,{})})]})})})),gt()}()}();
//# sourceMappingURL=main.9ad59313.js.map